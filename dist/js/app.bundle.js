!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=18)}([function(t,e,n){"use strict";t.exports=n(9)},function(t,e,n){"use strict";n.r(e),function(t,i){n.d(e,"$mobx",(function(){return O})),n.d(e,"FlowCancellationError",(function(){return Se})),n.d(e,"IDerivationState",(function(){return Z})),n.d(e,"ObservableMap",(function(){return bn})),n.d(e,"ObservableSet",(function(){return kn})),n.d(e,"Reaction",(function(){return Gt})),n.d(e,"_allowStateChanges",(function(){return kt})),n.d(e,"_allowStateChangesInsideComputed",(function(){return Ot})),n.d(e,"_allowStateReadsEnd",(function(){return ft})),n.d(e,"_allowStateReadsStart",(function(){return pt})),n.d(e,"_endAction",(function(){return xt})),n.d(e,"_getAdministration",(function(){return Pn})),n.d(e,"_getGlobalState",(function(){return qt})),n.d(e,"_interceptReads",(function(){return Ae})),n.d(e,"_isComputingDerivation",(function(){return ot})),n.d(e,"_resetGlobalState",(function(){return Vt})),n.d(e,"_startAction",(function(){return wt})),n.d(e,"action",(function(){return re})),n.d(e,"autorun",(function(){return ue})),n.d(e,"comparer",(function(){return D})),n.d(e,"computed",(function(){return nt})),n.d(e,"configure",(function(){return me})),n.d(e,"createAtom",(function(){return A})),n.d(e,"decorate",(function(){return ge})),n.d(e,"entries",(function(){return Ve})),n.d(e,"extendObservable",(function(){return ye})),n.d(e,"flow",(function(){return Ce})),n.d(e,"get",(function(){return Ue})),n.d(e,"getAtom",(function(){return Rn})),n.d(e,"getDebugName",(function(){return Nn})),n.d(e,"getDependencyTree",(function(){return be})),n.d(e,"getObserverTree",(function(){return xe})),n.d(e,"has",(function(){return Be})),n.d(e,"intercept",(function(){return De})),n.d(e,"isAction",(function(){return oe})),n.d(e,"isArrayLike",(function(){return b})),n.d(e,"isBoxedObservable",(function(){return Et})),n.d(e,"isComputed",(function(){return Re})),n.d(e,"isComputedProp",(function(){return Pe})),n.d(e,"isFlowCancellationError",(function(){return Oe})),n.d(e,"isObservable",(function(){return Ie})),n.d(e,"isObservableArray",(function(){return yn})),n.d(e,"isObservableMap",(function(){return wn})),n.d(e,"isObservableObject",(function(){return Mn})),n.d(e,"isObservableProp",(function(){return je})),n.d(e,"isObservableSet",(function(){return Tn})),n.d(e,"keys",(function(){return Fe})),n.d(e,"observable",(function(){return X})),n.d(e,"observe",(function(){return We})),n.d(e,"onBecomeObserved",(function(){return de})),n.d(e,"onBecomeUnobserved",(function(){return pe})),n.d(e,"onReactionError",(function(){return Qt})),n.d(e,"reaction",(function(){return he})),n.d(e,"remove",(function(){return ze})),n.d(e,"runInAction",(function(){return se})),n.d(e,"set",(function(){return Le})),n.d(e,"spy",(function(){return te})),n.d(e,"toJS",(function(){return Ge})),n.d(e,"trace",(function(){return Qe})),n.d(e,"transaction",(function(){return Xe})),n.d(e,"untracked",(function(){return lt})),n.d(e,"values",(function(){return qe})),n.d(e,"when",(function(){return Ye}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t}var c=[];Object.freeze(c);var l={};function h(){return++Ft.mobxGuid}function d(t){throw p(!1,t),"X"}function p(t,e){if(!t)throw new Error("[mobx] "+(e||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(l);function f(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var m=function(){};function g(t){return null!==t&&"object"==typeof t}function y(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function v(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function _(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return g(t)&&!0===t[n]}}function b(t){return Array.isArray(t)||yn(t)}function w(t){return t instanceof Map}function x(t){return t instanceof Set}function k(t){var e=new Set;for(var n in t)e.add(n);return Object.getOwnPropertySymbols(t).forEach((function(n){Object.getOwnPropertyDescriptor(t,n).enumerable&&e.add(n)})),Array.from(e)}function T(t){return t&&t.toString?t.toString():new String(t).toString()}function S(t){return null===t?null:"object"==typeof t?""+t:t}var O=Symbol("mobx administration"),C=function(){function t(t){void 0===t&&(t="Atom@"+h()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Z.NOT_TRACKING}return t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.reportObserved=function(){return Kt(this)},t.prototype.reportChanged=function(){Ut(),function(t){if(t.lowestObserverState===Z.STALE)return;t.lowestObserverState=Z.STALE,t.observers.forEach((function(e){e.dependenciesState===Z.UP_TO_DATE&&(e.isTracing!==J.NONE&&Ht(e,t),e.onBecomeStale()),e.dependenciesState=Z.STALE}))}(this),Wt()},t.prototype.toString=function(){return this.name},t}(),E=_("Atom",C);function A(t,e,n){void 0===e&&(e=m),void 0===n&&(n=m);var i=new C(t);return e!==m&&de(i,e),n!==m&&pe(i,n),i}var D={identity:function(t,e){return t===e},structural:function(t,e){return jn(t,e)},default:function(t,e){return Object.is(t,e)},shallow:function(t,e){return jn(t,e,1)}},M=Symbol("mobx did run lazy initializers"),R=Symbol("mobx pending decorators"),P={},N={};function I(t,e){var n=e?P:N;return n[t]||(n[t]={configurable:!0,enumerable:e,get:function(){return j(this),this[t]},set:function(e){j(this),this[t]=e}})}function j(t){var e,n;if(!0!==t[M]){var i=t[R];if(i){v(t,M,!0);var r=u(Object.getOwnPropertySymbols(i),Object.keys(i));try{for(var s=o(r),a=s.next();!a.done;a=s.next()){var c=i[a.value];c.propertyCreator(t,c.prop,c.descriptor,c.decoratorTarget,c.decoratorArguments)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}}}}function F(t,e){return function(){var n,i=function(i,r,o,a){if(!0===a)return e(i,r,o,i,n),null;if(!Object.prototype.hasOwnProperty.call(i,R)){var u=i[R];v(i,R,s({},u))}return i[R][r]={prop:r,propertyCreator:e,descriptor:o,decoratorTarget:i,decoratorArguments:n},I(r,t)};return q(arguments)?(n=c,i.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),i)}}function q(t){return(2===t.length||3===t.length)&&("string"==typeof t[1]||"symbol"==typeof t[1])||4===t.length&&!0===t[3]}function V(t,e,n){return Ie(t)?t:Array.isArray(t)?X.array(t,{name:n}):y(t)?X.object(t,void 0,{name:n}):w(t)?X.map(t,{name:n}):x(t)?X.set(t,{name:n}):t}function L(t){return t}function z(e){p(e);var n=F(!0,(function(t,n,i,r,s){var o=i?i.initializer?i.initializer.call(t):i.value:void 0;On(t).addObservableProp(n,o,e)})),i=(void 0!==t&&t.env,n);return i.enhancer=e,i}var B={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function U(t){return null==t?B:"string"==typeof t?{name:t,deep:!0,proxy:!0}:t}Object.freeze(B);var W=z(V),K=z((function(t,e,n){return null==t||Mn(t)||yn(t)||wn(t)||Tn(t)?t:Array.isArray(t)?X.array(t,{name:n,deep:!1}):y(t)?X.object(t,void 0,{name:n,deep:!1}):w(t)?X.map(t,{name:n,deep:!1}):x(t)?X.set(t,{name:n,deep:!1}):d(!1)})),H=z(L),G=z((function(t,e,n){return jn(t,e)?e:t}));function Q(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?L:V}var $={box:function(t,e){arguments.length>2&&Y("box");var n=U(e);return new Ct(t,Q(n),n.name,!0,n.equals)},array:function(t,e){arguments.length>2&&Y("array");var n=U(e);return dn(t,Q(n),n.name)},map:function(t,e){arguments.length>2&&Y("map");var n=U(e);return new bn(t,Q(n),n.name)},set:function(t,e){arguments.length>2&&Y("set");var n=U(e);return new kn(t,Q(n),n.name)},object:function(t,e,n){"string"==typeof arguments[1]&&Y("object");var i=U(n);if(!1===i.proxy)return ye({},t,e,i);var r=ve(i),s=ye({},void 0,void 0,i),o=rn(s);return _e(o,t,e,r),o},ref:H,shallow:K,deep:W,struct:G},X=function(t,e,n){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return W.apply(null,arguments);if(Ie(t))return t;var i=y(t)?X.object(t,e,n):Array.isArray(t)?X.array(t,e):w(t)?X.map(t,e):x(t)?X.set(t,e):t;if(i!==t)return i;d(!1)};function Y(t){d("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys($).forEach((function(t){return X[t]=$[t]}));var Z,J,tt=F(!1,(function(t,e,n,i,r){var o=n.get,a=n.set,u=r[0]||{};On(t).addComputedProp(t,e,s({get:o,set:a,context:t},u))})),et=tt({equals:D.structural}),nt=function(t,e,n){if("string"==typeof e)return tt.apply(null,arguments);if(null!==t&&"object"==typeof t&&1===arguments.length)return tt.apply(null,arguments);var i="object"==typeof e?e:{};return i.get=t,i.set="function"==typeof e?e:i.set,i.name=i.name||t.name||"",new At(i)};nt.struct=et,function(t){t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE"}(Z||(Z={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(J||(J={}));var it=function(t){this.cause=t};function rt(t){return t instanceof it}function st(t){switch(t.dependenciesState){case Z.UP_TO_DATE:return!1;case Z.NOT_TRACKING:case Z.STALE:return!0;case Z.POSSIBLY_STALE:for(var e=pt(!0),n=ht(),i=t.observing,r=i.length,s=0;s<r;s++){var o=i[s];if(Dt(o)){if(Ft.disableErrorBoundaries)o.get();else try{o.get()}catch(t){return dt(n),ft(e),!0}if(t.dependenciesState===Z.STALE)return dt(n),ft(e),!0}}return mt(t),dt(n),ft(e),!1}}function ot(){return null!==Ft.trackingDerivation}function at(t){var e=t.observers.size>0;Ft.computationDepth>0&&e&&d(!1),Ft.allowStateChanges||!e&&"strict"!==Ft.enforceActions||d(!1)}function ut(t,e,n){var i=pt(!0);mt(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++Ft.runId;var r,s=Ft.trackingDerivation;if(Ft.trackingDerivation=t,!0===Ft.disableErrorBoundaries)r=e.call(n);else try{r=e.call(n)}catch(t){r=new it(t)}return Ft.trackingDerivation=s,function(t){for(var e=t.observing,n=t.observing=t.newObserving,i=Z.UP_TO_DATE,r=0,s=t.unboundDepsCount,o=0;o<s;o++){0===(a=n[o]).diffValue&&(a.diffValue=1,r!==o&&(n[r]=a),r++),a.dependenciesState>i&&(i=a.dependenciesState)}n.length=r,t.newObserving=null,s=e.length;for(;s--;){0===(a=e[s]).diffValue&&zt(a,t),a.diffValue=0}for(;r--;){var a;1===(a=n[r]).diffValue&&(a.diffValue=0,Lt(a,t))}i!==Z.UP_TO_DATE&&(t.dependenciesState=i,t.onBecomeStale())}(t),ft(i),r}function ct(t){var e=t.observing;t.observing=[];for(var n=e.length;n--;)zt(e[n],t);t.dependenciesState=Z.NOT_TRACKING}function lt(t){var e=ht();try{return t()}finally{dt(e)}}function ht(){var t=Ft.trackingDerivation;return Ft.trackingDerivation=null,t}function dt(t){Ft.trackingDerivation=t}function pt(t){var e=Ft.allowStateReads;return Ft.allowStateReads=t,e}function ft(t){Ft.allowStateReads=t}function mt(t){if(t.dependenciesState!==Z.UP_TO_DATE){t.dependenciesState=Z.UP_TO_DATE;for(var e=t.observing,n=e.length;n--;)e[n].lowestObserverState=Z.UP_TO_DATE}}var gt=0,yt=1,vt=Object.getOwnPropertyDescriptor((function(){}),"name");vt&&vt.configurable;function _t(t,e,n){var i=function(){return bt(t,e,n||this,arguments)};return i.isMobxAction=!0,i}function bt(t,e,n,i){var r=wt(t,n,i);try{return e.apply(n,i)}catch(t){throw r.error=t,t}finally{xt(r)}}function wt(t,e,n){var i=0,r=ht();Ut();var s={prevDerivation:r,prevAllowStateChanges:Tt(!0),prevAllowStateReads:pt(!0),notifySpy:!1,startTime:i,actionId:yt++,parentActionId:gt};return gt=s.actionId,s}function xt(t){gt!==t.actionId&&d("invalid action stack. did you forget to finish an action?"),gt=t.parentActionId,void 0!==t.error&&(Ft.suppressReactionErrors=!0),St(t.prevAllowStateChanges),ft(t.prevAllowStateReads),Wt(),dt(t.prevDerivation),t.notifySpy,Ft.suppressReactionErrors=!1}function kt(t,e){var n,i=Tt(t);try{n=e()}finally{St(i)}return n}function Tt(t){var e=Ft.allowStateChanges;return Ft.allowStateChanges=t,e}function St(t){Ft.allowStateChanges=t}function Ot(t){var e,n=Ft.computationDepth;Ft.computationDepth=0;try{e=t()}finally{Ft.computationDepth=n}return e}var Ct=function(t){function e(e,n,i,r,s){void 0===i&&(i="ObservableValue@"+h()),void 0===r&&(r=!0),void 0===s&&(s=D.default);var o=t.call(this,i)||this;return o.enhancer=n,o.name=i,o.equals=s,o.hasUnreportedChange=!1,o.value=n(e,void 0,i),o}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){this.value;if((t=this.prepareNewValue(t))!==Ft.UNCHANGED){0,this.setNewValue(t)}},e.prototype.prepareNewValue=function(t){if(at(this),sn(this)){var e=an(this,{object:this,type:"update",newValue:t});if(!e)return Ft.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?Ft.UNCHANGED:t},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),un(this)&&ln(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return on(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),cn(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return S(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(C),Et=_("ObservableValue",Ct),At=function(){function t(t){this.dependenciesState=Z.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Z.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+h(),this.value=new it(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=J.NONE,p(t.get,"missing option for computed: get"),this.derivation=t.get,this.name=t.name||"ComputedValue@"+h(),t.set&&(this.setter=_t(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?D.structural:D.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return t.prototype.onBecomeStale=function(){!function(t){if(t.lowestObserverState!==Z.UP_TO_DATE)return;t.lowestObserverState=Z.POSSIBLY_STALE,t.observers.forEach((function(e){e.dependenciesState===Z.UP_TO_DATE&&(e.dependenciesState=Z.POSSIBLY_STALE,e.isTracing!==J.NONE&&Ht(e,t),e.onBecomeStale())}))}(this)},t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.get=function(){this.isComputing&&d("Cycle detected in computation "+this.name+": "+this.derivation),0!==Ft.inBatch||0!==this.observers.size||this.keepAlive?(Kt(this),st(this)&&this.trackAndCompute()&&function(t){if(t.lowestObserverState===Z.STALE)return;t.lowestObserverState=Z.STALE,t.observers.forEach((function(e){e.dependenciesState===Z.POSSIBLY_STALE?e.dependenciesState=Z.STALE:e.dependenciesState===Z.UP_TO_DATE&&(t.lowestObserverState=Z.UP_TO_DATE)}))}(this)):st(this)&&(this.warnAboutUntrackedRead(),Ut(),this.value=this.computeValue(!1),Wt());var t=this.value;if(rt(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(rt(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){p(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else p(!1,!1)},t.prototype.trackAndCompute=function(){var t=this.value,e=this.dependenciesState===Z.NOT_TRACKING,n=this.computeValue(!0),i=e||rt(t)||rt(n)||!this.equals(t,n);return i&&(this.value=n),i},t.prototype.computeValue=function(t){var e;if(this.isComputing=!0,Ft.computationDepth++,t)e=ut(this,this.derivation,this.scope);else if(!0===Ft.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(t){e=new it(t)}return Ft.computationDepth--,this.isComputing=!1,e},t.prototype.suspend=function(){this.keepAlive||(ct(this),this.value=void 0)},t.prototype.observe=function(t,e){var n=this,i=!0,r=void 0;return ue((function(){var s=n.get();if(!i||e){var o=ht();t({type:"update",object:n,newValue:s,oldValue:r}),dt(o)}i=!1,r=s}))},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return S(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(),Dt=_("ComputedValue",At),Mt=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED"],Rt=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Pt={};function Nt(){return"undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:Pt}var It=!0,jt=!1,Ft=function(){var t=Nt();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(It=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new Rt).version&&(It=!1),It?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Rt):(setTimeout((function(){jt||d("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Rt)}();function qt(){return Ft}function Vt(){var t=new Rt;for(var e in t)-1===Mt.indexOf(e)&&(Ft[e]=t[e]);Ft.allowStateChanges=!Ft.enforceActions}function Lt(t,e){t.observers.add(e),t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function zt(t,e){t.observers.delete(e),0===t.observers.size&&Bt(t)}function Bt(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,Ft.pendingUnobservations.push(t))}function Ut(){Ft.inBatch++}function Wt(){if(0==--Ft.inBatch){Xt();for(var t=Ft.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof At&&n.suspend())}Ft.pendingUnobservations=[]}}function Kt(t){var e=Ft.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.size&&Ft.inBatch>0&&Bt(t),!1)}function Ht(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===J.BREAK){var n=[];!function t(e,n,i){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(i).join("\t")+e.name),e.dependencies&&e.dependencies.forEach((function(e){return t(e,n,i+1)}))}(be(t),n,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof At?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}var Gt=function(){function t(t,e,n,i){void 0===t&&(t="Reaction@"+h()),void 0===i&&(i=!1),this.name=t,this.onInvalidate=e,this.errorHandler=n,this.requiresObservable=i,this.observing=[],this.newObserving=[],this.dependenciesState=Z.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+h(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=J.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ft.pendingReactions.push(this),Xt())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(Ut(),this._isScheduled=!1,st(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(t){this.reportExceptionInDerivation(t)}}Wt()}},t.prototype.track=function(t){if(!this.isDisposed){Ut();0,this._isRunning=!0;var e=ut(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ct(this),rt(e)&&this.reportExceptionInDerivation(e.cause),Wt()}},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(Ft.disableErrorBoundaries)throw t;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ft.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,t),Ft.globalReactionErrorHandlers.forEach((function(n){return n(t,e)}))}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Ut(),ct(this),Wt()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t[O]=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),Qe(this,t)},t}();function Qt(t){return Ft.globalReactionErrorHandlers.push(t),function(){var e=Ft.globalReactionErrorHandlers.indexOf(t);e>=0&&Ft.globalReactionErrorHandlers.splice(e,1)}}var $t=function(t){return t()};function Xt(){Ft.inBatch>0||Ft.isRunningReactions||$t(Yt)}function Yt(){Ft.isRunningReactions=!0;for(var t=Ft.pendingReactions,e=0;t.length>0;){100==++e&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var n=t.splice(0),i=0,r=n.length;i<r;i++)n[i].runReaction()}Ft.isRunningReactions=!1}var Zt=_("Reaction",Gt);function Jt(t){var e=$t;$t=function(n){return t((function(){return e(n)}))}}function te(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function ee(){d(!1)}function ne(t){return function(e,n,i){if(i){if(i.value)return{value:_t(t,i.value),enumerable:!1,configurable:!0,writable:!0};var r=i.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return _t(t,r.call(this))}}}return ie(t).apply(this,arguments)}}function ie(t){return function(e,n,i){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:function(){},set:function(e){v(this,n,re(t,e))}})}}var re=function(t,e,n,i){return 1===arguments.length&&"function"==typeof t?_t(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?_t(t,e):1===arguments.length&&"string"==typeof t?ne(t):!0!==i?ne(e).apply(null,arguments):void v(t,e,_t(t.name||e,n.value,this))};function se(t,e){return bt("string"==typeof t?t:t.name||"<unnamed action>","function"==typeof t?t:e,this,void 0)}function oe(t){return"function"==typeof t&&!0===t.isMobxAction}function ae(t,e,n){v(t,e,_t(e,n.bind(t)))}function ue(t,e){void 0===e&&(e=l);var n,i=e&&e.name||t.name||"Autorun@"+h();if(!e.scheduler&&!e.delay)n=new Gt(i,(function(){this.track(o)}),e.onError,e.requiresObservable);else{var r=le(e),s=!1;n=new Gt(i,(function(){s||(s=!0,r((function(){s=!1,n.isDisposed||n.track(o)})))}),e.onError,e.requiresObservable)}function o(){t(n)}return n.schedule(),n.getDisposer()}re.bound=function(t,e,n,i){return!0===i?(ae(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return ae(this,e,n.value||n.initializer.call(this)),this[e]},set:ee}:{enumerable:!1,configurable:!0,set:function(t){ae(this,e,t)},get:function(){}}};var ce=function(t){return t()};function le(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:ce}function he(t,e,n){void 0===n&&(n=l);var i,r,s,o=n.name||"Reaction@"+h(),a=re(o,n.onError?(i=n.onError,r=e,function(){try{return r.apply(this,arguments)}catch(t){i.call(this,t)}}):e),u=!n.scheduler&&!n.delay,c=le(n),d=!0,p=!1,f=n.compareStructural?D.structural:n.equals||D.default,m=new Gt(o,(function(){d||u?g():p||(p=!0,c(g))}),n.onError,n.requiresObservable);function g(){if(p=!1,!m.isDisposed){var e=!1;m.track((function(){var n=t(m);e=d||!f(s,n),s=n})),d&&n.fireImmediately&&a(s,m),d||!0!==e||a(s,m),d&&(d=!1)}}return m.schedule(),m.getDisposer()}function de(t,e,n){return fe("onBecomeObserved",t,e,n)}function pe(t,e,n){return fe("onBecomeUnobserved",t,e,n)}function fe(t,e,n,i){var r="function"==typeof i?Rn(e,n):Rn(e),s="function"==typeof i?i:n,o=t+"Listeners";return r[o]?r[o].add(s):r[o]=new Set([s]),"function"!=typeof r[t]?d(!1):function(){var t=r[o];t&&(t.delete(s),0===t.size&&delete r[o])}}function me(t){var e=t.enforceActions,n=t.computedRequiresReaction,i=t.computedConfigurable,r=t.disableErrorBoundaries,s=t.reactionScheduler,o=t.reactionRequiresObservable,a=t.observableRequiresReaction;if(!0===t.isolateGlobalState&&((Ft.pendingReactions.length||Ft.inBatch||Ft.isRunningReactions)&&d("isolateGlobalState should be called before MobX is running any reactions"),jt=!0,It&&(0==--Nt().__mobxInstanceCount&&(Nt().__mobxGlobals=void 0),Ft=new Rt)),void 0!==e){var u=void 0;switch(e){case!0:case"observed":u=!0;break;case!1:case"never":u=!1;break;case"strict":case"always":u="strict";break;default:d("Invalid value for 'enforceActions': '"+e+"', expected 'never', 'always' or 'observed'")}Ft.enforceActions=u,Ft.allowStateChanges=!0!==u&&"strict"!==u}void 0!==n&&(Ft.computedRequiresReaction=!!n),void 0!==o&&(Ft.reactionRequiresObservable=!!o),void 0!==a&&(Ft.observableRequiresReaction=!!a,Ft.allowStateReads=!Ft.observableRequiresReaction),void 0!==i&&(Ft.computedConfigurable=!!i),void 0!==r&&(!0===r&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Ft.disableErrorBoundaries=!!r),s&&Jt(s)}function ge(t,e){var n="function"==typeof t?t.prototype:t,i=function(t){var i=e[t];Array.isArray(i)||(i=[i]);var r=Object.getOwnPropertyDescriptor(n,t),s=i.reduce((function(e,i){return i(n,t,e)}),r);s&&Object.defineProperty(n,t,s)};for(var r in e)i(r);return t}function ye(t,e,n,i){var r=ve(i=U(i));return j(t),On(t,i.name,r.enhancer),e&&_e(t,e,n,r),t}function ve(t){return t.defaultDecorator||(!1===t.deep?H:W)}function _e(t,e,n,i){var r,s;Ut();try{var a=k(e);try{for(var u=o(a),c=u.next();!c.done;c=u.next()){var l=c.value,h=Object.getOwnPropertyDescriptor(e,l);0;var d=(n&&l in n?n[l]:h.get?tt:i)(t,l,h,!0);d&&Object.defineProperty(t,l,d)}}catch(t){r={error:t}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(r)throw r.error}}}finally{Wt()}}function be(t,e){return we(Rn(t,e))}function we(t){var e,n,i={name:t.name};return t.observing&&t.observing.length>0&&(i.dependencies=(e=t.observing,n=[],e.forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),n).map(we)),i}function xe(t,e){return ke(Rn(t,e))}function ke(t){var e={name:t.name};return function(t){return t.observers&&t.observers.size>0}(t)&&(e.observers=Array.from(function(t){return t.observers}(t)).map(ke)),e}var Te=0;function Se(){this.message="FLOW_CANCELLED"}function Oe(t){return t instanceof Se}function Ce(t){1!==arguments.length&&d("Flow expects 1 argument and cannot be used as decorator");var e=t.name||"<unnamed flow>";return function(){var n,i=this,r=arguments,s=++Te,o=re(e+" - runid: "+s+" - init",t).apply(i,r),a=void 0,u=new Promise((function(t,i){var r=0;function u(t){var n;a=void 0;try{n=re(e+" - runid: "+s+" - yield "+r++,o.next).call(o,t)}catch(t){return i(t)}l(n)}function c(t){var n;a=void 0;try{n=re(e+" - runid: "+s+" - yield "+r++,o.throw).call(o,t)}catch(t){return i(t)}l(n)}function l(e){if(!e||"function"!=typeof e.then)return e.done?t(e.value):(a=Promise.resolve(e.value)).then(u,c);e.then(l,i)}n=i,u(void 0)}));return u.cancel=re(e+" - runid: "+s+" - cancel",(function(){try{a&&Ee(a);var t=o.return(void 0),e=Promise.resolve(t.value);e.then(m,m),Ee(e),n(new Se)}catch(t){n(t)}})),u}}function Ee(t){"function"==typeof t.cancel&&t.cancel()}function Ae(t,e,n){var i;if(wn(t)||yn(t)||Et(t))i=Pn(t);else{if(!Mn(t))return d(!1);if("string"!=typeof e)return d(!1);i=Pn(t,e)}return void 0!==i.dehancer?d(!1):(i.dehancer="function"==typeof e?e:n,function(){i.dehancer=void 0})}function De(t,e,n){return"function"==typeof n?function(t,e,n){return Pn(t,e).intercept(n)}(t,e,n):function(t,e){return Pn(t).intercept(e)}(t,e)}function Me(t,e){if(null==t)return!1;if(void 0!==e){if(!1===Mn(t))return!1;if(!t[O].values.has(e))return!1;var n=Rn(t,e);return Dt(n)}return Dt(t)}function Re(t){return arguments.length>1?d(!1):Me(t)}function Pe(t,e){return"string"!=typeof e?d(!1):Me(t,e)}function Ne(t,e){return null!=t&&(void 0!==e?!!Mn(t)&&t[O].values.has(e):Mn(t)||!!t[O]||E(t)||Zt(t)||Dt(t))}function Ie(t){return 1!==arguments.length&&d(!1),Ne(t)}function je(t,e){return"string"!=typeof e?d(!1):Ne(t,e)}function Fe(t){return Mn(t)?t[O].getKeys():wn(t)||Tn(t)?Array.from(t.keys()):yn(t)?t.map((function(t,e){return e})):d(!1)}function qe(t){return Mn(t)?Fe(t).map((function(e){return t[e]})):wn(t)?Fe(t).map((function(e){return t.get(e)})):Tn(t)?Array.from(t.values()):yn(t)?t.slice():d(!1)}function Ve(t){return Mn(t)?Fe(t).map((function(e){return[e,t[e]]})):wn(t)?Fe(t).map((function(e){return[e,t.get(e)]})):Tn(t)?Array.from(t.entries()):yn(t)?t.map((function(t,e){return[e,t]})):d(!1)}function Le(t,e,n){if(2!==arguments.length||Tn(t))if(Mn(t)){var i=t[O],r=i.values.get(e);r?i.write(e,n):i.addObservableProp(e,n,i.defaultEnhancer)}else if(wn(t))t.set(e,n);else if(Tn(t))t.add(e);else{if(!yn(t))return d(!1);"number"!=typeof e&&(e=parseInt(e,10)),p(e>=0,"Not a valid index: '"+e+"'"),Ut(),e>=t.length&&(t.length=e+1),t[e]=n,Wt()}else{Ut();var s=e;try{for(var o in s)Le(t,o,s[o])}finally{Wt()}}}function ze(t,e){if(Mn(t))t[O].remove(e);else if(wn(t))t.delete(e);else if(Tn(t))t.delete(e);else{if(!yn(t))return d(!1);"number"!=typeof e&&(e=parseInt(e,10)),p(e>=0,"Not a valid index: '"+e+"'"),t.splice(e,1)}}function Be(t,e){return Mn(t)?Pn(t).has(e):wn(t)||Tn(t)?t.has(e):yn(t)?e>=0&&e<t.length:d(!1)}function Ue(t,e){if(Be(t,e))return Mn(t)?t[e]:wn(t)?t.get(e):yn(t)?t[e]:d(!1)}function We(t,e,n,i){return"function"==typeof n?function(t,e,n,i){return Pn(t,e).observe(n,i)}(t,e,n,i):function(t,e,n){return Pn(t).observe(e,n)}(t,e,n)}Se.prototype=Object.create(Error.prototype);var Ke={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function He(t,e,n,i){return i.detectCycles&&t.set(e,n),n}function Ge(t,e){var n;return"boolean"==typeof e&&(e={detectCycles:e}),e||(e=Ke),e.detectCycles=void 0===e.detectCycles?!0===e.recurseEverything:!0===e.detectCycles,e.detectCycles&&(n=new Map),function t(e,n,i){if(!n.recurseEverything&&!Ie(e))return e;if("object"!=typeof e)return e;if(null===e)return null;if(e instanceof Date)return e;if(Et(e))return t(e.get(),n,i);if(Ie(e)&&Fe(e),!0===n.detectCycles&&null!==e&&i.has(e))return i.get(e);if(yn(e)||Array.isArray(e)){var r=He(i,e,[],n),s=e.map((function(e){return t(e,n,i)}));r.length=s.length;for(var o=0,a=s.length;o<a;o++)r[o]=s[o];return r}if(Tn(e)||Object.getPrototypeOf(e)===Set.prototype){if(!1===n.exportMapsAsObjects){var u=He(i,e,new Set,n);return e.forEach((function(e){u.add(t(e,n,i))})),u}var c=He(i,e,[],n);return e.forEach((function(e){c.push(t(e,n,i))})),c}if(wn(e)||Object.getPrototypeOf(e)===Map.prototype){if(!1===n.exportMapsAsObjects){var l=He(i,e,new Map,n);return e.forEach((function(e,r){l.set(r,t(e,n,i))})),l}var h=He(i,e,{},n);return e.forEach((function(e,r){h[r]=t(e,n,i)})),h}var d=He(i,e,{},n);return k(e).forEach((function(r){d[r]=t(e[r],n,i)})),d}(t,e,n)}function Qe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!1;"boolean"==typeof t[t.length-1]&&(n=t.pop());var i=$e(t);if(!i)return d(!1);i.isTracing===J.NONE&&console.log("[mobx.trace] '"+i.name+"' tracing enabled"),i.isTracing=n?J.BREAK:J.LOG}function $e(t){switch(t.length){case 0:return Ft.trackingDerivation;case 1:return Rn(t[0]);case 2:return Rn(t[0],t[1])}}function Xe(t,e){void 0===e&&(e=void 0),Ut();try{return t.apply(e)}finally{Wt()}}function Ye(t,e,n){return 1===arguments.length||e&&"object"==typeof e?Je(t,e):Ze(t,e,n||{})}function Ze(t,e,n){var i;"number"==typeof n.timeout&&(i=setTimeout((function(){if(!s[O].isDisposed){s();var t=new Error("WHEN_TIMEOUT");if(!n.onError)throw t;n.onError(t)}}),n.timeout)),n.name=n.name||"When@"+h();var r=_t(n.name+"-effect",e),s=ue((function(e){t()&&(e.dispose(),i&&clearTimeout(i),r())}),n);return s}function Je(t,e){var n;var i=new Promise((function(i,r){var o=Ze(t,i,s(s({},e),{onError:r}));n=function(){o(),r("WHEN_CANCELLED")}}));return i.cancel=n,i}function tn(t){return t[O]}function en(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t}var nn={has:function(t,e){if(e===O||"constructor"===e||e===M)return!0;var n=tn(t);return en(e)?n.has(e):e in t},get:function(t,e){if(e===O||"constructor"===e||e===M)return t[e];var n=tn(t),i=n.values.get(e);if(i instanceof C){var r=i.get();return void 0===r&&n.has(e),r}return en(e)&&n.has(e),t[e]},set:function(t,e,n){return!!en(e)&&(Le(t,e,n),!0)},deleteProperty:function(t,e){return!!en(e)&&(tn(t).remove(e),!0)},ownKeys:function(t){return tn(t).keysAtom.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(t){return d("Dynamic observable objects cannot be frozen"),!1}};function rn(t){var e=new Proxy(t,nn);return t[O].proxy=e,e}function sn(t){return void 0!==t.interceptors&&t.interceptors.length>0}function on(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),f((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function an(t,e){var n=ht();try{for(var i=u(t.interceptors||[]),r=0,s=i.length;r<s&&(p(!(e=i[r](e))||e.type,"Intercept handlers should return nothing or a change object"),e);r++);return e}finally{dt(n)}}function un(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function cn(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),f((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function ln(t,e){var n=ht(),i=t.changeListeners;if(i){for(var r=0,s=(i=i.slice()).length;r<s;r++)i[r](e);dt(n)}}var hn={get:function(t,e){return e===O?t[O]:"length"===e?t[O].getArrayLength():"number"==typeof e?fn.get.call(t,e):"string"!=typeof e||isNaN(e)?fn.hasOwnProperty(e)?fn[e]:t[e]:fn.get.call(t,parseInt(e))},set:function(t,e,n){return"length"===e&&t[O].setArrayLength(n),"number"==typeof e&&fn.set.call(t,e,n),"symbol"==typeof e||isNaN(e)?t[e]=n:fn.set.call(t,parseInt(e),n),!0},preventExtensions:function(t){return d("Observable arrays cannot be frozen"),!1}};function dn(t,e,n,i){void 0===n&&(n="ObservableArray@"+h()),void 0===i&&(i=!1);var r,s,o,a=new pn(n,e,i);r=a.values,s=O,o=a,Object.defineProperty(r,s,{enumerable:!1,writable:!1,configurable:!0,value:o});var u=new Proxy(a.values,hn);if(a.proxy=u,t&&t.length){var c=Tt(!0);a.spliceWithArray(0,0,t),St(c)}return u}var pn=function(){function t(t,e,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new C(t||"ObservableArray@"+h()),this.enhancer=function(n,i){return e(n,i,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return on(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),cn(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var n=new Array(t-e),i=0;i<t-e;i++)n[i]=void 0;this.spliceWithArray(e,0,n)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=e},t.prototype.spliceWithArray=function(t,e,n){var i=this;at(this.atom);var r=this.values.length;if(void 0===t?t=0:t>r?t=r:t<0&&(t=Math.max(0,r+t)),e=1===arguments.length?r-t:null==e?0:Math.max(0,Math.min(e,r-t)),void 0===n&&(n=c),sn(this)){var s=an(this,{object:this.proxy,type:"splice",index:t,removedCount:e,added:n});if(!s)return c;e=s.removedCount,n=s.added}n=0===n.length?n:n.map((function(t){return i.enhancer(t,void 0)}));var o=this.spliceItemsIntoValues(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice(t,n,o),this.dehanceValues(o)},t.prototype.spliceItemsIntoValues=function(t,e,n){var i;if(n.length<1e4)return(i=this.values).splice.apply(i,u([t,e],n));var r=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(n,this.values.slice(t+e)),r},t.prototype.notifyArrayChildUpdate=function(t,e,n){var i=!this.owned&&!1,r=un(this),s=r||i?{object:this.proxy,type:"update",index:t,newValue:e,oldValue:n}:null;this.atom.reportChanged(),r&&ln(this,s)},t.prototype.notifyArraySplice=function(t,e,n){var i=!this.owned&&!1,r=un(this),s=r||i?{object:this.proxy,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;this.atom.reportChanged(),r&&ln(this,s)},t}(),fn={intercept:function(t){return this[O].intercept(t)},observe:function(t,e){return void 0===e&&(e=!1),this[O].observe(t,e)},clear:function(){return this.splice(0)},replace:function(t){var e=this[O];return e.spliceWithArray(0,e.values.length,t)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=this[O];switch(arguments.length){case 0:return[];case 1:return r.spliceWithArray(t);case 2:return r.spliceWithArray(t,e)}return r.spliceWithArray(t,e,n)},spliceWithArray:function(t,e,n){return this[O].spliceWithArray(t,e,n)},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[O];return n.spliceWithArray(n.values.length,0,t),n.values.length},pop:function(){return this.splice(Math.max(this[O].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[O];return n.spliceWithArray(0,0,t),n.values.length},reverse:function(){var t=this.slice();return t.reverse.apply(t,arguments)},sort:function(t){var e=this.slice();return e.sort.apply(e,arguments)},remove:function(t){var e=this[O],n=e.dehanceValues(e.values).indexOf(t);return n>-1&&(this.splice(n,1),!0)},get:function(t){var e=this[O];if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(t,e){var n=this[O],i=n.values;if(t<i.length){at(n.atom);var r=i[t];if(sn(n)){var s=an(n,{type:"update",object:n.proxy,index:t,newValue:e});if(!s)return;e=s.newValue}(e=n.enhancer(e,r))!==r&&(i[t]=e,n.notifyArrayChildUpdate(t,e,r))}else{if(t!==i.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+i.length);n.spliceWithArray(t,0,[e])}}};["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach((function(t){fn[t]=function(){var e=this[O];e.atom.reportObserved();var n=e.dehanceValues(e.values);return n[t].apply(n,arguments)}}));var mn,gn=_("ObservableArrayAdministration",pn);function yn(t){return g(t)&&gn(t[O])}var vn,_n={},bn=function(){function t(t,e,n){if(void 0===e&&(e=V),void 0===n&&(n="ObservableMap@"+h()),this.enhancer=e,this.name=n,this[mn]=_n,this._keysAtom=A(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return t.prototype._has=function(t){return this._data.has(t)},t.prototype.has=function(t){var e=this;if(!Ft.trackingDerivation)return this._has(t);var n=this._hasMap.get(t);if(!n){var i=n=new Ct(this._has(t),L,this.name+"."+T(t)+"?",!1);this._hasMap.set(t,i),pe(i,(function(){return e._hasMap.delete(t)}))}return n.get()},t.prototype.set=function(t,e){var n=this._has(t);if(sn(this)){var i=an(this,{type:n?"update":"add",object:this,newValue:e,name:t});if(!i)return this;e=i.newValue}return n?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if(sn(this)&&!(i=an(this,{type:"delete",object:this,name:t})))return!1;if(this._has(t)){var n=un(this),i=n?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return Xe((function(){e._keysAtom.reportChanged(),e._updateHasMapEntry(t,!1),e._data.get(t).setNewValue(void 0),e._data.delete(t)})),n&&ln(this,i),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var n=this._hasMap.get(t);n&&n.setNewValue(e)},t.prototype._updateValue=function(t,e){var n=this._data.get(t);if((e=n.prepareNewValue(e))!==Ft.UNCHANGED){var i=un(this),r=i?{type:"update",object:this,oldValue:n.value,name:t,newValue:e}:null;0,n.setNewValue(e),i&&ln(this,r)}},t.prototype._addValue=function(t,e){var n=this;at(this._keysAtom),Xe((function(){var i=new Ct(e,n.enhancer,n.name+"."+T(t),!1);n._data.set(t,i),e=i.value,n._updateHasMapEntry(t,!0),n._keysAtom.reportChanged()}));var i=un(this),r=i?{type:"add",object:this,name:t,newValue:e}:null;i&&ln(this,r)},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var t=this,e=0,n=Array.from(this.keys());return Vn({next:function(){return e<n.length?{value:t.get(n[e++]),done:!1}:{done:!0}}})},t.prototype.entries=function(){var t=this,e=0,n=Array.from(this.keys());return Vn({next:function(){if(e<n.length){var i=n[e++];return{value:[i,t.get(i)],done:!1}}return{done:!0}}})},t.prototype[(mn=O,Symbol.iterator)]=function(){return this.entries()},t.prototype.forEach=function(t,e){var n,i;try{for(var r=o(this),s=r.next();!s.done;s=r.next()){var u=a(s.value,2),c=u[0],l=u[1];t.call(e,l,c,this)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},t.prototype.merge=function(t){var e=this;return wn(t)&&(t=t.toJS()),Xe((function(){y(t)?k(t).forEach((function(n){return e.set(n,t[n])})):Array.isArray(t)?t.forEach((function(t){var n=a(t,2),i=n[0],r=n[1];return e.set(i,r)})):w(t)?(t.constructor!==Map&&d("Cannot initialize from classes that inherit from Map: "+t.constructor.name),t.forEach((function(t,n){return e.set(n,t)}))):null!=t&&d("Cannot initialize map from "+t)})),this},t.prototype.clear=function(){var t=this;Xe((function(){lt((function(){var e,n;try{for(var i=o(t.keys()),r=i.next();!r.done;r=i.next()){var s=r.value;t.delete(s)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}))}))},t.prototype.replace=function(t){var e=this;return Xe((function(){var n,i=y(n=t)?Object.keys(n):Array.isArray(n)?n.map((function(t){return a(t,1)[0]})):w(n)||wn(n)?Array.from(n.keys()):d("Cannot get keys from '"+n+"'");Array.from(e.keys()).filter((function(t){return-1===i.indexOf(t)})).forEach((function(t){return e.delete(t)})),e.merge(t)})),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t,e,n={};try{for(var i=o(this),r=i.next();!r.done;r=i.next()){var s=a(r.value,2),u=s[0],c=s[1];n["symbol"==typeof u?u:T(u)]=c}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+Array.from(this.keys()).map((function(e){return T(e)+": "+t.get(e)})).join(", ")+" }]"},t.prototype.observe=function(t,e){return cn(this,t)},t.prototype.intercept=function(t){return on(this,t)},t}(),wn=_("ObservableMap",bn),xn={},kn=function(){function t(t,e,n){if(void 0===e&&(e=V),void 0===n&&(n="ObservableSet@"+h()),this.name=n,this[vn]=xn,this._data=new Set,this._atom=A(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,i){return e(t,i,n)},t&&this.replace(t)}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.clear=function(){var t=this;Xe((function(){lt((function(){var e,n;try{for(var i=o(t._data.values()),r=i.next();!r.done;r=i.next()){var s=r.value;t.delete(s)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}))}))},t.prototype.forEach=function(t,e){var n,i;try{for(var r=o(this),s=r.next();!s.done;s=r.next()){var a=s.value;t.call(e,a,a,this)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this;if((at(this._atom),sn(this))&&!(i=an(this,{type:"add",object:this,newValue:t})))return this;if(!this.has(t)){Xe((function(){e._data.add(e.enhancer(t,void 0)),e._atom.reportChanged()}));var n=un(this),i=n?{type:"add",object:this,newValue:t}:null;0,n&&ln(this,i)}return this},t.prototype.delete=function(t){var e=this;if(sn(this)&&!(i=an(this,{type:"delete",object:this,oldValue:t})))return!1;if(this.has(t)){var n=un(this),i=n?{type:"delete",object:this,oldValue:t}:null;return Xe((function(){e._atom.reportChanged(),e._data.delete(t)})),n&&ln(this,i),!0}return!1},t.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},t.prototype.entries=function(){var t=0,e=Array.from(this.keys()),n=Array.from(this.values());return Vn({next:function(){var i=t;return t+=1,i<n.length?{value:[e[i],n[i]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var t=this,e=0,n=Array.from(this._data.values());return Vn({next:function(){return e<n.length?{value:t.dehanceValue(n[e++]),done:!1}:{done:!0}}})},t.prototype.replace=function(t){var e=this;return Tn(t)&&(t=t.toJS()),Xe((function(){Array.isArray(t)||x(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!=t&&d("Cannot initialize set from "+t)})),this},t.prototype.observe=function(t,e){return cn(this,t)},t.prototype.intercept=function(t){return on(this,t)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},t.prototype[(vn=O,Symbol.iterator)]=function(){return this.values()},t}(),Tn=_("ObservableSet",kn),Sn=function(){function t(t,e,n,i){void 0===e&&(e=new Map),this.target=t,this.values=e,this.name=n,this.defaultEnhancer=i,this.keysAtom=new C(n+".keys")}return t.prototype.read=function(t){return this.values.get(t).get()},t.prototype.write=function(t,e){var n=this.target,i=this.values.get(t);if(i instanceof At)i.set(e);else{if(sn(this)){if(!(s=an(this,{type:"update",object:this.proxy||n,name:t,newValue:e})))return;e=s.newValue}if((e=i.prepareNewValue(e))!==Ft.UNCHANGED){var r=un(this),s=r?{type:"update",object:this.proxy||n,oldValue:i.value,name:t,newValue:e}:null;0,i.setNewValue(e),r&&ln(this,s)}}},t.prototype.has=function(t){var e=this.pendingKeys||(this.pendingKeys=new Map),n=e.get(t);if(n)return n.get();var i=!!this.values.get(t);return n=new Ct(i,L,this.name+"."+T(t)+"?",!1),e.set(t,n),n.get()},t.prototype.addObservableProp=function(t,e,n){void 0===n&&(n=this.defaultEnhancer);var i=this.target;if(sn(this)){var r=an(this,{object:this.proxy||i,name:t,type:"add",newValue:e});if(!r)return;e=r.newValue}var s=new Ct(e,n,this.name+"."+T(t),!1);this.values.set(t,s),e=s.value,Object.defineProperty(i,t,function(t){return Cn[t]||(Cn[t]={configurable:!0,enumerable:!0,get:function(){return this[O].read(t)},set:function(e){this[O].write(t,e)}})}(t)),this.notifyPropertyAddition(t,e)},t.prototype.addComputedProp=function(t,e,n){var i,r,s,o=this.target;n.name=n.name||this.name+"."+T(e),this.values.set(e,new At(n)),(t===o||(i=t,r=e,!(s=Object.getOwnPropertyDescriptor(i,r))||!1!==s.configurable&&!1!==s.writable))&&Object.defineProperty(t,e,function(t){return En[t]||(En[t]={configurable:Ft.computedConfigurable,enumerable:!1,get:function(){return An(this).read(t)},set:function(e){An(this).write(t,e)}})}(e))},t.prototype.remove=function(t){if(this.values.has(t)){var e=this.target;if(sn(this))if(!(o=an(this,{object:this.proxy||e,name:t,type:"remove"})))return;try{Ut();var n=un(this),i=this.values.get(t),r=i&&i.get();if(i&&i.set(void 0),this.keysAtom.reportChanged(),this.values.delete(t),this.pendingKeys){var s=this.pendingKeys.get(t);s&&s.set(!1)}delete this.target[t];var o=n?{type:"remove",object:this.proxy||e,oldValue:r,name:t}:null;0,n&&ln(this,o)}finally{Wt()}}},t.prototype.illegalAccess=function(t,e){console.warn("Property '"+e+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(t,e){return cn(this,t)},t.prototype.intercept=function(t){return on(this,t)},t.prototype.notifyPropertyAddition=function(t,e){var n=un(this),i=n?{type:"add",object:this.proxy||this.target,name:t,newValue:e}:null;if(n&&ln(this,i),this.pendingKeys){var r=this.pendingKeys.get(t);r&&r.set(!0)}this.keysAtom.reportChanged()},t.prototype.getKeys=function(){var t,e;this.keysAtom.reportObserved();var n=[];try{for(var i=o(this.values),r=i.next();!r.done;r=i.next()){var s=a(r.value,2),u=s[0];s[1]instanceof Ct&&n.push(u)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n},t}();function On(t,e,n){if(void 0===e&&(e=""),void 0===n&&(n=V),Object.prototype.hasOwnProperty.call(t,O))return t[O];y(t)||(e=(t.constructor.name||"ObservableObject")+"@"+h()),e||(e="ObservableObject@"+h());var i=new Sn(t,new Map,T(e),n);return v(t,O,i),i}var Cn=Object.create(null),En=Object.create(null);function An(t){var e=t[O];return e||(j(t),t[O])}var Dn=_("ObservableObjectAdministration",Sn);function Mn(t){return!!g(t)&&(j(t),Dn(t[O]))}function Rn(t,e){if("object"==typeof t&&null!==t){if(yn(t))return void 0!==e&&d(!1),t[O].atom;if(Tn(t))return t[O];if(wn(t)){var n=t;return void 0===e?n._keysAtom:((i=n._data.get(e)||n._hasMap.get(e))||d(!1),i)}var i;if(j(t),e&&!t[O]&&t[e],Mn(t))return e?((i=t[O].values.get(e))||d(!1),i):d(!1);if(E(t)||Dt(t)||Zt(t))return t}else if("function"==typeof t&&Zt(t[O]))return t[O];return d(!1)}function Pn(t,e){return t||d("Expecting some object"),void 0!==e?Pn(Rn(t,e)):E(t)||Dt(t)||Zt(t)||wn(t)||Tn(t)?t:(j(t),t[O]?t[O]:void d(!1))}function Nn(t,e){return(void 0!==e?Rn(t,e):Mn(t)||wn(t)||Tn(t)?Pn(t):Rn(t)).name}var In=Object.prototype.toString;function jn(t,e,n){return void 0===n&&(n=-1),function t(e,n,i,r,s){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return!1;if(e!=e)return n!=n;var o=typeof e;if("function"!==o&&"object"!==o&&"object"!=typeof n)return!1;var a=In.call(e);if(a!==In.call(n))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":i>=0&&i++}e=Fn(e),n=Fn(n);var u="[object Array]"===a;if(!u){if("object"!=typeof e||"object"!=typeof n)return!1;var c=e.constructor,l=n.constructor;if(c!==l&&!("function"==typeof c&&c instanceof c&&"function"==typeof l&&l instanceof l)&&"constructor"in e&&"constructor"in n)return!1}if(0===i)return!1;i<0&&(i=-1);s=s||[];var h=(r=r||[]).length;for(;h--;)if(r[h]===e)return s[h]===n;if(r.push(e),s.push(n),u){if((h=e.length)!==n.length)return!1;for(;h--;)if(!t(e[h],n[h],i-1,r,s))return!1}else{var d=Object.keys(e),p=void 0;if(h=d.length,Object.keys(n).length!==h)return!1;for(;h--;)if(p=d[h],!qn(n,p)||!t(e[p],n[p],i-1,r,s))return!1}return r.pop(),s.pop(),!0}(t,e,n)}function Fn(t){return yn(t)?t.slice():w(t)||wn(t)||x(t)||Tn(t)?Array.from(t.entries()):t}function qn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Vn(t){return t[Symbol.iterator]=Ln,t}function Ln(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:te,extras:{getDebugName:Nn},$mobx:O})}.call(this,n(21),n(15))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return A})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return C})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return g})),n.d(e,"g",(function(){return R})),n.d(e,"h",(function(){return P})),n.d(e,"i",(function(){return O})),n.d(e,"j",(function(){return a}));var i=n(1),r=n(0),s=n.n(r);if(!r.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!i.spy)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var o=!1;function a(t){o=t}function u(){return o}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function l(){var t=Object(r.useState)(0)[1];return Object(r.useCallback)((function(){t((function(t){return t+1}))}),[])}function h(t){return"function"==typeof Symbol?Symbol.for(t):"__$mobx-react "+t+"__"}var d={};function p(){return"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:d}var f=h("observerBatching"),m=function(t){"function"==typeof t&&Object(i.configure)({reactionScheduler:t}),p()[f]=!0},g=function(){Object(i.configure)({reactionScheduler:void 0}),p()[f]=!0},y=function(){return p()[f]};function v(t){return Object(i.getDependencyTree)(t)}var _,b=1e4,w=new Set;function x(){void 0===_&&(_=setTimeout(k,1e4))}function k(){_=void 0;var t=Date.now();w.forEach((function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,w.delete(e))})),w.size>0&&x()}var T={};function S(t){return"observer"+t}function O(t,e,n){if(void 0===e&&(e="observed"),void 0===n&&(n=T),u())return t();var r,o=(n.useForceUpdate||l)(),a=s.a.useRef(null);if(!a.current){var c=new i.Reaction(S(e),(function(){h.mounted?o():(c.dispose(),a.current=null)})),h=function(t){return{cleanAt:Date.now()+b,reaction:t}}(c);a.current=h,r=a,w.add(r),x()}var d,p,f=a.current.reaction;if(s.a.useDebugValue(f,v),s.a.useEffect((function(){var t;return t=a,w.delete(t),a.current?a.current.mounted=!0:(a.current={reaction:new i.Reaction(S(e),(function(){o()})),cleanAt:1/0},o()),function(){a.current.reaction.dispose(),a.current=null}}),[]),f.track((function(){try{d=t()}catch(t){p=t}})),p)throw p;return d}function C(t,e){if(u())return t;var n,i,s,o=c({forwardRef:!1},e),a=t.displayName||t.name,l=function(e,n){return O((function(){return t(e,n)}),a)};return l.displayName=a,n=o.forwardRef?Object(r.memo)(Object(r.forwardRef)(l)):Object(r.memo)(l),i=t,s=n,Object.keys(i).forEach((function(t){E[t]||Object.defineProperty(s,t,Object.getOwnPropertyDescriptor(i,t))})),n.displayName=a,n}var E={$$typeof:!0,render:!0,compare:!0,type:!0};function A(t){var e=t.children,n=t.render,i=e||n;return"function"!=typeof i?null:O(i)}function D(t,e,n,i,r){var s="children"===e?"render":"children",o="function"==typeof t[e],a="function"==typeof t[s];return o&&a?new Error("MobX Observer: Do not use children and render in the same time in`"+n):o||a?null:new Error("Invalid prop `"+r+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}function M(t,e){if(!e||void 0!==t){0;var n=s.a.useState((function(){return Object(i.observable)(t,{},{deep:!1})}))[0];return Object(i.runInAction)((function(){Object.assign(n,t)})),n}}function R(t){return M(t,!1)}function P(t,e){var n=M(e,!0);return s.a.useState((function(){var e=Object(i.observable)(t(n));return function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return!e||e===Object.prototype}(e)&&Object(i.runInAction)((function(){Object.keys(e).forEach((function(t){var n,r,s=e[t];"function"==typeof s&&(e[t]=(n=s,r=e,function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return Object(i.transaction)((function(){return n.apply(r,e)}))}))}))})),e}))[0]}A.propTypes={children:D,render:D},A.displayName="Observer"}).call(this,n(15))},function(t,e,n){!function(t,e,n,i){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=r(e),o=r(n),a=r(i),u=function(t,e,n){return{endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}},c=function(t,e,n){return{endTime:e,insertTime:n,type:"linearRampToValue",value:t}},l=function(t,e){return{startTime:e,type:"setValue",value:t}},h=function(t,e,n){return{duration:n,startTime:e,type:"setValueCurve",values:t}},d=function(t,e,n){var i=n.startTime,r=n.target,s=n.timeConstant;return r+(e-r)*Math.exp((i-t)/s)},p=function(t){return"exponentialRampToValue"===t.type},f=function(t){return"linearRampToValue"===t.type},m=function(t){return p(t)||f(t)},g=function(t){return"setValue"===t.type},y=function(t){return"setValueCurve"===t.type},v=function t(e,n,i,r){var s=e[n];return void 0===s?r:m(s)||g(s)?s.value:y(s)?s.values[s.values.length-1]:d(i,t(e,n-1,s.startTime,r),s)},_=function(t,e,n,i,r){return void 0===n?[i.insertTime,r]:m(n)?[n.endTime,n.value]:g(n)?[n.startTime,n.value]:y(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,v(t,e-1,n.startTime,r)]},b=function(t){return"cancelAndHold"===t.type},w=function(t){return"cancelScheduledValues"===t.type},x=function(t){return b(t)||w(t)?t.cancelTime:p(t)||f(t)?t.endTime:t.startTime},k=function(t,e,n,i){var r=i.endTime,s=i.value;return n===s?s:0<n&&0<s||n<0&&s<0?n*Math.pow(s/n,(t-e)/(r-e)):0},T=function(t,e,n,i){return n+(t-e)/(i.endTime-e)*(i.value-n)},S=function(t,e){var n=e.duration,i=e.startTime,r=e.values;return function(t,e){var n=Math.floor(e),i=Math.ceil(e);return n===i?t[n]:(1-(e-n))*t[n]+(1-(i-e))*t[i]}(r,(t-i)/n*(r.length-1))},O=function(t){return"setTarget"===t.type},C=function(t){function e(t){o.default(this,e),this._automationEvents=[],this._currenTime=0,this._defaultValue=t}return a.default(e,[{key:t,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(t){var e=x(t);if(b(t)||w(t)){var n=this._automationEvents.findIndex((function(n){return w(t)&&y(n)?n.startTime+n.duration>=e:x(n)>=e})),i=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),b(t)){var r=this._automationEvents[this._automationEvents.length-1];if(void 0!==i&&m(i)){if(O(r))throw new Error("The internal list is malformed.");var s=y(r)?r.startTime+r.duration:x(r),o=y(r)?r.values[r.values.length-1]:r.value,a=p(i)?k(e,s,o,i):T(e,s,o,i),d=p(i)?u(a,e,this._currenTime):c(a,e,this._currenTime);this._automationEvents.push(d)}void 0!==r&&O(r)&&this._automationEvents.push(l(this.getValue(e),e)),void 0!==r&&y(r)&&r.startTime+r.duration>e&&(this._automationEvents[this._automationEvents.length-1]=h(new Float32Array([6,7]),r.startTime,e-r.startTime))}}else{var g=this._automationEvents.findIndex((function(t){return x(t)>e})),v=-1===g?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[g-1];if(void 0!==v&&y(v)&&x(v)+v.duration>e)return!1;var _=p(t)?u(t.value,t.endTime,this._currenTime):f(t)?c(t.value,e,this._currenTime):t;if(-1===g)this._automationEvents.push(_);else{if(y(t)&&e+t.duration>x(this._automationEvents[g]))return!1;this._automationEvents.splice(g,0,_)}}return!0}},{key:"flush",value:function(t){var e=this._automationEvents.findIndex((function(e){return x(e)>t}));if(e>1){var n=this._automationEvents.slice(e-1),i=n[0];O(i)&&n.unshift(l(v(this._automationEvents,e-2,i.startTime,this._defaultValue),i.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(t){if(0===this._automationEvents.length)return this._defaultValue;var e=this._automationEvents.findIndex((function(e){return x(e)>t})),n=this._automationEvents[e],i=(-1===e?this._automationEvents.length:e)-1,r=this._automationEvents[i];if(void 0!==r&&O(r)&&(void 0===n||!m(n)||n.insertTime>t))return d(t,v(this._automationEvents,i-1,r.startTime,this._defaultValue),r);if(void 0!==r&&g(r)&&(void 0===n||!m(n)))return r.value;if(void 0!==r&&y(r)&&(void 0===n||!m(n)||r.startTime+r.duration>t))return t<r.startTime+r.duration?S(t,r):r.values[r.values.length-1];if(void 0!==r&&m(r)&&(void 0===n||!m(n)))return r.value;if(void 0!==n&&p(n)){var o=_(this._automationEvents,i,r,n,this._defaultValue),a=s.default(o,2),u=a[0],c=a[1];return k(t,u,c,n)}if(void 0!==n&&f(n)){var l=_(this._automationEvents,i,r,n,this._defaultValue),h=s.default(l,2),b=h[0],w=h[1];return T(t,b,w,n)}return this._defaultValue}}]),e}(Symbol.iterator);t.AutomationEventList=C,t.createCancelAndHoldAutomationEvent=function(t){return{cancelTime:t,type:"cancelAndHold"}},t.createCancelScheduledValuesAutomationEvent=function(t){return{cancelTime:t,type:"cancelScheduledValues"}},t.createExponentialRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"exponentialRampToValue",value:t}},t.createLinearRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"linearRampToValue",value:t}},t.createSetTargetAutomationEvent=function(t,e,n){return{startTime:e,target:t,timeConstant:n,type:"setTarget"}},t.createSetValueAutomationEvent=l,t.createSetValueCurveAutomationEvent=h,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(23),n(29),n(30))},function(t,e,n){"use strict";n.r(e),n.d(e,"MobXProviderContext",(function(){return R})),n.d(e,"PropTypes",(function(){return K})),n.d(e,"Provider",(function(){return P})),n.d(e,"disposeOnUnmount",(function(){return L})),n.d(e,"inject",(function(){return j})),n.d(e,"observer",(function(){return D}));var i=n(1),r=n(0),s=n.n(r),o=n(2);n.d(e,"Observer",(function(){return o.a})),n.d(e,"isObserverBatched",(function(){return o.b})),n.d(e,"isUsingStaticRendering",(function(){return o.c})),n.d(e,"observerBatching",(function(){return o.e})),n.d(e,"observerBatchingOptOut",(function(){return o.f})),n.d(e,"useAsObservableSource",(function(){return o.g})),n.d(e,"useLocalStore",(function(){return o.h})),n.d(e,"useObserver",(function(){return o.i})),n.d(e,"useStaticRendering",(function(){return o.j}));var a=0;var u={};function c(t){return u[t]||(u[t]=function(t){if("function"==typeof Symbol)return Symbol(t);var e="__$mobx-react "+t+" ("+a+")";return a++,e}(t)),u[t]}function l(t,e){if(h(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!Object.hasOwnProperty.call(e,n[r])||!h(t[n[r]],e[n[r]]))return!1;return!0}function h(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var d={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,propTypes:1};function p(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var f=c("patchMixins"),m=c("patchedDefinition");function g(t,e){for(var n=this,i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];e.locks++;try{var o;return null!=t&&(o=t.apply(this,r)),o}finally{e.locks--,0===e.locks&&e.methods.forEach((function(t){t.apply(n,r)}))}}function y(t,e){return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];g.call.apply(g,[this,t,e].concat(i))}}function v(t,e,n){var i=function(t,e){var n=t[f]=t[f]||{},i=n[e]=n[e]||{};return i.locks=i.locks||0,i.methods=i.methods||[],i}(t,e);i.methods.indexOf(n)<0&&i.methods.push(n);var r=Object.getOwnPropertyDescriptor(t,e);if(!r||!r[m]){var s=t[e],o=function t(e,n,i,r,s){var o,a=y(s,r);return(o={})[m]=!0,o.get=function(){return a},o.set=function(s){if(this===e)a=y(s,r);else{var o=t(this,n,i,r,s);Object.defineProperty(this,n,o)}},o.configurable=!0,o.enumerable=i,o}(t,e,r?r.enumerable:void 0,i,s);Object.defineProperty(t,e,o)}}var _=i.$mobx||"$mobx",b=c("isUnmounted"),w=c("skipRender"),x=c("isForcingUpdate");function k(t){var e=t.prototype;if(e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==r.PureComponent)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==S)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=S;O(e,"props"),O(e,"state");var n=e.render;return e.render=function(){return T.call(this,n)},v(e,"componentWillUnmount",(function(){if(!0!==Object(o.c)()){if(this.render[_])this.render[_].dispose();else;this[b]=!0}})),t}function T(t){var e=this;if(!0===Object(o.c)())return t.call(this);p(this,w,!1),p(this,x,!1);var n,s=(n=this).displayName||n.name||n.constructor&&(n.constructor.displayName||n.constructor.name)||"<component>",a=t.bind(this),u=!1,c=new i.Reaction(s+".render()",(function(){if(!u&&(u=!0,!0!==e[b])){var t=!0;try{p(e,x,!0),e[w]||r.Component.prototype.forceUpdate.call(e),t=!1}finally{p(e,x,!1),t&&c.dispose()}}}));function l(){u=!1;var t=void 0,e=void 0;if(c.track((function(){try{e=Object(i._allowStateChanges)(!1,a)}catch(e){t=e}})),t)throw t;return e}return c.reactComponent=this,l[_]=c,this.render=l,l.call(this)}function S(t,e){return Object(o.c)()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==e||!l(this.props,t)}function O(t,e){var n=c("reactProp_"+e+"_valueHolder"),r=c("reactProp_"+e+"_atomHolder");function s(){return this[r]||p(this,r,Object(i.createAtom)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var t=!1;return i._allowStateReadsStart&&i._allowStateReadsEnd&&(t=Object(i._allowStateReadsStart)(!0)),s.call(this).reportObserved(),i._allowStateReadsStart&&i._allowStateReadsEnd&&Object(i._allowStateReadsEnd)(t),this[n]},set:function(t){this[x]||l(this[n],t)?p(this,n,t):(p(this,n,t),p(this,w,!0),s.call(this).reportChanged(),p(this,w,!1))}})}var C="function"==typeof Symbol&&Symbol.for,E=C?Symbol.for("react.forward_ref"):"function"==typeof r.forwardRef&&Object(r.forwardRef)((function(t){return null})).$$typeof,A=C?Symbol.for("react.memo"):"function"==typeof r.memo&&Object(r.memo)((function(t){return null})).$$typeof;function D(t){if(!0===t.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),A&&t.$$typeof===A)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(E&&t.$$typeof===E){var e=t.render;if("function"!=typeof e)throw new Error("render property of ForwardRef was not a function");return Object(r.forwardRef)((function(){var t=arguments;return Object(r.createElement)(o.a,null,(function(){return e.apply(void 0,t)}))}))}return"function"!=typeof t||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(r.Component,t)?k(t):Object(o.d)(t)}function M(){return(M=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var R=s.a.createContext({});function P(t){var e=t.children,n=function(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,["children"]),i=s.a.useContext(R),r=s.a.useRef(M({},i,{},n)).current;return s.a.createElement(R.Provider,{value:r},e)}function N(t,e,n,i){var r,o,a,u=s.a.forwardRef((function(n,i){var r=M({},n),o=s.a.useContext(R);return Object.assign(r,t(o||{},r)||{}),i&&(r.ref=i),s.a.createElement(e,r)}));return i&&(u=D(u)),u.isMobxInjector=!0,r=e,o=u,a=Object.getOwnPropertyNames(Object.getPrototypeOf(r)),Object.getOwnPropertyNames(r).forEach((function(t){d[t]||-1!==a.indexOf(t)||Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(r,t))})),u.wrappedComponent=e,u.displayName=function(t,e){var n,i=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";n=e?"inject-with-"+e+"("+i+")":"inject("+i+")";return n}(e,n),u}function I(t){return function(e,n){return t.forEach((function(t){if(!(t in n)){if(!(t in e))throw new Error("MobX injector: Store '"+t+"' is not available! Make sure it is provided by some Provider");n[t]=e[t]}})),n}}function j(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if("function"==typeof arguments[0]){var i=arguments[0];return function(t){return N(i,t,i.name,!0)}}return function(t){return N(I(e),t,e.join("-"),!1)}}P.displayName="MobXProvider";var F=c("disposeOnUnmountProto"),q=c("disposeOnUnmountInst");function V(){var t=this;[].concat(this[F]||[],this[q]||[]).forEach((function(e){var n="string"==typeof e?t[e]:e;null!=n&&(Array.isArray(n)?n.map((function(t){return t()})):n())}))}function L(t,e){if(Array.isArray(e))return e.map((function(e){return L(t,e)}));var n=Object.getPrototypeOf(t).constructor||Object.getPrototypeOf(t.constructor),i=Object.getPrototypeOf(t.constructor);if(n!==s.a.Component&&n!==s.a.PureComponent&&i!==s.a.Component&&i!==s.a.PureComponent)throw new Error("[mobx-react] disposeOnUnmount only supports direct subclasses of React.Component or React.PureComponent.");if("string"!=typeof e&&"function"!=typeof e&&!Array.isArray(e))throw new Error("[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.");var r="string"==typeof e,o=!!t[F]||!!t[q];return(r?t[F]||(t[F]=[]):t[q]||(t[q]=[])).push(e),o||v(t,"componentWillUnmount",V),"string"!=typeof e?e:void 0}function z(t){function e(e,n,r,s,o,a){for(var u=arguments.length,c=new Array(u>6?u-6:0),l=6;l<u;l++)c[l-6]=arguments[l];return Object(i.untracked)((function(){if(s=s||"<<anonymous>>",a=a||r,null==n[r]){if(e){var i=null===n[r]?"null":"undefined";return new Error("The "+o+" `"+a+"` is marked as required in `"+s+"`, but its value is `"+i+"`.")}return null}return t.apply(void 0,[n,r,s,o,a].concat(c))}))}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function B(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":function(t,e){return"symbol"===t||("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)}(e,t)?"symbol":e}function U(t,e){return z((function(n,r,s,o,a){return Object(i.untracked)((function(){if(t&&B(n[r])===e.toLowerCase())return null;var o;switch(e){case"Array":o=i.isObservableArray;break;case"Object":o=i.isObservableObject;break;case"Map":o=i.isObservableMap;break;default:throw new Error("Unexpected mobxType: "+e)}var u=n[r];if(!o(u)){var c=function(t){var e=B(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}(u),l=t?" or javascript `"+e.toLowerCase()+"`":"";return new Error("Invalid prop `"+a+"` of type `"+c+"` supplied to `"+s+"`, expected `mobx.Observable"+e+"`"+l+".")}return null}))}))}function W(t,e){return z((function(n,r,s,o,a){for(var u=arguments.length,c=new Array(u>5?u-5:0),l=5;l<u;l++)c[l-5]=arguments[l];return Object(i.untracked)((function(){if("function"!=typeof e)return new Error("Property `"+a+"` of component `"+s+"` has invalid PropType notation.");var i=U(t,"Array")(n,r,s,o,a);if(i instanceof Error)return i;for(var u=n[r],l=0;l<u.length;l++)if((i=e.apply(void 0,[u,l,s,o,a+"["+l+"]"].concat(c)))instanceof Error)return i;return null}))}))}var K={observableArray:U(!1,"Array"),observableArrayOf:W.bind(null,!1),observableMap:U(!1,"Map"),observableObject:U(!1,"Object"),arrayOrObservableArray:U(!0,"Array"),arrayOrObservableArrayOf:W.bind(null,!0),objectOrObservableObject:U(!0,"Object")};if(!r.Component)throw new Error("mobx-react requires React to be available");if(!i.observable)throw new Error("mobx-react requires mobx to be available")},function(t,e,n){"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},s=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function a(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function u(t,e){for(var n={},i=[],r=0;r<t.length;r++){var s=t[r],u=e.base?s[0]+e.base:s[0],c=n[u]||0,l="".concat(u," ").concat(c);n[u]=c+1;var h=a(l),d={css:s[1],media:s[2],sourceMap:s[3]};-1!==h?(o[h].references++,o[h].updater(d)):o.push({identifier:l,updater:g(d,e),references:1}),i.push(l)}return i}function c(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var o=s(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var l,h=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function d(t,e,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=h(e,r);else{var s=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(s,o[e]):t.appendChild(s)}}function p(t,e,n){var i=n.css,r=n.media,s=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),s&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var f=null,m=0;function g(t,e){var n,i,r;if(e.singleton){var s=m++;n=f||(f=c(e)),i=d.bind(null,n,s,!1),r=d.bind(null,n,s,!0)}else n=c(e),i=p.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var n=u(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var r=a(n[i]);o[r].references--}for(var s=u(t,e),c=0;c<n.length;c++){var l=a(n[c]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}n=s}}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=(o=i,a=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(u," */")),s=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[n].concat(s).concat([r]).join("\n")}var o,a,u;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(r[o]=!0)}for(var a=0;a<t.length;a++){var u=[].concat(t[a]);i&&r[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardItem=e.octaves=e.Octaves=e.allNotes=e.whiteNotes=e.Notes=void 0;var a,u,c=n(1),l=o(n(57)),h=n(31),d=n(14),p=n(33);!function(t){t.C="C",t.C_SHARP="C#",t.D="D",t.D_SHARP="D#",t.E="E",t.F="F",t.F_SHARP="F#",t.G="G",t.G_SHARP="G#",t.A="A",t.A_SHARP="A#",t.B="B"}(a=e.Notes||(e.Notes={})),e.whiteNotes=[a.C,a.D,a.E,a.F,a.G,a.A,a.B],e.allNotes=Object.values(a),function(t){t.ONE="1",t.TWO="2",t.THREE="3",t.FOUR="4",t.FIVE="5",t.SIX="6"}(u=e.Octaves||(e.Octaves={})),e.octaves=Object.values(u);var f=function(){function t(t,e,n,i){var r=this;this.firstNote=a.C,this.firstOctave=u.THREE,this.octaves=2,this.keys=[],this.keysPlaying=[],this.hotkeys=new Map,this.polySynth=(new l.PolySynth).toDestination(),this.startAssignHotkey=function(t){r.hotkeyAssignKey=t},this.clearAllHotkeys=function(){r.hotkeys.clear(),r.keys.forEach((function(t){return t.clearHotkey()}))},this.clearHotkey=function(t){if(t.hotkey){var e=r.hotkeys.get(t.hotkey);(null==e?void 0:e.length)&&(e=e.filter((function(e){return e.name!==t.name})),r.hotkeys.set(t.hotkey,e)),t.clearHotkey()}},this.onHotkeyPress=function(t){if(r.hotkeyAssignKey)r.assignHotkey(t);else{var e=r.hotkeys.get(t);(null==e?void 0:e.length)&&e.forEach((function(t){return r.playKey(t)}))}},this.onHotkeyRelease=function(t){var e,n=null!==(e=r.hotkeys.get(t))&&void 0!==e?e:[];n.length&&n.forEach((function(t){return r.stopPlayingKey(t)}))},this.id=t,this.firstNote=e,this.firstOctave=n,this.octaves=i,this.keys=d.KeyboardUtils.generateKeys(this.firstNote,this.firstOctave,this.octaves),h.hotkeyManager.addKeyDownListener(this.onHotkeyPress),h.hotkeyManager.addKeyUpListener(this.onHotkeyRelease)}return t.prototype.isKeyPlaying=function(t){return this.keysPlaying.includes(t.name)},t.prototype.onMouseDownKey=function(t){this.playKey(t)},t.prototype.onMouseUpKey=function(t){this.stopPlayingKey(t)},t.prototype.onMouseEnterKey=function(t){p.mouseUtils.mousedown&&this.playKey(t)},t.prototype.onMouseLeaveKey=function(t){this.stopPlayingKey(t)},t.prototype.removeKeyboard=function(){h.hotkeyManager.removeListener(this.onHotkeyPress),h.hotkeyManager.removeListener(this.onHotkeyRelease)},t.prototype.assignHotkey=function(t){var e;if(this.hotkeyAssignKey&&1===t.length&&" "!==t){this.hotkeyAssignKey.setHotkey(t);var n=null!==(e=this.hotkeys.get(t))&&void 0!==e?e:[];n.push(this.hotkeyAssignKey),this.hotkeys.set(t,n),this.hotkeyAssignKey=void 0}},t.prototype.playKey=function(t){this.keysPlaying.includes(t.name)||(this.keysPlaying.push(t.name),this.polySynth.triggerAttack(t.name))},t.prototype.stopPlayingKey=function(t){this.keysPlaying.includes(t.name)&&(this.polySynth.triggerRelease(t.name),this.keysPlaying=this.keysPlaying.filter((function(e){return e!==t.name})))},s([c.observable],t.prototype,"firstNote",void 0),s([c.observable],t.prototype,"keys",void 0),s([c.observable],t.prototype,"keysPlaying",void 0),s([c.observable],t.prototype,"hotkeys",void 0),s([c.observable],t.prototype,"hotkeyAssignKey",void 0),s([c.action],t.prototype,"startAssignHotkey",void 0),s([c.action],t.prototype,"clearAllHotkeys",void 0),s([c.action],t.prototype,"assignHotkey",null),t}();e.KeyboardItem=f},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;function o(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,u=o(t),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))r.call(n,l)&&(u[l]=n[l]);if(i){a=i(n);for(var h=0;h<a.length;h++)s.call(n,a[h])&&(u[a[h]]=n[a[h]])}}return u}},function(t,e,n){"use strict";
/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(8),r="function"==typeof Symbol&&Symbol.for,s=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function b(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||v}function w(){}function x(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||v}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(y(85));this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=b.prototype;var k=x.prototype=new w;k.constructor=x,i(k,b.prototype),k.isPureReactComponent=!0;var T={current:null},S=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function C(t,e,n){var i,r={},o=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)S.call(e,i)&&!O.hasOwnProperty(i)&&(r[i]=e[i]);var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];r.children=c}if(t&&t.defaultProps)for(i in u=t.defaultProps)void 0===r[i]&&(r[i]=u[i]);return{$$typeof:s,type:t,key:o,ref:a,props:r,_owner:T.current}}function E(t){return"object"==typeof t&&null!==t&&t.$$typeof===s}var A=/\/+/g,D=[];function M(t,e,n,i){if(D.length){var r=D.pop();return r.result=t,r.keyPrefix=e,r.func=n,r.context=i,r.count=0,r}return{result:t,keyPrefix:e,func:n,context:i,count:0}}function R(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>D.length&&D.push(t)}function P(t,e,n){return null==t?0:function t(e,n,i,r){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case s:case o:u=!0}}if(u)return i(r,e,""===n?"."+N(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=n+N(a=e[c],c);u+=t(a,l,i,r)}else if(null===e||"object"!=typeof e?l=null:l="function"==typeof(l=g&&e[g]||e["@@iterator"])?l:null,"function"==typeof l)for(e=l.call(e),c=0;!(a=e.next()).done;)u+=t(a=a.value,l=n+N(a,c++),i,r);else if("object"===a)throw i=""+e,Error(y(31,"[object Object]"===i?"object with keys {"+Object.keys(e).join(", ")+"}":i,""));return u}(t,"",e,n)}function N(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function I(t,e){t.func.call(t.context,e,t.count++)}function j(t,e,n){var i=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,i,n,(function(t){return t})):null!=t&&(E(t)&&(t=function(t,e){return{$$typeof:s,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(A,"$&/")+"/")+n)),i.push(t))}function F(t,e,n,i,r){var s="";null!=n&&(s=(""+n).replace(A,"$&/")+"/"),P(t,j,e=M(e,s,i,r)),R(e)}var q={current:null};function V(){var t=q.current;if(null===t)throw Error(y(321));return t}var L={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:i};e.Children={map:function(t,e,n){if(null==t)return t;var i=[];return F(t,i,null,e,n),i},forEach:function(t,e,n){if(null==t)return t;P(t,I,e=M(null,null,e,n)),R(e)},count:function(t){return P(t,(function(){return null}),null)},toArray:function(t){var e=[];return F(t,e,null,(function(t){return t})),e},only:function(t){if(!E(t))throw Error(y(143));return t}},e.Component=b,e.Fragment=a,e.Profiler=c,e.PureComponent=x,e.StrictMode=u,e.Suspense=p,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,e.cloneElement=function(t,e,n){if(null==t)throw Error(y(267,t));var r=i({},t.props),o=t.key,a=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,u=T.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)S.call(e,l)&&!O.hasOwnProperty(l)&&(r[l]=void 0===e[l]&&void 0!==c?c[l]:e[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:s,type:t.type,key:o,ref:a,props:r,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:t},t.Consumer=t},e.createElement=C,e.createFactory=function(t){var e=C.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:d,render:t}},e.isValidElement=E,e.lazy=function(t){return{$$typeof:m,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:f,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return V().useCallback(t,e)},e.useContext=function(t,e){return V().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return V().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return V().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return V().useLayoutEffect(t,e)},e.useMemo=function(t,e){return V().useMemo(t,e)},e.useReducer=function(t,e,n){return V().useReducer(t,e,n)},e.useRef=function(t){return V().useRef(t)},e.useState=function(t){return V().useState(t)},e.version="16.13.1"},function(t,e,n){"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}}(),t.exports=n(11)},function(t,e,n){"use strict";
/** @license React v16.13.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(0),r=n(8),s=n(12);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(o(227));function a(t,e,n,i,r,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(t){this.onError(t)}}var u=!1,c=null,l=!1,h=null,d={onError:function(t){u=!0,c=t}};function p(t,e,n,i,r,s,o,l,h){u=!1,c=null,a.apply(d,arguments)}var f=null,m=null,g=null;function y(t,e,n){var i=t.type||"unknown-event";t.currentTarget=g(n),function(t,e,n,i,r,s,a,d,f){if(p.apply(this,arguments),u){if(!u)throw Error(o(198));var m=c;u=!1,c=null,l||(l=!0,h=m)}}(i,e,void 0,t),t.currentTarget=null}var v=null,_={};function b(){if(v)for(var t in _){var e=_[t],n=v.indexOf(t);if(!(-1<n))throw Error(o(96,t));if(!x[n]){if(!e.extractEvents)throw Error(o(97,t));for(var i in x[n]=e,n=e.eventTypes){var r=void 0,s=n[i],a=e,u=i;if(k.hasOwnProperty(u))throw Error(o(99,u));k[u]=s;var c=s.phasedRegistrationNames;if(c){for(r in c)c.hasOwnProperty(r)&&w(c[r],a,u);r=!0}else s.registrationName?(w(s.registrationName,a,u),r=!0):r=!1;if(!r)throw Error(o(98,i,t))}}}}function w(t,e,n){if(T[t])throw Error(o(100,t));T[t]=e,S[t]=e.eventTypes[n].dependencies}var x=[],k={},T={},S={};function O(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var i=t[e];if(!_.hasOwnProperty(e)||_[e]!==i){if(_[e])throw Error(o(102,e));_[e]=i,n=!0}}n&&b()}var C=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),E=null,A=null,D=null;function M(t){if(t=m(t)){if("function"!=typeof E)throw Error(o(280));var e=t.stateNode;e&&(e=f(e),E(t.stateNode,t.type,e))}}function R(t){A?D?D.push(t):D=[t]:A=t}function P(){if(A){var t=A,e=D;if(D=A=null,M(t),e)for(t=0;t<e.length;t++)M(e[t])}}function N(t,e){return t(e)}function I(t,e,n,i,r){return t(e,n,i,r)}function j(){}var F=N,q=!1,V=!1;function L(){null===A&&null===D||(j(),P())}function z(t,e,n){if(V)return t(e,n);V=!0;try{return F(t,e,n)}finally{V=!1,L()}}var B=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U=Object.prototype.hasOwnProperty,W={},K={};function H(t,e,n,i,r,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){G[t]=new H(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];G[e]=new H(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){G[t]=new H(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){G[t]=new H(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){G[t]=new H(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){G[t]=new H(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){G[t]=new H(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){G[t]=new H(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){G[t]=new H(t,5,!1,t.toLowerCase(),null,!1)}));var Q=/[\-:]([a-z])/g;function $(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(Q,$);G[e]=new H(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(Q,$);G[e]=new H(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(Q,$);G[e]=new H(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){G[t]=new H(t,1,!1,t.toLowerCase(),null,!1)})),G.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){G[t]=new H(t,1,!1,t.toLowerCase(),null,!0)}));var X=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Y(t,e,n,i){var r=G.hasOwnProperty(e)?G[e]:null;(null!==r?0===r.type:!i&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,i){if(null==e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!U.call(K,t)||!U.call(W,t)&&(B.test(t)?K[t]=!0:(W[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var Z=/^(.*)[\\\/]/,J="function"==typeof Symbol&&Symbol.for,tt=J?Symbol.for("react.element"):60103,et=J?Symbol.for("react.portal"):60106,nt=J?Symbol.for("react.fragment"):60107,it=J?Symbol.for("react.strict_mode"):60108,rt=J?Symbol.for("react.profiler"):60114,st=J?Symbol.for("react.provider"):60109,ot=J?Symbol.for("react.context"):60110,at=J?Symbol.for("react.concurrent_mode"):60111,ut=J?Symbol.for("react.forward_ref"):60112,ct=J?Symbol.for("react.suspense"):60113,lt=J?Symbol.for("react.suspense_list"):60120,ht=J?Symbol.for("react.memo"):60115,dt=J?Symbol.for("react.lazy"):60116,pt=J?Symbol.for("react.block"):60121,ft="function"==typeof Symbol&&Symbol.iterator;function mt(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=ft&&t[ft]||t["@@iterator"])?t:null}function gt(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case nt:return"Fragment";case et:return"Portal";case rt:return"Profiler";case it:return"StrictMode";case ct:return"Suspense";case lt:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case ot:return"Context.Consumer";case st:return"Context.Provider";case ut:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ht:return gt(t.type);case pt:return gt(t.render);case dt:if(t=1===t._status?t._result:null)return gt(t)}return null}function yt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var i=t._debugOwner,r=t._debugSource,s=gt(t.type);n=null,i&&(n=gt(i.type)),i=s,s="",r?s=" (at "+r.fileName.replace(Z,"")+":"+r.lineNumber+")":n&&(s=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+s}e+=n,t=t.return}while(t);return e}function vt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function _t(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function bt(t){t._valueTracker||(t._valueTracker=function(t){var e=_t(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function wt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=_t(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function xt(t,e){var n=e.checked;return r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function kt(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=vt(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Tt(t,e){null!=(e=e.checked)&&Y(t,"checked",e,!1)}function St(t,e){Tt(t,e);var n=vt(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?Ct(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ct(t,e.type,vt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Ot(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Ct(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Et(t,e){return t=r({children:void 0},e),(e=function(t){var e="";return i.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function At(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+vt(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function Dt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return r({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:vt(n)}}function Rt(t,e){var n=vt(e.value),i=vt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function Pt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Nt="http://www.w3.org/1999/xhtml",It="http://www.w3.org/2000/svg";function jt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?jt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var qt,Vt=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==It||"innerHTML"in t)t.innerHTML=e;else{for((qt=qt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Lt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function zt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bt={animationend:zt("Animation","AnimationEnd"),animationiteration:zt("Animation","AnimationIteration"),animationstart:zt("Animation","AnimationStart"),transitionend:zt("Transition","TransitionEnd")},Ut={},Wt={};function Kt(t){if(Ut[t])return Ut[t];if(!Bt[t])return t;var e,n=Bt[t];for(e in n)if(n.hasOwnProperty(e)&&e in Wt)return Ut[t]=n[e];return t}C&&(Wt=document.createElement("div").style,"AnimationEvent"in window||(delete Bt.animationend.animation,delete Bt.animationiteration.animation,delete Bt.animationstart.animation),"TransitionEvent"in window||delete Bt.transitionend.transition);var Ht=Kt("animationend"),Gt=Kt("animationiteration"),Qt=Kt("animationstart"),$t=Kt("transitionend"),Xt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yt=new("function"==typeof WeakMap?WeakMap:Map);function Zt(t){var e=Yt.get(t);return void 0===e&&(e=new Map,Yt.set(t,e)),e}function Jt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if(Jt(t)!==t)throw Error(o(188))}function ne(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Jt(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(i=r.return)){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return ee(r),t;if(s===i)return ee(r),e;s=s.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,u=r.child;u;){if(u===n){a=!0,n=r,i=s;break}if(u===i){a=!0,i=r,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,i=r;break}if(u===i){a=!0,i=s,n=r;break}u=u.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function ie(t,e){if(null==e)throw Error(o(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function re(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var se=null;function oe(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var i=0;i<e.length&&!t.isPropagationStopped();i++)y(t,e[i],n[i]);else e&&y(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function ae(t){if(null!==t&&(se=ie(se,t)),t=se,se=null,t){if(re(t,oe),se)throw Error(o(95));if(l)throw t=h,l=!1,h=null,t}}function ue(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function ce(t){if(!C)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e}var le=[];function he(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>le.length&&le.push(t)}function de(t,e,n,i){if(le.length){var r=le.pop();return r.topLevelType=t,r.eventSystemFlags=i,r.nativeEvent=e,r.targetInst=n,r}return{topLevelType:t,eventSystemFlags:i,nativeEvent:e,targetInst:n,ancestors:[]}}function pe(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=Cn(i)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var r=ue(t.nativeEvent);i=t.topLevelType;var s=t.nativeEvent,o=t.eventSystemFlags;0===n&&(o|=64);for(var a=null,u=0;u<x.length;u++){var c=x[u];c&&(c=c.extractEvents(i,e,s,r,o))&&(a=ie(a,c))}ae(a)}}function fe(t,e,n){if(!n.has(t)){switch(t){case"scroll":Qe(e,"scroll",!0);break;case"focus":case"blur":Qe(e,"focus",!0),Qe(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ce(t)&&Qe(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xt.indexOf(t)&&Ge(t,e)}n.set(t,null)}}var me,ge,ye,ve=!1,_e=[],be=null,we=null,xe=null,ke=new Map,Te=new Map,Se=[],Oe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ce="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ee(t,e,n,i,r){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:r,container:i}}function Ae(t,e){switch(t){case"focus":case"blur":be=null;break;case"dragenter":case"dragleave":we=null;break;case"mouseover":case"mouseout":xe=null;break;case"pointerover":case"pointerout":ke.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Te.delete(e.pointerId)}}function De(t,e,n,i,r,s){return null===t||t.nativeEvent!==s?(t=Ee(e,n,i,r,s),null!==e&&(null!==(e=En(e))&&ge(e)),t):(t.eventSystemFlags|=i,t)}function Me(t){var e=Cn(t.target);if(null!==e){var n=Jt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=te(n)))return t.blockedOn=e,void s.unstable_runWithPriority(t.priority,(function(){ye(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Re(t){if(null!==t.blockedOn)return!1;var e=Ze(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=En(e);return null!==n&&ge(n),t.blockedOn=e,!1}return!0}function Pe(t,e,n){Re(t)&&n.delete(e)}function Ne(){for(ve=!1;0<_e.length;){var t=_e[0];if(null!==t.blockedOn){null!==(t=En(t.blockedOn))&&me(t);break}var e=Ze(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:_e.shift()}null!==be&&Re(be)&&(be=null),null!==we&&Re(we)&&(we=null),null!==xe&&Re(xe)&&(xe=null),ke.forEach(Pe),Te.forEach(Pe)}function Ie(t,e){t.blockedOn===e&&(t.blockedOn=null,ve||(ve=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ne)))}function je(t){function e(e){return Ie(e,t)}if(0<_e.length){Ie(_e[0],t);for(var n=1;n<_e.length;n++){var i=_e[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==be&&Ie(be,t),null!==we&&Ie(we,t),null!==xe&&Ie(xe,t),ke.forEach(e),Te.forEach(e),n=0;n<Se.length;n++)(i=Se[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Se.length&&null===(n=Se[0]).blockedOn;)Me(n),null===n.blockedOn&&Se.shift()}var Fe={},qe=new Map,Ve=new Map,Le=["abort","abort",Ht,"animationEnd",Gt,"animationIteration",Qt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",$t,"transitionEnd","waiting","waiting"];function ze(t,e){for(var n=0;n<t.length;n+=2){var i=t[n],r=t[n+1],s="on"+(r[0].toUpperCase()+r.slice(1));s={phasedRegistrationNames:{bubbled:s,captured:s+"Capture"},dependencies:[i],eventPriority:e},Ve.set(i,e),qe.set(i,s),Fe[r]=s}}ze("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),ze("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),ze(Le,2);for(var Be="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ue=0;Ue<Be.length;Ue++)Ve.set(Be[Ue],0);var We=s.unstable_UserBlockingPriority,Ke=s.unstable_runWithPriority,He=!0;function Ge(t,e){Qe(e,t,!1)}function Qe(t,e,n){var i=Ve.get(e);switch(void 0===i?2:i){case 0:i=$e.bind(null,e,1,t);break;case 1:i=Xe.bind(null,e,1,t);break;default:i=Ye.bind(null,e,1,t)}n?t.addEventListener(e,i,!0):t.addEventListener(e,i,!1)}function $e(t,e,n,i){q||j();var r=Ye,s=q;q=!0;try{I(r,t,e,n,i)}finally{(q=s)||L()}}function Xe(t,e,n,i){Ke(We,Ye.bind(null,t,e,n,i))}function Ye(t,e,n,i){if(He)if(0<_e.length&&-1<Oe.indexOf(t))t=Ee(null,t,e,n,i),_e.push(t);else{var r=Ze(t,e,n,i);if(null===r)Ae(t,i);else if(-1<Oe.indexOf(t))t=Ee(r,t,e,n,i),_e.push(t);else if(!function(t,e,n,i,r){switch(e){case"focus":return be=De(be,t,e,n,i,r),!0;case"dragenter":return we=De(we,t,e,n,i,r),!0;case"mouseover":return xe=De(xe,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return ke.set(s,De(ke.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Te.set(s,De(Te.get(s)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i)){Ae(t,i),t=de(t,i,null,e);try{z(pe,t)}finally{he(t)}}}}function Ze(t,e,n,i){if(null!==(n=Cn(n=ue(i)))){var r=Jt(n);if(null===r)n=null;else{var s=r.tag;if(13===s){if(null!==(n=te(r)))return n;n=null}else if(3===s){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}t=de(t,i,n,e);try{z(pe,t)}finally{he(t)}return null}var Je={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function en(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||Je.hasOwnProperty(t)&&Je[t]?(""+e).trim():e+"px"}function nn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=en(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(Je).forEach((function(t){tn.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Je[e]=Je[t]}))}));var rn=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sn(t,e){if(e){if(rn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(o(62,""))}}function on(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var an=Nt;function un(t,e){var n=Zt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=S[e];for(var i=0;i<e.length;i++)fe(e[i],t,n)}function cn(){}function ln(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function hn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dn(t,e){var n,i=hn(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=hn(i)}}function pn(){for(var t=window,e=ln();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=ln((t=e.contentWindow).document)}return e}function fn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var mn=null,gn=null;function yn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function vn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var _n="function"==typeof setTimeout?setTimeout:void 0,bn="function"==typeof clearTimeout?clearTimeout:void 0;function wn(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function xn(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var kn=Math.random().toString(36).slice(2),Tn="__reactInternalInstance$"+kn,Sn="__reactEventHandlers$"+kn,On="__reactContainere$"+kn;function Cn(t){var e=t[Tn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[On]||n[Tn]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=xn(t);null!==t;){if(n=t[Tn])return n;t=xn(t)}return e}n=(t=n).parentNode}return null}function En(t){return!(t=t[Tn]||t[On])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function An(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function Dn(t){return t[Sn]||null}function Mn(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Rn(t,e){var n=t.stateNode;if(!n)return null;var i=f(n);if(!i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(o(231,e,typeof n));return n}function Pn(t,e,n){(e=Rn(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=ie(n._dispatchListeners,e),n._dispatchInstances=ie(n._dispatchInstances,t))}function Nn(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Mn(e);for(e=n.length;0<e--;)Pn(n[e],"captured",t);for(e=0;e<n.length;e++)Pn(n[e],"bubbled",t)}}function In(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Rn(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=ie(n._dispatchListeners,e),n._dispatchInstances=ie(n._dispatchInstances,t))}function jn(t){t&&t.dispatchConfig.registrationName&&In(t._targetInst,null,t)}function Fn(t){re(t,Nn)}var qn=null,Vn=null,Ln=null;function zn(){if(Ln)return Ln;var t,e,n=Vn,i=n.length,r="value"in qn?qn.value:qn.textContent,s=r.length;for(t=0;t<i&&n[t]===r[t];t++);var o=i-t;for(e=1;e<=o&&n[i-e]===r[s-e];e++);return Ln=r.slice(t,1<e?1-e:void 0)}function Bn(){return!0}function Un(){return!1}function Wn(t,e,n,i){for(var r in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Bn:Un,this.isPropagationStopped=Un,this}function Kn(t,e,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,n,i),r}return new this(t,e,n,i)}function Hn(t){if(!(t instanceof this))throw Error(o(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Gn(t){t.eventPool=[],t.getPooled=Kn,t.release=Hn}r(Wn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Bn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Bn)},persist:function(){this.isPersistent=Bn},isPersistent:Un,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Un,this._dispatchInstances=this._dispatchListeners=null}}),Wn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wn.extend=function(t){function e(){}function n(){return i.apply(this,arguments)}var i=this;e.prototype=i.prototype;var s=new e;return r(s,n.prototype),n.prototype=s,n.prototype.constructor=n,n.Interface=r({},i.Interface,t),n.extend=i.extend,Gn(n),n},Gn(Wn);var Qn=Wn.extend({data:null}),$n=Wn.extend({data:null}),Xn=[9,13,27,32],Yn=C&&"CompositionEvent"in window,Zn=null;C&&"documentMode"in document&&(Zn=document.documentMode);var Jn=C&&"TextEvent"in window&&!Zn,ti=C&&(!Yn||Zn&&8<Zn&&11>=Zn),ei=String.fromCharCode(32),ni={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ii=!1;function ri(t,e){switch(t){case"keyup":return-1!==Xn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function si(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var oi=!1;var ai={eventTypes:ni,extractEvents:function(t,e,n,i){var r;if(Yn)t:{switch(t){case"compositionstart":var s=ni.compositionStart;break t;case"compositionend":s=ni.compositionEnd;break t;case"compositionupdate":s=ni.compositionUpdate;break t}s=void 0}else oi?ri(t,n)&&(s=ni.compositionEnd):"keydown"===t&&229===n.keyCode&&(s=ni.compositionStart);return s?(ti&&"ko"!==n.locale&&(oi||s!==ni.compositionStart?s===ni.compositionEnd&&oi&&(r=zn()):(Vn="value"in(qn=i)?qn.value:qn.textContent,oi=!0)),s=Qn.getPooled(s,e,n,i),r?s.data=r:null!==(r=si(n))&&(s.data=r),Fn(s),r=s):r=null,(t=Jn?function(t,e){switch(t){case"compositionend":return si(e);case"keypress":return 32!==e.which?null:(ii=!0,ei);case"textInput":return(t=e.data)===ei&&ii?null:t;default:return null}}(t,n):function(t,e){if(oi)return"compositionend"===t||!Yn&&ri(t,e)?(t=zn(),Ln=Vn=qn=null,oi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ti&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=$n.getPooled(ni.beforeInput,e,n,i)).data=t,Fn(e)):e=null,null===r?e:null===e?r:[r,e]}},ui={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ci(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!ui[t.type]:"textarea"===e}var li={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hi(t,e,n){return(t=Wn.getPooled(li.change,t,e,n)).type="change",R(n),Fn(t),t}var di=null,pi=null;function fi(t){ae(t)}function mi(t){if(wt(An(t)))return t}function gi(t,e){if("change"===t)return e}var yi=!1;function vi(){di&&(di.detachEvent("onpropertychange",_i),pi=di=null)}function _i(t){if("value"===t.propertyName&&mi(pi))if(t=hi(pi,t,ue(t)),q)ae(t);else{q=!0;try{N(fi,t)}finally{q=!1,L()}}}function bi(t,e,n){"focus"===t?(vi(),pi=n,(di=e).attachEvent("onpropertychange",_i)):"blur"===t&&vi()}function wi(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return mi(pi)}function xi(t,e){if("click"===t)return mi(e)}function ki(t,e){if("input"===t||"change"===t)return mi(e)}C&&(yi=ce("input")&&(!document.documentMode||9<document.documentMode));var Ti={eventTypes:li,_isInputEventSupported:yi,extractEvents:function(t,e,n,i){var r=e?An(e):window,s=r.nodeName&&r.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===r.type)var o=gi;else if(ci(r))if(yi)o=ki;else{o=wi;var a=bi}else(s=r.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=xi);if(o&&(o=o(t,e)))return hi(o,n,i);a&&a(t,r,e),"blur"===t&&(t=r._wrapperState)&&t.controlled&&"number"===r.type&&Ct(r,"number",r.value)}},Si=Wn.extend({view:null,detail:null}),Oi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ci(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Oi[t])&&!!e[t]}function Ei(){return Ci}var Ai=0,Di=0,Mi=!1,Ri=!1,Pi=Si.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ei,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Ai;return Ai=t.screenX,Mi?"mousemove"===t.type?t.screenX-e:0:(Mi=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Di;return Di=t.screenY,Ri?"mousemove"===t.type?t.screenY-e:0:(Ri=!0,0)}}),Ni=Pi.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ii={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},ji={eventTypes:Ii,extractEvents:function(t,e,n,i,r){var s="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(s&&0==(32&r)&&(n.relatedTarget||n.fromElement)||!o&&!s)return null;(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,o)?(o=e,null!==(e=(e=n.relatedTarget||n.toElement)?Cn(e):null)&&(e!==Jt(e)||5!==e.tag&&6!==e.tag)&&(e=null)):o=null;if(o===e)return null;if("mouseout"===t||"mouseover"===t)var a=Pi,u=Ii.mouseLeave,c=Ii.mouseEnter,l="mouse";else"pointerout"!==t&&"pointerover"!==t||(a=Ni,u=Ii.pointerLeave,c=Ii.pointerEnter,l="pointer");if(t=null==o?s:An(o),s=null==e?s:An(e),(u=a.getPooled(u,o,n,i)).type=l+"leave",u.target=t,u.relatedTarget=s,(n=a.getPooled(c,e,n,i)).type=l+"enter",n.target=s,n.relatedTarget=t,l=e,(i=o)&&l)t:{for(c=l,o=0,t=a=i;t;t=Mn(t))o++;for(t=0,e=c;e;e=Mn(e))t++;for(;0<o-t;)a=Mn(a),o--;for(;0<t-o;)c=Mn(c),t--;for(;o--;){if(a===c||a===c.alternate)break t;a=Mn(a),c=Mn(c)}a=null}else a=null;for(c=a,a=[];i&&i!==c&&(null===(o=i.alternate)||o!==c);)a.push(i),i=Mn(i);for(i=[];l&&l!==c&&(null===(o=l.alternate)||o!==c);)i.push(l),l=Mn(l);for(l=0;l<a.length;l++)In(a[l],"bubbled",u);for(l=i.length;0<l--;)In(i[l],"captured",n);return 0==(64&r)?[u]:[u,n]}};var Fi="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},qi=Object.prototype.hasOwnProperty;function Vi(t,e){if(Fi(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!qi.call(e,n[i])||!Fi(t[n[i]],e[n[i]]))return!1;return!0}var Li=C&&"documentMode"in document&&11>=document.documentMode,zi={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Bi=null,Ui=null,Wi=null,Ki=!1;function Hi(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Ki||null==Bi||Bi!==ln(n)?null:("selectionStart"in(n=Bi)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Wi&&Vi(Wi,n)?null:(Wi=n,(t=Wn.getPooled(zi.select,Ui,t,e)).type="select",t.target=Bi,Fn(t),t))}var Gi={eventTypes:zi,extractEvents:function(t,e,n,i,r,s){if(!(s=!(r=s||(i.window===i?i.document:9===i.nodeType?i:i.ownerDocument)))){t:{r=Zt(r),s=S.onSelect;for(var o=0;o<s.length;o++)if(!r.has(s[o])){r=!1;break t}r=!0}s=!r}if(s)return null;switch(r=e?An(e):window,t){case"focus":(ci(r)||"true"===r.contentEditable)&&(Bi=r,Ui=e,Wi=null);break;case"blur":Wi=Ui=Bi=null;break;case"mousedown":Ki=!0;break;case"contextmenu":case"mouseup":case"dragend":return Ki=!1,Hi(n,i);case"selectionchange":if(Li)break;case"keydown":case"keyup":return Hi(n,i)}return null}},Qi=Wn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),$i=Wn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xi=Si.extend({relatedTarget:null});function Yi(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var Zi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ji={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tr=Si.extend({key:function(t){if(t.key){var e=Zi[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Yi(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Ji[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ei,charCode:function(t){return"keypress"===t.type?Yi(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Yi(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),er=Pi.extend({dataTransfer:null}),nr=Si.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ei}),ir=Wn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),rr=Pi.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),sr={eventTypes:Fe,extractEvents:function(t,e,n,i){var r=qe.get(t);if(!r)return null;switch(t){case"keypress":if(0===Yi(n))return null;case"keydown":case"keyup":t=tr;break;case"blur":case"focus":t=Xi;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=er;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=nr;break;case Ht:case Gt:case Qt:t=Qi;break;case $t:t=ir;break;case"scroll":t=Si;break;case"wheel":t=rr;break;case"copy":case"cut":case"paste":t=$i;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Ni;break;default:t=Wn}return Fn(e=t.getPooled(r,e,n,i)),e}};if(v)throw Error(o(101));v=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),f=Dn,m=En,g=An,O({SimpleEventPlugin:sr,EnterLeaveEventPlugin:ji,ChangeEventPlugin:Ti,SelectEventPlugin:Gi,BeforeInputEventPlugin:ai});var or=[],ar=-1;function ur(t){0>ar||(t.current=or[ar],or[ar]=null,ar--)}function cr(t,e){ar++,or[ar]=t.current,t.current=e}var lr={},hr={current:lr},dr={current:!1},pr=lr;function fr(t,e){var n=t.type.contextTypes;if(!n)return lr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function mr(t){return null!=(t=t.childContextTypes)}function gr(){ur(dr),ur(hr)}function yr(t,e,n){if(hr.current!==lr)throw Error(o(168));cr(hr,e),cr(dr,n)}function vr(t,e,n){var i=t.stateNode;if(t=e.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var s in i=i.getChildContext())if(!(s in t))throw Error(o(108,gt(e)||"Unknown",s));return r({},n,{},i)}function _r(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lr,pr=hr.current,cr(hr,t),cr(dr,dr.current),!0}function br(t,e,n){var i=t.stateNode;if(!i)throw Error(o(169));n?(t=vr(t,e,pr),i.__reactInternalMemoizedMergedChildContext=t,ur(dr),ur(hr),cr(hr,t)):ur(dr),cr(dr,n)}var wr=s.unstable_runWithPriority,xr=s.unstable_scheduleCallback,kr=s.unstable_cancelCallback,Tr=s.unstable_requestPaint,Sr=s.unstable_now,Or=s.unstable_getCurrentPriorityLevel,Cr=s.unstable_ImmediatePriority,Er=s.unstable_UserBlockingPriority,Ar=s.unstable_NormalPriority,Dr=s.unstable_LowPriority,Mr=s.unstable_IdlePriority,Rr={},Pr=s.unstable_shouldYield,Nr=void 0!==Tr?Tr:function(){},Ir=null,jr=null,Fr=!1,qr=Sr(),Vr=1e4>qr?Sr:function(){return Sr()-qr};function Lr(){switch(Or()){case Cr:return 99;case Er:return 98;case Ar:return 97;case Dr:return 96;case Mr:return 95;default:throw Error(o(332))}}function zr(t){switch(t){case 99:return Cr;case 98:return Er;case 97:return Ar;case 96:return Dr;case 95:return Mr;default:throw Error(o(332))}}function Br(t,e){return t=zr(t),wr(t,e)}function Ur(t,e,n){return t=zr(t),xr(t,e,n)}function Wr(t){return null===Ir?(Ir=[t],jr=xr(Cr,Hr)):Ir.push(t),Rr}function Kr(){if(null!==jr){var t=jr;jr=null,kr(t)}Hr()}function Hr(){if(!Fr&&null!==Ir){Fr=!0;var t=0;try{var e=Ir;Br(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Ir=null}catch(e){throw null!==Ir&&(Ir=Ir.slice(t+1)),xr(Cr,Kr),e}finally{Fr=!1}}}function Gr(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function Qr(t,e){if(t&&t.defaultProps)for(var n in e=r({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var $r={current:null},Xr=null,Yr=null,Zr=null;function Jr(){Zr=Yr=Xr=null}function ts(t){var e=$r.current;ur($r),t.type._context._currentValue=e}function es(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function ns(t,e){Xr=t,Zr=Yr=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Do=!0),t.firstContext=null)}function is(t,e){if(Zr!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(Zr=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Yr){if(null===Xr)throw Error(o(308));Yr=e,Xr.dependencies={expirationTime:0,firstContext:e,responders:null}}else Yr=Yr.next=e;return t._currentValue}var rs=!1;function ss(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function os(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function as(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function us(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function cs(t,e){var n=t.alternate;null!==n&&os(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function ls(t,e,n,i){var s=t.updateQueue;rs=!1;var o=s.baseQueue,a=s.shared.pending;if(null!==a){if(null!==o){var u=o.next;o.next=a.next,a.next=u}o=a,s.shared.pending=null,null!==(u=t.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=a))}if(null!==o){u=o.next;var c=s.baseState,l=0,h=null,d=null,p=null;if(null!==u)for(var f=u;;){if((a=f.expirationTime)<i){var m={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===p?(d=p=m,h=c):p=p.next=m,a>l&&(l=a)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),su(a,f.suspenseConfig);t:{var g=t,y=f;switch(a=e,m=n,y.tag){case 1:if("function"==typeof(g=y.payload)){c=g.call(m,c,a);break t}c=g;break t;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(a="function"==typeof(g=y.payload)?g.call(m,c,a):g))break t;c=r({},c,a);break t;case 2:rs=!0}}null!==f.callback&&(t.effectTag|=32,null===(a=s.effects)?s.effects=[f]:a.push(f))}if(null===(f=f.next)||f===u){if(null===(a=s.shared.pending))break;f=o.next=a.next,a.next=u,s.baseQueue=o=a,s.shared.pending=null}}null===p?h=c:p.next=d,s.baseState=h,s.baseQueue=p,ou(l),t.expirationTime=l,t.memoizedState=c}}function hs(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=r,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var ds=X.ReactCurrentBatchConfig,ps=(new i.Component).refs;function fs(t,e,n,i){n=null==(n=n(i,e=t.memoizedState))?e:r({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var ms={isMounted:function(t){return!!(t=t._reactInternalFiber)&&Jt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var i=Ha(),r=ds.suspense;(r=as(i=Ga(i,t,r),r)).payload=e,null!=n&&(r.callback=n),us(t,r),Qa(t,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var i=Ha(),r=ds.suspense;(r=as(i=Ga(i,t,r),r)).tag=1,r.payload=e,null!=n&&(r.callback=n),us(t,r),Qa(t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Ha(),i=ds.suspense;(i=as(n=Ga(n,t,i),i)).tag=2,null!=e&&(i.callback=e),us(t,i),Qa(t,n)}};function gs(t,e,n,i,r,s,o){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!Vi(n,i)||!Vi(r,s))}function ys(t,e,n){var i=!1,r=lr,s=e.contextType;return"object"==typeof s&&null!==s?s=is(s):(r=mr(e)?pr:hr.current,s=(i=null!=(i=e.contextTypes))?fr(t,r):lr),e=new e(n,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ms,t.stateNode=e,e._reactInternalFiber=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function vs(t,e,n,i){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&ms.enqueueReplaceState(e,e.state,null)}function _s(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=ps,ss(t);var s=e.contextType;"object"==typeof s&&null!==s?r.context=is(s):(s=mr(e)?pr:hr.current,r.context=fr(t,s)),ls(t,n,r,i),r.state=t.memoizedState,"function"==typeof(s=e.getDerivedStateFromProps)&&(fs(t,e,s,n),r.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(e=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&ms.enqueueReplaceState(r,r.state,null),ls(t,n,r,i),r.state=t.memoizedState),"function"==typeof r.componentDidMount&&(t.effectTag|=4)}var bs=Array.isArray;function ws(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,t));var r=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===r?e.ref:((e=function(t){var e=i.refs;e===ps&&(e=i.refs={}),null===t?delete e[r]:e[r]=t})._stringRef=r,e)}if("string"!=typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function xs(t,e){if("textarea"!==t.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function ks(t){function e(e,n){if(t){var i=e.lastEffect;null!==i?(i.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Ou(t,e)).index=0,t.sibling=null,t}function s(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.effectTag=2,n):i:(e.effectTag=2,n):n}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,i){return null===e||6!==e.tag?((e=Au(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function c(t,e,n,i){return null!==e&&e.elementType===n.type?((i=r(e,n.props)).ref=ws(t,e,n),i.return=t,i):((i=Cu(n.type,n.key,n.props,null,t.mode,i)).ref=ws(t,e,n),i.return=t,i)}function l(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Du(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,s){return null===e||7!==e.tag?((e=Eu(n,t.mode,i,s)).return=t,e):((e=r(e,n)).return=t,e)}function d(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=Au(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case tt:return(n=Cu(e.type,e.key,e.props,null,t.mode,n)).ref=ws(t,null,e),n.return=t,n;case et:return(e=Du(e,t.mode,n)).return=t,e}if(bs(e)||mt(e))return(e=Eu(e,t.mode,n,null)).return=t,e;xs(t,e)}return null}function p(t,e,n,i){var r=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:u(t,e,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case tt:return n.key===r?n.type===nt?h(t,e,n.props.children,i,r):c(t,e,n,i):null;case et:return n.key===r?l(t,e,n,i):null}if(bs(n)||mt(n))return null!==r?null:h(t,e,n,i,null);xs(t,n)}return null}function f(t,e,n,i,r){if("string"==typeof i||"number"==typeof i)return u(e,t=t.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case tt:return t=t.get(null===i.key?n:i.key)||null,i.type===nt?h(e,t,i.props.children,r,i.key):c(e,t,i,r);case et:return l(e,t=t.get(null===i.key?n:i.key)||null,i,r)}if(bs(i)||mt(i))return h(e,t=t.get(n)||null,i,r,null);xs(e,i)}return null}function m(r,o,a,u){for(var c=null,l=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=p(r,h,a[m],u);if(null===y){null===h&&(h=g);break}t&&h&&null===y.alternate&&e(r,h),o=s(y,o,m),null===l?c=y:l.sibling=y,l=y,h=g}if(m===a.length)return n(r,h),c;if(null===h){for(;m<a.length;m++)null!==(h=d(r,a[m],u))&&(o=s(h,o,m),null===l?c=h:l.sibling=h,l=h);return c}for(h=i(r,h);m<a.length;m++)null!==(g=f(h,r,m,a[m],u))&&(t&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===l?c=g:l.sibling=g,l=g);return t&&h.forEach((function(t){return e(r,t)})),c}function g(r,a,u,c){var l=mt(u);if("function"!=typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var h=l=null,m=a,g=a=0,y=null,v=u.next();null!==m&&!v.done;g++,v=u.next()){m.index>g?(y=m,m=null):y=m.sibling;var _=p(r,m,v.value,c);if(null===_){null===m&&(m=y);break}t&&m&&null===_.alternate&&e(r,m),a=s(_,a,g),null===h?l=_:h.sibling=_,h=_,m=y}if(v.done)return n(r,m),l;if(null===m){for(;!v.done;g++,v=u.next())null!==(v=d(r,v.value,c))&&(a=s(v,a,g),null===h?l=v:h.sibling=v,h=v);return l}for(m=i(r,m);!v.done;g++,v=u.next())null!==(v=f(m,r,g,v.value,c))&&(t&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===h?l=v:h.sibling=v,h=v);return t&&m.forEach((function(t){return e(r,t)})),l}return function(t,i,s,u){var c="object"==typeof s&&null!==s&&s.type===nt&&null===s.key;c&&(s=s.props.children);var l="object"==typeof s&&null!==s;if(l)switch(s.$$typeof){case tt:t:{for(l=s.key,c=i;null!==c;){if(c.key===l){switch(c.tag){case 7:if(s.type===nt){n(t,c.sibling),(i=r(c,s.props.children)).return=t,t=i;break t}break;default:if(c.elementType===s.type){n(t,c.sibling),(i=r(c,s.props)).ref=ws(t,c,s),i.return=t,t=i;break t}}n(t,c);break}e(t,c),c=c.sibling}s.type===nt?((i=Eu(s.props.children,t.mode,u,s.key)).return=t,t=i):((u=Cu(s.type,s.key,s.props,null,t.mode,u)).ref=ws(t,i,s),u.return=t,t=u)}return a(t);case et:t:{for(c=s.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(t,i.sibling),(i=r(i,s.children||[])).return=t,t=i;break t}n(t,i);break}e(t,i),i=i.sibling}(i=Du(s,t.mode,u)).return=t,t=i}return a(t)}if("string"==typeof s||"number"==typeof s)return s=""+s,null!==i&&6===i.tag?(n(t,i.sibling),(i=r(i,s)).return=t,t=i):(n(t,i),(i=Au(s,t.mode,u)).return=t,t=i),a(t);if(bs(s))return m(t,i,s,u);if(mt(s))return g(t,i,s,u);if(l&&xs(t,s),void 0===s&&!c)switch(t.tag){case 1:case 0:throw t=t.type,Error(o(152,t.displayName||t.name||"Component"))}return n(t,i)}}var Ts=ks(!0),Ss=ks(!1),Os={},Cs={current:Os},Es={current:Os},As={current:Os};function Ds(t){if(t===Os)throw Error(o(174));return t}function Ms(t,e){switch(cr(As,e),cr(Es,t),cr(Cs,Os),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ft(null,"");break;default:e=Ft(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ur(Cs),cr(Cs,e)}function Rs(){ur(Cs),ur(Es),ur(As)}function Ps(t){Ds(As.current);var e=Ds(Cs.current),n=Ft(e,t.type);e!==n&&(cr(Es,t),cr(Cs,n))}function Ns(t){Es.current===t&&(ur(Cs),ur(Es))}var Is={current:0};function js(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Fs(t,e){return{responder:t,props:e}}var qs=X.ReactCurrentDispatcher,Vs=X.ReactCurrentBatchConfig,Ls=0,zs=null,Bs=null,Us=null,Ws=!1;function Ks(){throw Error(o(321))}function Hs(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fi(t[n],e[n]))return!1;return!0}function Gs(t,e,n,i,r,s){if(Ls=s,zs=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,qs.current=null===t||null===t.memoizedState?yo:vo,t=n(i,r),e.expirationTime===Ls){s=0;do{if(e.expirationTime=0,!(25>s))throw Error(o(301));s+=1,Us=Bs=null,e.updateQueue=null,qs.current=_o,t=n(i,r)}while(e.expirationTime===Ls)}if(qs.current=go,e=null!==Bs&&null!==Bs.next,Ls=0,Us=Bs=zs=null,Ws=!1,e)throw Error(o(300));return t}function Qs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Us?zs.memoizedState=Us=t:Us=Us.next=t,Us}function $s(){if(null===Bs){var t=zs.alternate;t=null!==t?t.memoizedState:null}else t=Bs.next;var e=null===Us?zs.memoizedState:Us.next;if(null!==e)Us=e,Bs=t;else{if(null===t)throw Error(o(310));t={memoizedState:(Bs=t).memoizedState,baseState:Bs.baseState,baseQueue:Bs.baseQueue,queue:Bs.queue,next:null},null===Us?zs.memoizedState=Us=t:Us=Us.next=t}return Us}function Xs(t,e){return"function"==typeof e?e(t):e}function Ys(t){var e=$s(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var i=Bs,r=i.baseQueue,s=n.pending;if(null!==s){if(null!==r){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var u=a=s=null,c=r;do{var l=c.expirationTime;if(l<Ls){var h={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(a=u=h,s=i):u=u.next=h,l>zs.expirationTime&&(zs.expirationTime=l,ou(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),su(l,c.suspenseConfig),i=c.eagerReducer===t?c.eagerState:t(i,c.action);c=c.next}while(null!==c&&c!==r);null===u?s=i:u.next=a,Fi(i,e.memoizedState)||(Do=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=u,n.lastRenderedState=i}return[e.memoizedState,n.dispatch]}function Zs(t){var e=$s(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{s=t(s,a.action),a=a.next}while(a!==r);Fi(s,e.memoizedState)||(Do=!0),e.memoizedState=s,null===e.baseQueue&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function Js(t){var e=Qs();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:t}).dispatch=mo.bind(null,zs,t),[e.memoizedState,t]}function to(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=zs.updateQueue)?(e={lastEffect:null},zs.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function eo(){return $s().memoizedState}function no(t,e,n,i){var r=Qs();zs.effectTag|=t,r.memoizedState=to(1|e,n,void 0,void 0===i?null:i)}function io(t,e,n,i){var r=$s();i=void 0===i?null:i;var s=void 0;if(null!==Bs){var o=Bs.memoizedState;if(s=o.destroy,null!==i&&Hs(i,o.deps))return void to(e,n,s,i)}zs.effectTag|=t,r.memoizedState=to(1|e,n,s,i)}function ro(t,e){return no(516,4,t,e)}function so(t,e){return io(516,4,t,e)}function oo(t,e){return io(4,2,t,e)}function ao(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function uo(t,e,n){return n=null!=n?n.concat([t]):null,io(4,2,ao.bind(null,e,t),n)}function co(){}function lo(t,e){return Qs().memoizedState=[t,void 0===e?null:e],t}function ho(t,e){var n=$s();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Hs(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function po(t,e){var n=$s();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Hs(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function fo(t,e,n){var i=Lr();Br(98>i?98:i,(function(){t(!0)})),Br(97<i?97:i,(function(){var i=Vs.suspense;Vs.suspense=void 0===e?null:e;try{t(!1),n()}finally{Vs.suspense=i}}))}function mo(t,e,n){var i=Ha(),r=ds.suspense;r={expirationTime:i=Ga(i,t,r),suspenseConfig:r,action:n,eagerReducer:null,eagerState:null,next:null};var s=e.pending;if(null===s?r.next=r:(r.next=s.next,s.next=r),e.pending=r,s=t.alternate,t===zs||null!==s&&s===zs)Ws=!0,r.expirationTime=Ls,zs.expirationTime=Ls;else{if(0===t.expirationTime&&(null===s||0===s.expirationTime)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=s(o,n);if(r.eagerReducer=s,r.eagerState=a,Fi(a,o))return}catch(t){}Qa(t,i)}}var go={readContext:is,useCallback:Ks,useContext:Ks,useEffect:Ks,useImperativeHandle:Ks,useLayoutEffect:Ks,useMemo:Ks,useReducer:Ks,useRef:Ks,useState:Ks,useDebugValue:Ks,useResponder:Ks,useDeferredValue:Ks,useTransition:Ks},yo={readContext:is,useCallback:lo,useContext:is,useEffect:ro,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,no(4,2,ao.bind(null,e,t),n)},useLayoutEffect:function(t,e){return no(4,2,t,e)},useMemo:function(t,e){var n=Qs();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Qs();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t=(t=i.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=mo.bind(null,zs,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},Qs().memoizedState=t},useState:Js,useDebugValue:co,useResponder:Fs,useDeferredValue:function(t,e){var n=Js(t),i=n[0],r=n[1];return ro((function(){var n=Vs.suspense;Vs.suspense=void 0===e?null:e;try{r(t)}finally{Vs.suspense=n}}),[t,e]),i},useTransition:function(t){var e=Js(!1),n=e[0];return e=e[1],[lo(fo.bind(null,e,t),[e,t]),n]}},vo={readContext:is,useCallback:ho,useContext:is,useEffect:so,useImperativeHandle:uo,useLayoutEffect:oo,useMemo:po,useReducer:Ys,useRef:eo,useState:function(){return Ys(Xs)},useDebugValue:co,useResponder:Fs,useDeferredValue:function(t,e){var n=Ys(Xs),i=n[0],r=n[1];return so((function(){var n=Vs.suspense;Vs.suspense=void 0===e?null:e;try{r(t)}finally{Vs.suspense=n}}),[t,e]),i},useTransition:function(t){var e=Ys(Xs),n=e[0];return e=e[1],[ho(fo.bind(null,e,t),[e,t]),n]}},_o={readContext:is,useCallback:ho,useContext:is,useEffect:so,useImperativeHandle:uo,useLayoutEffect:oo,useMemo:po,useReducer:Zs,useRef:eo,useState:function(){return Zs(Xs)},useDebugValue:co,useResponder:Fs,useDeferredValue:function(t,e){var n=Zs(Xs),i=n[0],r=n[1];return so((function(){var n=Vs.suspense;Vs.suspense=void 0===e?null:e;try{r(t)}finally{Vs.suspense=n}}),[t,e]),i},useTransition:function(t){var e=Zs(Xs),n=e[0];return e=e[1],[ho(fo.bind(null,e,t),[e,t]),n]}},bo=null,wo=null,xo=!1;function ko(t,e){var n=Tu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function To(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function So(t){if(xo){var e=wo;if(e){var n=e;if(!To(t,e)){if(!(e=wn(n.nextSibling))||!To(t,e))return t.effectTag=-1025&t.effectTag|2,xo=!1,void(bo=t);ko(bo,n)}bo=t,wo=wn(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,xo=!1,bo=t}}function Oo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;bo=t}function Co(t){if(t!==bo)return!1;if(!xo)return Oo(t),xo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!vn(e,t.memoizedProps))for(e=wo;e;)ko(t,e),e=wn(e.nextSibling);if(Oo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){wo=wn(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}wo=null}}else wo=bo?wn(t.stateNode.nextSibling):null;return!0}function Eo(){wo=bo=null,xo=!1}var Ao=X.ReactCurrentOwner,Do=!1;function Mo(t,e,n,i){e.child=null===t?Ss(e,null,n,i):Ts(e,t.child,n,i)}function Ro(t,e,n,i,r){n=n.render;var s=e.ref;return ns(e,r),i=Gs(t,e,n,i,s,r),null===t||Do?(e.effectTag|=1,Mo(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),Qo(t,e,r))}function Po(t,e,n,i,r,s){if(null===t){var o=n.type;return"function"!=typeof o||Su(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Cu(n.type,null,i,null,e.mode,s)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,No(t,e,o,i,r,s))}return o=t.child,r<s&&(r=o.memoizedProps,(n=null!==(n=n.compare)?n:Vi)(r,i)&&t.ref===e.ref)?Qo(t,e,s):(e.effectTag|=1,(t=Ou(o,i)).ref=e.ref,t.return=e,e.child=t)}function No(t,e,n,i,r,s){return null!==t&&Vi(t.memoizedProps,i)&&t.ref===e.ref&&(Do=!1,r<s)?(e.expirationTime=t.expirationTime,Qo(t,e,s)):jo(t,e,n,i,s)}function Io(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function jo(t,e,n,i,r){var s=mr(n)?pr:hr.current;return s=fr(e,s),ns(e,r),n=Gs(t,e,n,i,s,r),null===t||Do?(e.effectTag|=1,Mo(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),Qo(t,e,r))}function Fo(t,e,n,i,r){if(mr(n)){var s=!0;_r(e)}else s=!1;if(ns(e,r),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),ys(e,n,i),_s(e,n,i,r),i=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;"object"==typeof c&&null!==c?c=is(c):c=fr(e,c=mr(n)?pr:hr.current);var l=n.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==i||u!==c)&&vs(e,o,i,c),rs=!1;var d=e.memoizedState;o.state=d,ls(e,i,o,r),u=e.memoizedState,a!==i||d!==u||dr.current||rs?("function"==typeof l&&(fs(e,n,l,i),u=e.memoizedState),(a=rs||gs(e,n,a,i,d,u,c))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(e.effectTag|=4)):("function"==typeof o.componentDidMount&&(e.effectTag|=4),e.memoizedProps=i,e.memoizedState=u),o.props=i,o.state=u,o.context=c,i=a):("function"==typeof o.componentDidMount&&(e.effectTag|=4),i=!1)}else o=e.stateNode,os(t,e),a=e.memoizedProps,o.props=e.type===e.elementType?a:Qr(e.type,a),u=o.context,"object"==typeof(c=n.contextType)&&null!==c?c=is(c):c=fr(e,c=mr(n)?pr:hr.current),(h="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==i||u!==c)&&vs(e,o,i,c),rs=!1,u=e.memoizedState,o.state=u,ls(e,i,o,r),d=e.memoizedState,a!==i||u!==d||dr.current||rs?("function"==typeof l&&(fs(e,n,l,i),d=e.memoizedState),(l=rs||gs(e,n,a,i,u,d,c))?(h||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(i,d,c),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,d,c)),"function"==typeof o.componentDidUpdate&&(e.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof o.componentDidUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=i,e.memoizedState=d),o.props=i,o.state=d,o.context=c,i=l):("function"!=typeof o.componentDidUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),i=!1);return qo(t,e,n,i,s,r)}function qo(t,e,n,i,r,s){Io(t,e);var o=0!=(64&e.effectTag);if(!i&&!o)return r&&br(e,n,!1),Qo(t,e,s);i=e.stateNode,Ao.current=e;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return e.effectTag|=1,null!==t&&o?(e.child=Ts(e,t.child,null,s),e.child=Ts(e,null,a,s)):Mo(t,e,a,s),e.memoizedState=i.state,r&&br(e,n,!0),e.child}function Vo(t){var e=t.stateNode;e.pendingContext?yr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&yr(0,e.context,!1),Ms(t,e.containerInfo)}var Lo,zo,Bo,Uo={dehydrated:null,retryTime:0};function Wo(t,e,n){var i,r=e.mode,s=e.pendingProps,o=Is.current,a=!1;if((i=0!=(64&e.effectTag))||(i=0!=(2&o)&&(null===t||null!==t.memoizedState)),i?(a=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===s.fallback||!0===s.unstable_avoidThisFallback||(o|=1),cr(Is,1&o),null===t){if(void 0!==s.fallback&&So(e),a){if(a=s.fallback,(s=Eu(null,r,0,null)).return=e,0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,s.child=t;null!==t;)t.return=s,t=t.sibling;return(n=Eu(a,r,n,null)).return=e,s.sibling=n,e.memoizedState=Uo,e.child=s,n}return r=s.children,e.memoizedState=null,e.child=Ss(e,null,r,n)}if(null!==t.memoizedState){if(r=(t=t.child).sibling,a){if(s=s.fallback,(n=Ou(t,t.pendingProps)).return=e,0==(2&e.mode)&&(a=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(r=Ou(r,s)).return=e,n.sibling=r,n.childExpirationTime=0,e.memoizedState=Uo,e.child=n,r}return n=Ts(e,t.child,s.children,n),e.memoizedState=null,e.child=n}if(t=t.child,a){if(a=s.fallback,(s=Eu(null,r,0,null)).return=e,s.child=t,null!==t&&(t.return=s),0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,s.child=t;null!==t;)t.return=s,t=t.sibling;return(n=Eu(a,r,n,null)).return=e,s.sibling=n,n.effectTag|=2,s.childExpirationTime=0,e.memoizedState=Uo,e.child=s,n}return e.memoizedState=null,e.child=Ts(e,t,s.children,n)}function Ko(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),es(t.return,e)}function Ho(t,e,n,i,r,s){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailExpiration:0,tailMode:r,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailExpiration=0,o.tailMode=r,o.lastEffect=s)}function Go(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Mo(t,e,i.children,n),0!=(2&(i=Is.current)))i=1&i|2,e.effectTag|=64;else{if(null!==t&&0!=(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ko(t,n);else if(19===t.tag)Ko(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(cr(Is,i),0==(2&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===js(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Ho(e,!1,r,n,s,e.lastEffect);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===js(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Ho(e,!0,n,null,s,e.lastEffect);break;case"together":Ho(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Qo(t,e,n){null!==t&&(e.dependencies=t.dependencies);var i=e.expirationTime;if(0!==i&&ou(i),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Ou(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Ou(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function $o(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Xo(t,e,n){var i=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mr(e.type)&&gr(),null;case 3:return Rs(),ur(dr),ur(hr),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Co(e)||(e.effectTag|=4),null;case 5:Ns(e),n=Ds(As.current);var s=e.type;if(null!==t&&null!=e.stateNode)zo(t,e,s,i,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!i){if(null===e.stateNode)throw Error(o(166));return null}if(t=Ds(Cs.current),Co(e)){i=e.stateNode,s=e.type;var a=e.memoizedProps;switch(i[Tn]=e,i[Sn]=a,s){case"iframe":case"object":case"embed":Ge("load",i);break;case"video":case"audio":for(t=0;t<Xt.length;t++)Ge(Xt[t],i);break;case"source":Ge("error",i);break;case"img":case"image":case"link":Ge("error",i),Ge("load",i);break;case"form":Ge("reset",i),Ge("submit",i);break;case"details":Ge("toggle",i);break;case"input":kt(i,a),Ge("invalid",i),un(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Ge("invalid",i),un(n,"onChange");break;case"textarea":Mt(i,a),Ge("invalid",i),un(n,"onChange")}for(var u in sn(s,a),t=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"==typeof c?i.textContent!==c&&(t=["children",c]):"number"==typeof c&&i.textContent!==""+c&&(t=["children",""+c]):T.hasOwnProperty(u)&&null!=c&&un(n,u)}switch(s){case"input":bt(i),Ot(i,a,!0);break;case"textarea":bt(i),Pt(i);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(i.onclick=cn)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,t===an&&(t=jt(s)),t===an?"script"===s?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof i.is?t=u.createElement(s,{is:i.is}):(t=u.createElement(s),"select"===s&&(u=t,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):t=u.createElementNS(t,s),t[Tn]=e,t[Sn]=i,Lo(t,e),e.stateNode=t,u=on(s,i),s){case"iframe":case"object":case"embed":Ge("load",t),c=i;break;case"video":case"audio":for(c=0;c<Xt.length;c++)Ge(Xt[c],t);c=i;break;case"source":Ge("error",t),c=i;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),c=i;break;case"form":Ge("reset",t),Ge("submit",t),c=i;break;case"details":Ge("toggle",t),c=i;break;case"input":kt(t,i),c=xt(t,i),Ge("invalid",t),un(n,"onChange");break;case"option":c=Et(t,i);break;case"select":t._wrapperState={wasMultiple:!!i.multiple},c=r({},i,{value:void 0}),Ge("invalid",t),un(n,"onChange");break;case"textarea":Mt(t,i),c=Dt(t,i),Ge("invalid",t),un(n,"onChange");break;default:c=i}sn(s,c);var l=c;for(a in l)if(l.hasOwnProperty(a)){var h=l[a];"style"===a?nn(t,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&Vt(t,h):"children"===a?"string"==typeof h?("textarea"!==s||""!==h)&&Lt(t,h):"number"==typeof h&&Lt(t,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(T.hasOwnProperty(a)?null!=h&&un(n,a):null!=h&&Y(t,a,h,u))}switch(s){case"input":bt(t),Ot(t,i,!1);break;case"textarea":bt(t),Pt(t);break;case"option":null!=i.value&&t.setAttribute("value",""+vt(i.value));break;case"select":t.multiple=!!i.multiple,null!=(n=i.value)?At(t,!!i.multiple,n,!1):null!=i.defaultValue&&At(t,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof c.onClick&&(t.onclick=cn)}yn(s,i)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Bo(0,e,t.memoizedProps,i);else{if("string"!=typeof i&&null===e.stateNode)throw Error(o(166));n=Ds(As.current),Ds(Cs.current),Co(e)?(n=e.stateNode,i=e.memoizedProps,n[Tn]=e,n.nodeValue!==i&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[Tn]=e,e.stateNode=n)}return null;case 13:return ur(Is),i=e.memoizedState,0!=(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==i,i=!1,null===t?void 0!==e.memoizedProps.fallback&&Co(e):(i=null!==(s=t.memoizedState),n||null===s||null!==(s=t.child.sibling)&&(null!==(a=e.firstEffect)?(e.firstEffect=s,s.nextEffect=a):(e.firstEffect=e.lastEffect=s,s.nextEffect=null),s.effectTag=8)),n&&!i&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Is.current)?Ca===ba&&(Ca=wa):(Ca!==ba&&Ca!==wa||(Ca=xa),0!==Ra&&null!==Ta&&(Pu(Ta,Oa),Nu(Ta,Ra)))),(n||i)&&(e.effectTag|=4),null);case 4:return Rs(),null;case 10:return ts(e),null;case 17:return mr(e.type)&&gr(),null;case 19:if(ur(Is),null===(i=e.memoizedState))return null;if(s=0!=(64&e.effectTag),null===(a=i.rendering)){if(s)$o(i,!1);else if(Ca!==ba||null!==t&&0!=(64&t.effectTag))for(a=e.child;null!==a;){if(null!==(t=js(a))){for(e.effectTag|=64,$o(i,!1),null!==(s=t.updateQueue)&&(e.updateQueue=s,e.effectTag|=4),null===i.lastEffect&&(e.firstEffect=null),e.lastEffect=i.lastEffect,i=e.child;null!==i;)a=n,(s=i).effectTag&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(t=s.alternate)?(s.childExpirationTime=0,s.expirationTime=a,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null):(s.childExpirationTime=t.childExpirationTime,s.expirationTime=t.expirationTime,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),i=i.sibling;return cr(Is,1&Is.current|2),e.child}a=a.sibling}}else{if(!s)if(null!==(t=js(a))){if(e.effectTag|=64,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),$o(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate)return null!==(e=e.lastEffect=i.lastEffect)&&(e.nextEffect=null),null}else 2*Vr()-i.renderingStartTime>i.tailExpiration&&1<n&&(e.effectTag|=64,s=!0,$o(i,!1),e.expirationTime=e.childExpirationTime=n-1);i.isBackwards?(a.sibling=e.child,e.child=a):(null!==(n=i.last)?n.sibling=a:e.child=a,i.last=a)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=Vr()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=e.lastEffect,i.renderingStartTime=Vr(),n.sibling=null,e=Is.current,cr(Is,s?1&e|2:1&e),n):null}throw Error(o(156,e.tag))}function Yo(t){switch(t.tag){case 1:mr(t.type)&&gr();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Rs(),ur(dr),ur(hr),0!=(64&(e=t.effectTag)))throw Error(o(285));return t.effectTag=-4097&e|64,t;case 5:return Ns(t),null;case 13:return ur(Is),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return ur(Is),null;case 4:return Rs(),null;case 10:return ts(t),null;default:return null}}function Zo(t,e){return{value:t,source:e,stack:yt(e)}}Lo=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zo=function(t,e,n,i,s){var o=t.memoizedProps;if(o!==i){var a,u,c=e.stateNode;switch(Ds(Cs.current),t=null,n){case"input":o=xt(c,o),i=xt(c,i),t=[];break;case"option":o=Et(c,o),i=Et(c,i),t=[];break;case"select":o=r({},o,{value:void 0}),i=r({},i,{value:void 0}),t=[];break;case"textarea":o=Dt(c,o),i=Dt(c,i),t=[];break;default:"function"!=typeof o.onClick&&"function"==typeof i.onClick&&(c.onclick=cn)}for(a in sn(n,i),n=null,o)if(!i.hasOwnProperty(a)&&o.hasOwnProperty(a)&&null!=o[a])if("style"===a)for(u in c=o[a])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(T.hasOwnProperty(a)?t||(t=[]):(t=t||[]).push(a,null));for(a in i){var l=i[a];if(c=null!=o?o[a]:void 0,i.hasOwnProperty(a)&&l!==c&&(null!=l||null!=c))if("style"===a)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(t||(t=[]),t.push(a,n)),n=l;else"dangerouslySetInnerHTML"===a?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(t=t||[]).push(a,l)):"children"===a?c===l||"string"!=typeof l&&"number"!=typeof l||(t=t||[]).push(a,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(T.hasOwnProperty(a)?(null!=l&&un(s,a),t||c===l||(t=[])):(t=t||[]).push(a,l))}n&&(t=t||[]).push("style",n),s=t,(e.updateQueue=s)&&(e.effectTag|=4)}},Bo=function(t,e,n,i){n!==i&&(e.effectTag|=4)};var Jo="function"==typeof WeakSet?WeakSet:Set;function ta(t,e){var n=e.source,i=e.stack;null===i&&null!==n&&(i=yt(n)),null!==n&&gt(n.type),e=e.value,null!==t&&1===t.tag&&gt(t.type);try{console.error(e)}catch(t){setTimeout((function(){throw t}))}}function ea(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){vu(t,e)}else e.current=null}function na(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,i=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Qr(e.type,n),i),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ia(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}n=n.next}while(n!==e)}}function ra(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function sa(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ra(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var i=n.elementType===n.type?e.memoizedProps:Qr(n.type,e.memoizedProps);t.componentDidUpdate(i,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&hs(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}hs(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&yn(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&je(n)))));case 19:case 17:case 20:case 21:return}throw Error(o(163))}function oa(t,e,n){switch("function"==typeof xu&&xu(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var i=t.next;Br(97<n?97:n,(function(){var t=i;do{var n=t.destroy;if(void 0!==n){var r=e;try{n()}catch(t){vu(r,t)}}t=t.next}while(t!==i)}))}break;case 1:ea(e),"function"==typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){vu(t,e)}}(e,n);break;case 5:ea(e);break;case 4:la(t,e,n)}}function aa(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&aa(e)}function ua(t){return 5===t.tag||3===t.tag||4===t.tag}function ca(t){t:{for(var e=t.return;null!==e;){if(ua(e)){var n=e;break t}e=e.return}throw Error(o(160))}switch(e=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:e=e.containerInfo,i=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Lt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ua(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}i?function t(e,n,i){var r=e.tag,s=5===r||6===r;if(s)e=s?e.stateNode:e.stateNode.instance,n?8===i.nodeType?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(8===i.nodeType?(n=i.parentNode).insertBefore(e,i):(n=i).appendChild(e),null!==(i=i._reactRootContainer)&&void 0!==i||null!==n.onclick||(n.onclick=cn));else if(4!==r&&null!==(e=e.child))for(t(e,n,i),e=e.sibling;null!==e;)t(e,n,i),e=e.sibling}(t,n,e):function t(e,n,i){var r=e.tag,s=5===r||6===r;if(s)e=s?e.stateNode:e.stateNode.instance,n?i.insertBefore(e,n):i.appendChild(e);else if(4!==r&&null!==(e=e.child))for(t(e,n,i),e=e.sibling;null!==e;)t(e,n,i),e=e.sibling}(t,n,e)}function la(t,e,n){for(var i,r,s=e,a=!1;;){if(!a){a=s.return;t:for(;;){if(null===a)throw Error(o(160));switch(i=a.stateNode,a.tag){case 5:r=!1;break t;case 3:case 4:i=i.containerInfo,r=!0;break t}a=a.return}a=!0}if(5===s.tag||6===s.tag){t:for(var u=t,c=s,l=n,h=c;;)if(oa(u,h,l),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===c)break t;for(;null===h.sibling;){if(null===h.return||h.return===c)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}r?(u=i,c=s.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):i.removeChild(s.stateNode)}else if(4===s.tag){if(null!==s.child){i=s.stateNode.containerInfo,r=!0,s.child.return=s,s=s.child;continue}}else if(oa(t,s,n),null!==s.child){s.child.return=s,s=s.child;continue}if(s===e)break;for(;null===s.sibling;){if(null===s.return||s.return===e)return;4===(s=s.return).tag&&(a=!1)}s.sibling.return=s.return,s=s.sibling}}function ha(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void ia(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var i=e.memoizedProps,r=null!==t?t.memoizedProps:i;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,null!==s){for(n[Sn]=i,"input"===t&&"radio"===i.type&&null!=i.name&&Tt(n,i),on(t,r),e=on(t,i),r=0;r<s.length;r+=2){var a=s[r],u=s[r+1];"style"===a?nn(n,u):"dangerouslySetInnerHTML"===a?Vt(n,u):"children"===a?Lt(n,u):Y(n,a,u,e)}switch(t){case"input":St(n,i);break;case"textarea":Rt(n,i);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(t=i.value)?At(n,!!i.multiple,t,!1):e!==!!i.multiple&&(null!=i.defaultValue?At(n,!!i.multiple,i.defaultValue,!0):At(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(o(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,je(e.containerInfo)));case 12:return;case 13:if(n=e,null===e.memoizedState?i=!1:(i=!0,n=e.child,Na=Vr()),null!==n)t:for(t=n;;){if(5===t.tag)s=t.stateNode,i?"function"==typeof(s=s.style).setProperty?s.setProperty("display","none","important"):s.display="none":(s=t.stateNode,r=null!=(r=t.memoizedProps.style)&&r.hasOwnProperty("display")?r.display:null,s.style.display=en("display",r));else if(6===t.tag)t.stateNode.nodeValue=i?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(s=t.child.sibling).return=t,t=s;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void da(e);case 19:return void da(e);case 17:return}throw Error(o(163))}function da(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Jo),e.forEach((function(e){var i=bu.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}var pa="function"==typeof WeakMap?WeakMap:Map;function fa(t,e,n){(n=as(n,null)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){ja||(ja=!0,Fa=i),ta(t,e)},n}function ma(t,e,n){(n=as(n,null)).tag=3;var i=t.type.getDerivedStateFromError;if("function"==typeof i){var r=e.value;n.payload=function(){return ta(t,e),i(r)}}var s=t.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===qa?qa=new Set([this]):qa.add(this),ta(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var ga,ya=Math.ceil,va=X.ReactCurrentDispatcher,_a=X.ReactCurrentOwner,ba=0,wa=3,xa=4,ka=0,Ta=null,Sa=null,Oa=0,Ca=ba,Ea=null,Aa=1073741823,Da=1073741823,Ma=null,Ra=0,Pa=!1,Na=0,Ia=null,ja=!1,Fa=null,qa=null,Va=!1,La=null,za=90,Ba=null,Ua=0,Wa=null,Ka=0;function Ha(){return 0!=(48&ka)?1073741821-(Vr()/10|0):0!==Ka?Ka:Ka=1073741821-(Vr()/10|0)}function Ga(t,e,n){if(0==(2&(e=e.mode)))return 1073741823;var i=Lr();if(0==(4&e))return 99===i?1073741823:1073741822;if(0!=(16&ka))return Oa;if(null!==n)t=Gr(t,0|n.timeoutMs||5e3,250);else switch(i){case 99:t=1073741823;break;case 98:t=Gr(t,150,100);break;case 97:case 96:t=Gr(t,5e3,250);break;case 95:t=2;break;default:throw Error(o(326))}return null!==Ta&&t===Oa&&--t,t}function Qa(t,e){if(50<Ua)throw Ua=0,Wa=null,Error(o(185));if(null!==(t=$a(t,e))){var n=Lr();1073741823===e?0!=(8&ka)&&0==(48&ka)?Ja(t):(Ya(t),0===ka&&Kr()):Ya(t),0==(4&ka)||98!==n&&99!==n||(null===Ba?Ba=new Map([[t,e]]):(void 0===(n=Ba.get(t))||n>e)&&Ba.set(t,e))}}function $a(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var i=t.return,r=null;if(null===i&&3===t.tag)r=t.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<e&&(i.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(Ta===r&&(ou(e),Ca===xa&&Pu(r,Oa)),Nu(r,e)),r}function Xa(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Ru(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function Ya(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Wr(Ja.bind(null,t));else{var e=Xa(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var i=Ha();if(1073741823===e?i=99:1===e||2===e?i=95:i=0>=(i=10*(1073741821-e)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==n){var r=t.callbackPriority;if(t.callbackExpirationTime===e&&r>=i)return;n!==Rr&&kr(n)}t.callbackExpirationTime=e,t.callbackPriority=i,e=1073741823===e?Wr(Ja.bind(null,t)):Ur(i,Za.bind(null,t),{timeout:10*(1073741821-e)-Vr()}),t.callbackNode=e}}}function Za(t,e){if(Ka=0,e)return Iu(t,e=Ha()),Ya(t),null;var n=Xa(t);if(0!==n){if(e=t.callbackNode,0!=(48&ka))throw Error(o(327));if(mu(),t===Ta&&n===Oa||nu(t,n),null!==Sa){var i=ka;ka|=16;for(var r=ru();;)try{uu();break}catch(e){iu(t,e)}if(Jr(),ka=i,va.current=r,1===Ca)throw e=Ea,nu(t,n),Pu(t,n),Ya(t),e;if(null===Sa)switch(r=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,i=Ca,Ta=null,i){case ba:case 1:throw Error(o(345));case 2:Iu(t,2<n?2:n);break;case wa:if(Pu(t,n),n===(i=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=hu(r)),1073741823===Aa&&10<(r=Na+500-Vr())){if(Pa){var s=t.lastPingedTime;if(0===s||s>=n){t.lastPingedTime=n,nu(t,n);break}}if(0!==(s=Xa(t))&&s!==n)break;if(0!==i&&i!==n){t.lastPingedTime=i;break}t.timeoutHandle=_n(du.bind(null,t),r);break}du(t);break;case xa:if(Pu(t,n),n===(i=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=hu(r)),Pa&&(0===(r=t.lastPingedTime)||r>=n)){t.lastPingedTime=n,nu(t,n);break}if(0!==(r=Xa(t))&&r!==n)break;if(0!==i&&i!==n){t.lastPingedTime=i;break}if(1073741823!==Da?i=10*(1073741821-Da)-Vr():1073741823===Aa?i=0:(i=10*(1073741821-Aa)-5e3,0>(i=(r=Vr())-i)&&(i=0),(n=10*(1073741821-n)-r)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*ya(i/1960))-i)&&(i=n)),10<i){t.timeoutHandle=_n(du.bind(null,t),i);break}du(t);break;case 5:if(1073741823!==Aa&&null!==Ma){s=Aa;var a=Ma;if(0>=(i=0|a.busyMinDurationMs)?i=0:(r=0|a.busyDelayMs,i=(s=Vr()-(10*(1073741821-s)-(0|a.timeoutMs||5e3)))<=r?0:r+i-s),10<i){Pu(t,n),t.timeoutHandle=_n(du.bind(null,t),i);break}}du(t);break;default:throw Error(o(329))}if(Ya(t),t.callbackNode===e)return Za.bind(null,t)}}return null}function Ja(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!=(48&ka))throw Error(o(327));if(mu(),t===Ta&&e===Oa||nu(t,e),null!==Sa){var n=ka;ka|=16;for(var i=ru();;)try{au();break}catch(e){iu(t,e)}if(Jr(),ka=n,va.current=i,1===Ca)throw n=Ea,nu(t,e),Pu(t,e),Ya(t),n;if(null!==Sa)throw Error(o(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Ta=null,du(t),Ya(t)}return null}function tu(t,e){var n=ka;ka|=1;try{return t(e)}finally{0===(ka=n)&&Kr()}}function eu(t,e){var n=ka;ka&=-2,ka|=8;try{return t(e)}finally{0===(ka=n)&&Kr()}}function nu(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,bn(n)),null!==Sa)for(n=Sa.return;null!==n;){var i=n;switch(i.tag){case 1:null!=(i=i.type.childContextTypes)&&gr();break;case 3:Rs(),ur(dr),ur(hr);break;case 5:Ns(i);break;case 4:Rs();break;case 13:case 19:ur(Is);break;case 10:ts(i)}n=n.return}Ta=t,Sa=Ou(t.current,null),Oa=e,Ca=ba,Ea=null,Da=Aa=1073741823,Ma=null,Ra=0,Pa=!1}function iu(t,e){for(;;){try{if(Jr(),qs.current=go,Ws)for(var n=zs.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}if(Ls=0,Us=Bs=zs=null,Ws=!1,null===Sa||null===Sa.return)return Ca=1,Ea=e,Sa=null;t:{var r=t,s=Sa.return,o=Sa,a=e;if(e=Oa,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==a&&"object"==typeof a&&"function"==typeof a.then){var u=a;if(0==(2&o.mode)){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.expirationTime=c.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var l=0!=(1&Is.current),h=s;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var f=h.memoizedProps;d=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!l)}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(u),h.updateQueue=g}else m.add(u);if(0==(2&h.mode)){if(h.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var y=as(1073741823,null);y.tag=2,us(o,y)}o.expirationTime=1073741823;break t}a=void 0,o=e;var v=r.pingCache;if(null===v?(v=r.pingCache=new pa,a=new Set,v.set(u,a)):void 0===(a=v.get(u))&&(a=new Set,v.set(u,a)),!a.has(o)){a.add(o);var _=_u.bind(null,r,u,o);u.then(_,_)}h.effectTag|=4096,h.expirationTime=e;break t}h=h.return}while(null!==h);a=Error((gt(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+yt(o))}5!==Ca&&(Ca=2),a=Zo(a,o),h=s;do{switch(h.tag){case 3:u=a,h.effectTag|=4096,h.expirationTime=e,cs(h,fa(h,u,e));break t;case 1:u=a;var b=h.type,w=h.stateNode;if(0==(64&h.effectTag)&&("function"==typeof b.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===qa||!qa.has(w)))){h.effectTag|=4096,h.expirationTime=e,cs(h,ma(h,u,e));break t}}h=h.return}while(null!==h)}Sa=lu(Sa)}catch(t){e=t;continue}break}}function ru(){var t=va.current;return va.current=go,null===t?go:t}function su(t,e){t<Aa&&2<t&&(Aa=t),null!==e&&t<Da&&2<t&&(Da=t,Ma=e)}function ou(t){t>Ra&&(Ra=t)}function au(){for(;null!==Sa;)Sa=cu(Sa)}function uu(){for(;null!==Sa&&!Pr();)Sa=cu(Sa)}function cu(t){var e=ga(t.alternate,t,Oa);return t.memoizedProps=t.pendingProps,null===e&&(e=lu(t)),_a.current=null,e}function lu(t){Sa=t;do{var e=Sa.alternate;if(t=Sa.return,0==(2048&Sa.effectTag)){if(e=Xo(e,Sa,Oa),1===Oa||1!==Sa.childExpirationTime){for(var n=0,i=Sa.child;null!==i;){var r=i.expirationTime,s=i.childExpirationTime;r>n&&(n=r),s>n&&(n=s),i=i.sibling}Sa.childExpirationTime=n}if(null!==e)return e;null!==t&&0==(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Sa.firstEffect),null!==Sa.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Sa.firstEffect),t.lastEffect=Sa.lastEffect),1<Sa.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Sa:t.firstEffect=Sa,t.lastEffect=Sa))}else{if(null!==(e=Yo(Sa)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Sa.sibling))return e;Sa=t}while(null!==Sa);return Ca===ba&&(Ca=5),null}function hu(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function du(t){var e=Lr();return Br(99,pu.bind(null,t,e)),null}function pu(t,e){do{mu()}while(null!==La);if(0!=(48&ka))throw Error(o(327));var n=t.finishedWork,i=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var r=hu(n);if(t.firstPendingTime=r,i<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:i<=t.firstSuspendedTime&&(t.firstSuspendedTime=i-1),i<=t.lastPingedTime&&(t.lastPingedTime=0),i<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Ta&&(Sa=Ta=null,Oa=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){var s=ka;ka|=32,_a.current=null,mn=He;var a=pn();if(fn(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else t:{var c=(u=(u=a.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{u.nodeType,h.nodeType}catch(t){u=null;break t}var d=0,p=-1,f=-1,m=0,g=0,y=a,v=null;e:for(;;){for(var _;y!==u||0!==l&&3!==y.nodeType||(p=d+l),y!==h||0!==c&&3!==y.nodeType||(f=d+c),3===y.nodeType&&(d+=y.nodeValue.length),null!==(_=y.firstChild);)v=y,y=_;for(;;){if(y===a)break e;if(v===u&&++m===l&&(p=d),v===h&&++g===c&&(f=d),null!==(_=y.nextSibling))break;v=(y=v).parentNode}y=_}u=-1===p||-1===f?null:{start:p,end:f}}else u=null}u=u||{start:0,end:0}}else u=null;gn={activeElementDetached:null,focusedElem:a,selectionRange:u},He=!1,Ia=r;do{try{fu()}catch(t){if(null===Ia)throw Error(o(330));vu(Ia,t),Ia=Ia.nextEffect}}while(null!==Ia);Ia=r;do{try{for(a=t,u=e;null!==Ia;){var b=Ia.effectTag;if(16&b&&Lt(Ia.stateNode,""),128&b){var w=Ia.alternate;if(null!==w){var x=w.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(1038&b){case 2:ca(Ia),Ia.effectTag&=-3;break;case 6:ca(Ia),Ia.effectTag&=-3,ha(Ia.alternate,Ia);break;case 1024:Ia.effectTag&=-1025;break;case 1028:Ia.effectTag&=-1025,ha(Ia.alternate,Ia);break;case 4:ha(Ia.alternate,Ia);break;case 8:la(a,l=Ia,u),aa(l)}Ia=Ia.nextEffect}}catch(t){if(null===Ia)throw Error(o(330));vu(Ia,t),Ia=Ia.nextEffect}}while(null!==Ia);if(x=gn,w=pn(),b=x.focusedElem,u=x.selectionRange,w!==b&&b&&b.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==u&&fn(b)&&(w=u.start,void 0===(x=u.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),l=b.textContent.length,a=Math.min(u.start,l),u=void 0===u.end?a:Math.min(u.end,l),!x.extend&&a>u&&(l=u,u=a,a=l),l=dn(b,a),h=dn(b,u),l&&h&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==h.node||x.focusOffset!==h.offset)&&((w=w.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),a>u?(x.addRange(w),x.extend(h.node,h.offset)):(w.setEnd(h.node,h.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}He=!!mn,gn=mn=null,t.current=n,Ia=r;do{try{for(b=t;null!==Ia;){var k=Ia.effectTag;if(36&k&&sa(b,Ia.alternate,Ia),128&k){w=void 0;var T=Ia.ref;if(null!==T){var S=Ia.stateNode;switch(Ia.tag){case 5:w=S;break;default:w=S}"function"==typeof T?T(w):T.current=w}}Ia=Ia.nextEffect}}catch(t){if(null===Ia)throw Error(o(330));vu(Ia,t),Ia=Ia.nextEffect}}while(null!==Ia);Ia=null,Nr(),ka=s}else t.current=n;if(Va)Va=!1,La=t,za=e;else for(Ia=r;null!==Ia;)e=Ia.nextEffect,Ia.nextEffect=null,Ia=e;if(0===(e=t.firstPendingTime)&&(qa=null),1073741823===e?t===Wa?Ua++:(Ua=0,Wa=t):Ua=0,"function"==typeof wu&&wu(n.stateNode,i),Ya(t),ja)throw ja=!1,t=Fa,Fa=null,t;return 0!=(8&ka)||Kr(),null}function fu(){for(;null!==Ia;){var t=Ia.effectTag;0!=(256&t)&&na(Ia.alternate,Ia),0==(512&t)||Va||(Va=!0,Ur(97,(function(){return mu(),null}))),Ia=Ia.nextEffect}}function mu(){if(90!==za){var t=97<za?97:za;return za=90,Br(t,gu)}}function gu(){if(null===La)return!1;var t=La;if(La=null,0!=(48&ka))throw Error(o(331));var e=ka;for(ka|=32,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ia(5,n),ra(5,n)}}catch(e){if(null===t)throw Error(o(330));vu(t,e)}n=t.nextEffect,t.nextEffect=null,t=n}return ka=e,Kr(),!0}function yu(t,e,n){us(t,e=fa(t,e=Zo(n,e),1073741823)),null!==(t=$a(t,1073741823))&&Ya(t)}function vu(t,e){if(3===t.tag)yu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){yu(n,t,e);break}if(1===n.tag){var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===qa||!qa.has(i))){us(n,t=ma(n,t=Zo(e,t),1073741823)),null!==(n=$a(n,1073741823))&&Ya(n);break}}n=n.return}}function _u(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),Ta===t&&Oa===n?Ca===xa||Ca===wa&&1073741823===Aa&&Vr()-Na<500?nu(t,Oa):Pa=!0:Ru(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,Ya(t)))}function bu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=Ga(e=Ha(),t,null)),null!==(t=$a(t,e))&&Ya(t)}ga=function(t,e,n){var i=e.expirationTime;if(null!==t){var r=e.pendingProps;if(t.memoizedProps!==r||dr.current)Do=!0;else{if(i<n){switch(Do=!1,e.tag){case 3:Vo(e),Eo();break;case 5:if(Ps(e),4&e.mode&&1!==n&&r.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:mr(e.type)&&_r(e);break;case 4:Ms(e,e.stateNode.containerInfo);break;case 10:i=e.memoizedProps.value,r=e.type._context,cr($r,r._currentValue),r._currentValue=i;break;case 13:if(null!==e.memoizedState)return 0!==(i=e.child.childExpirationTime)&&i>=n?Wo(t,e,n):(cr(Is,1&Is.current),null!==(e=Qo(t,e,n))?e.sibling:null);cr(Is,1&Is.current);break;case 19:if(i=e.childExpirationTime>=n,0!=(64&t.effectTag)){if(i)return Go(t,e,n);e.effectTag|=64}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null),cr(Is,Is.current),!i)return null}return Qo(t,e,n)}Do=!1}}else Do=!1;switch(e.expirationTime=0,e.tag){case 2:if(i=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,r=fr(e,hr.current),ns(e,n),r=Gs(null,e,i,t,r,n),e.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,mr(i)){var s=!0;_r(e)}else s=!1;e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,ss(e);var a=i.getDerivedStateFromProps;"function"==typeof a&&fs(e,i,a,t),r.updater=ms,e.stateNode=r,r._reactInternalFiber=e,_s(e,i,t,n),e=qo(null,e,i,!0,s,n)}else e.tag=0,Mo(null,e,r,n),e=e.child;return e;case 16:t:{if(r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,e.type=r,s=e.tag=function(t){if("function"==typeof t)return Su(t)?1:0;if(null!=t){if((t=t.$$typeof)===ut)return 11;if(t===ht)return 14}return 2}(r),t=Qr(r,t),s){case 0:e=jo(null,e,r,t,n);break t;case 1:e=Fo(null,e,r,t,n);break t;case 11:e=Ro(null,e,r,t,n);break t;case 14:e=Po(null,e,r,Qr(r.type,t),i,n);break t}throw Error(o(306,r,""))}return e;case 0:return i=e.type,r=e.pendingProps,jo(t,e,i,r=e.elementType===i?r:Qr(i,r),n);case 1:return i=e.type,r=e.pendingProps,Fo(t,e,i,r=e.elementType===i?r:Qr(i,r),n);case 3:if(Vo(e),i=e.updateQueue,null===t||null===i)throw Error(o(282));if(i=e.pendingProps,r=null!==(r=e.memoizedState)?r.element:null,os(t,e),ls(e,i,null,n),(i=e.memoizedState.element)===r)Eo(),e=Qo(t,e,n);else{if((r=e.stateNode.hydrate)&&(wo=wn(e.stateNode.containerInfo.firstChild),bo=e,r=xo=!0),r)for(n=Ss(e,null,i,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Mo(t,e,i,n),Eo();e=e.child}return e;case 5:return Ps(e),null===t&&So(e),i=e.type,r=e.pendingProps,s=null!==t?t.memoizedProps:null,a=r.children,vn(i,r)?a=null:null!==s&&vn(i,s)&&(e.effectTag|=16),Io(t,e),4&e.mode&&1!==n&&r.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Mo(t,e,a,n),e=e.child),e;case 6:return null===t&&So(e),null;case 13:return Wo(t,e,n);case 4:return Ms(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=Ts(e,null,i,n):Mo(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,Ro(t,e,i,r=e.elementType===i?r:Qr(i,r),n);case 7:return Mo(t,e,e.pendingProps,n),e.child;case 8:case 12:return Mo(t,e,e.pendingProps.children,n),e.child;case 10:t:{i=e.type._context,r=e.pendingProps,a=e.memoizedProps,s=r.value;var u=e.type._context;if(cr($r,u._currentValue),u._currentValue=s,null!==a)if(u=a.value,0===(s=Fi(u,s)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(u,s):1073741823))){if(a.children===r.children&&!dr.current){e=Qo(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var c=u.dependencies;if(null!==c){a=u.child;for(var l=c.firstContext;null!==l;){if(l.context===i&&0!=(l.observedBits&s)){1===u.tag&&((l=as(n,null)).tag=2,us(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),es(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else a=10===u.tag&&u.type===e.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===e){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}Mo(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=(s=e.pendingProps).children,ns(e,n),i=i(r=is(r,s.unstable_observedBits)),e.effectTag|=1,Mo(t,e,i,n),e.child;case 14:return s=Qr(r=e.type,e.pendingProps),Po(t,e,r,s=Qr(r.type,s),i,n);case 15:return No(t,e,e.type,e.pendingProps,i,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Qr(i,r),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,mr(i)?(t=!0,_r(e)):t=!1,ns(e,n),ys(e,i,r),_s(e,i,r,n),qo(null,e,i,!0,t,n);case 19:return Go(t,e,n)}throw Error(o(156,e.tag))};var wu=null,xu=null;function ku(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Tu(t,e,n,i){return new ku(t,e,n,i)}function Su(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ou(t,e){var n=t.alternate;return null===n?((n=Tu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cu(t,e,n,i,r,s){var a=2;if(i=t,"function"==typeof t)Su(t)&&(a=1);else if("string"==typeof t)a=5;else t:switch(t){case nt:return Eu(n.children,r,s,e);case at:a=8,r|=7;break;case it:a=8,r|=1;break;case rt:return(t=Tu(12,n,e,8|r)).elementType=rt,t.type=rt,t.expirationTime=s,t;case ct:return(t=Tu(13,n,e,r)).type=ct,t.elementType=ct,t.expirationTime=s,t;case lt:return(t=Tu(19,n,e,r)).elementType=lt,t.expirationTime=s,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case st:a=10;break t;case ot:a=9;break t;case ut:a=11;break t;case ht:a=14;break t;case dt:a=16,i=null;break t;case pt:a=22;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Tu(a,n,e,r)).elementType=t,e.type=i,e.expirationTime=s,e}function Eu(t,e,n,i){return(t=Tu(7,t,i,e)).expirationTime=n,t}function Au(t,e,n){return(t=Tu(6,t,null,e)).expirationTime=n,t}function Du(t,e,n){return(e=Tu(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Mu(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ru(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Pu(t,e){var n=t.firstSuspendedTime,i=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(i>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Nu(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Iu(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function ju(t,e,n,i){var r=e.current,s=Ha(),a=ds.suspense;s=Ga(s,r,a);t:if(n){e:{if(Jt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(mr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mr(c)){n=vr(n,c,u);break t}}n=u}else n=lr;return null===e.context?e.context=n:e.pendingContext=n,(e=as(s,a)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),us(r,e),Qa(r,s),s}function Fu(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function qu(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Vu(t,e){qu(t,e),(t=t.alternate)&&qu(t,e)}function Lu(t,e,n){var i=new Mu(t,e,n=null!=n&&!0===n.hydrate),r=Tu(3,null,null,2===e?7:1===e?3:0);i.current=r,r.stateNode=i,ss(r),t[On]=i.current,n&&0!==e&&function(t,e){var n=Zt(e);Oe.forEach((function(t){fe(t,e,n)})),Ce.forEach((function(t){fe(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=i}function zu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Bu(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if("function"==typeof r){var a=r;r=function(){var t=Fu(o);a.call(t)}}ju(e,o,t,r)}else{if(s=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Lu(t,0,e?{hydrate:!0}:void 0)}(n,i),o=s._internalRoot,"function"==typeof r){var u=r;r=function(){var t=Fu(o);u.call(t)}}eu((function(){ju(e,o,t,r)}))}return Fu(o)}function Uu(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}function Wu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!zu(e))throw Error(o(200));return Uu(t,e,null,n)}Lu.prototype.render=function(t){ju(t,this._internalRoot,null,null)},Lu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;ju(null,t,null,(function(){e[On]=null}))},me=function(t){if(13===t.tag){var e=Gr(Ha(),150,100);Qa(t,e),Vu(t,e)}},ge=function(t){13===t.tag&&(Qa(t,3),Vu(t,3))},ye=function(t){if(13===t.tag){var e=Ha();Qa(t,e=Ga(e,t,null)),Vu(t,e)}},E=function(t,e,n){switch(e){case"input":if(St(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Dn(i);if(!r)throw Error(o(90));wt(i),St(i,r)}}}break;case"textarea":Rt(t,n);break;case"select":null!=(e=n.value)&&At(t,!!n.multiple,e,!1)}},N=tu,I=function(t,e,n,i,r){var s=ka;ka|=4;try{return Br(98,t.bind(null,e,n,i,r))}finally{0===(ka=s)&&Kr()}},j=function(){0==(49&ka)&&(function(){if(null!==Ba){var t=Ba;Ba=null,t.forEach((function(t,e){Iu(e,t),Ya(e)})),Kr()}}(),mu())},F=function(t,e){var n=ka;ka|=2;try{return t(e)}finally{0===(ka=n)&&Kr()}};var Ku,Hu,Gu={Events:[En,An,Dn,O,k,Fn,function(t){re(t,jn)},R,P,Ye,ae,mu,{current:!1}]};Hu=(Ku={findFiberByHostInstance:Cn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);wu=function(t){try{e.onCommitFiberRoot(n,t,void 0,64==(64&t.current.effectTag))}catch(t){}},xu=function(t){try{e.onCommitFiberUnmount(n,t)}catch(t){}}}catch(t){}}(r({},Ku,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ne(t))?null:t.stateNode},findFiberByHostInstance:function(t){return Hu?Hu(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gu,e.createPortal=Wu,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"==typeof t.render)throw Error(o(188));throw Error(o(268,Object.keys(t)))}return t=null===(t=ne(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!=(48&ka))throw Error(o(187));var n=ka;ka|=1;try{return Br(99,t.bind(null,e))}finally{ka=n,Kr()}},e.hydrate=function(t,e,n){if(!zu(e))throw Error(o(200));return Bu(null,t,e,!0,n)},e.render=function(t,e,n){if(!zu(e))throw Error(o(200));return Bu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!zu(t))throw Error(o(40));return!!t._reactRootContainer&&(eu((function(){Bu(null,null,t,!1,(function(){t._reactRootContainer=null,t[On]=null}))})),!0)},e.unstable_batchedUpdates=tu,e.unstable_createPortal=function(t,e){return Wu(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!zu(n))throw Error(o(200));if(null==t||void 0===t._reactInternalFiber)throw Error(o(38));return Bu(t,e,n,!1,i)},e.version="16.13.1"},function(t,e,n){"use strict";t.exports=n(13)},function(t,e,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i,r,s,o,a;if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,l=function(){if(null!==u)try{var t=e.unstable_now();u(!0,t),u=null}catch(t){throw setTimeout(l,0),t}},h=Date.now();e.unstable_now=function(){return Date.now()-h},i=function(t){null!==u?setTimeout(i,0,t):(u=t,setTimeout(l,0))},r=function(t,e){c=setTimeout(t,e)},s=function(){clearTimeout(c)},o=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var d=window.performance,p=window.Date,f=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)e.unstable_now=function(){return d.now()};else{var y=p.now();e.unstable_now=function(){return p.now()-y}}var v=!1,_=null,b=-1,w=5,x=0;o=function(){return e.unstable_now()>=x},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<t?Math.floor(1e3/t):5};var k=new MessageChannel,T=k.port2;k.port1.onmessage=function(){if(null!==_){var t=e.unstable_now();x=t+w;try{_(!0,t)?T.postMessage(null):(v=!1,_=null)}catch(t){throw T.postMessage(null),t}}else v=!1},i=function(t){_=t,v||(v=!0,T.postMessage(null))},r=function(t,n){b=f((function(){t(e.unstable_now())}),n)},s=function(){m(b),b=-1}}function S(t,e){var n=t.length;t.push(e);t:for(;;){var i=n-1>>>1,r=t[i];if(!(void 0!==r&&0<E(r,e)))break t;t[i]=e,t[n]=r,n=i}}function O(t){return void 0===(t=t[0])?null:t}function C(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length;i<r;){var s=2*(i+1)-1,o=t[s],a=s+1,u=t[a];if(void 0!==o&&0>E(o,n))void 0!==u&&0>E(u,o)?(t[i]=u,t[a]=n,i=a):(t[i]=o,t[s]=n,i=s);else{if(!(void 0!==u&&0>E(u,n)))break t;t[i]=u,t[a]=n,i=a}}}return e}return null}function E(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var A=[],D=[],M=1,R=null,P=3,N=!1,I=!1,j=!1;function F(t){for(var e=O(D);null!==e;){if(null===e.callback)C(D);else{if(!(e.startTime<=t))break;C(D),e.sortIndex=e.expirationTime,S(A,e)}e=O(D)}}function q(t){if(j=!1,F(t),!I)if(null!==O(A))I=!0,i(V);else{var e=O(D);null!==e&&r(q,e.startTime-t)}}function V(t,n){I=!1,j&&(j=!1,s()),N=!0;var i=P;try{for(F(n),R=O(A);null!==R&&(!(R.expirationTime>n)||t&&!o());){var a=R.callback;if(null!==a){R.callback=null,P=R.priorityLevel;var u=a(R.expirationTime<=n);n=e.unstable_now(),"function"==typeof u?R.callback=u:R===O(A)&&C(A),F(n)}else C(A);R=O(A)}if(null!==R)var c=!0;else{var l=O(D);null!==l&&r(q,l.startTime-n),c=!1}return c}finally{R=null,P=i,N=!1}}function L(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var z=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){I||N||(I=!0,i(V))},e.unstable_getCurrentPriorityLevel=function(){return P},e.unstable_getFirstCallbackNode=function(){return O(A)},e.unstable_next=function(t){switch(P){case 1:case 2:case 3:var e=3;break;default:e=P}var n=P;P=e;try{return t()}finally{P=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=z,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=P;P=t;try{return e()}finally{P=n}},e.unstable_scheduleCallback=function(t,n,o){var a=e.unstable_now();if("object"==typeof o&&null!==o){var u=o.delay;u="number"==typeof u&&0<u?a+u:a,o="number"==typeof o.timeout?o.timeout:L(t)}else o=L(t),u=a;return t={id:M++,callback:n,priorityLevel:t,startTime:u,expirationTime:o=u+o,sortIndex:-1},u>a?(t.sortIndex=u,S(D,t),null===O(A)&&t===O(D)&&(j?s():j=!0,r(q,u-a))):(t.sortIndex=o,S(A,t),I||N||(I=!0,i(V))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();F(t);var n=O(A);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<R.expirationTime||o()},e.unstable_wrapCallback=function(t){var e=P;return function(){var n=P;P=e;try{return t.apply(this,arguments)}finally{P=n}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardUtils=void 0;var i=n(32),r=n(7),s=function(){function t(){}return t.getKeyName=function(t,e){return""+t+e},t.getKeyType=function(t){switch(t){case r.Notes.C:case r.Notes.D:case r.Notes.E:case r.Notes.F:case r.Notes.G:case r.Notes.A:case r.Notes.B:return i.KeyType.WHITE;default:return i.KeyType.BLACK}},t.getNoteFromString=function(t){switch(t){case"C":return r.Notes.C;case"C#":return r.Notes.C_SHARP;case"D":return r.Notes.D;case"D#":return r.Notes.D_SHARP;case"E":return r.Notes.E;case"F":return r.Notes.F;case"F#":return r.Notes.F_SHARP;case"G":return r.Notes.G;case"G#":return r.Notes.G_SHARP;case"A":return r.Notes.A;case"A#":return r.Notes.A_SHARP}},t.getOctaveFromString=function(t){switch(t){case"1":return r.Octaves.ONE;case"2":return r.Octaves.TWO;case"3":return r.Octaves.THREE;case"4":return r.Octaves.FOUR;case"5":return r.Octaves.FIVE;case"6":return r.Octaves.SIX}},t.generateKeys=function(t,e,n){for(var s=[],o=r.octaves.indexOf(e),a=r.octaves[o],u=r.allNotes.indexOf(t),c=12*n,l=0;l<c;l++){var h=r.allNotes[u];if(a=r.octaves[o],s.push(new i.KeyboardKey(h,a)),++u===r.allNotes.length&&(u=0),r.allNotes[u]===r.Notes.C&&++o===r.octaves.length)return s}return s.push(new i.KeyboardKey(t,r.octaves[o])),s},t}();e.KeyboardUtils=s},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0}),e.AddKeyboardDialogState=e.KeyboardRowLocation=void 0;var r,s=n(1),o=n(7),a=n(14);!function(t){t.TOP="top",t.BOT="bot"}(r=e.KeyboardRowLocation||(e.KeyboardRowLocation={}));var u=function(){function t(){this.open=!1,this.startNote=o.Notes.C,this.startOctave=o.Octaves.THREE,this.numOctaves=2,this.location=r.TOP}return t.prototype.startAddKeyboard=function(t){this.location=t,this.open=!0},t.prototype.close=function(){this.open=!1},t.prototype.setStartNote=function(t){this.startNote=a.KeyboardUtils.getNoteFromString(t)},t.prototype.setStartOctave=function(t){this.startOctave=a.KeyboardUtils.getOctaveFromString(t)},t.prototype.setNumOctaves=function(t){this.numOctaves=parseInt(t,10)},i([s.observable],t.prototype,"open",void 0),i([s.observable],t.prototype,"startNote",void 0),i([s.observable],t.prototype,"startOctave",void 0),i([s.observable],t.prototype,"numOctaves",void 0),i([s.action],t.prototype,"startAddKeyboard",null),i([s.action],t.prototype,"close",null),i([s.action],t.prototype,"setStartNote",null),i([s.action],t.prototype,"setStartOctave",null),i([s.action],t.prototype,"setNumOctaves",null),t}();e.AddKeyboardDialogState=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.WhiteKey=void 0;var a=n(4),u=o(n(0)),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){var t=this.props,e=t.keyboard,n=t.keyboardKey,i=e.isKeyPlaying(n)?"playing":"";return u.default.createElement("div",{className:"white-key "+i,onMouseEnter:function(){return e.onMouseEnterKey(n)},onMouseLeave:function(){return e.onMouseLeaveKey(n)},onMouseDown:function(t){t.preventDefault(),e.onMouseDownKey(n)},onMouseUp:function(){return e.onMouseUpKey(n)}})},e=s([a.observer],e)}(u.default.Component);e.WhiteKey=c},function(t,e,n){t.exports=n(19)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),s=i(n(10)),o=n(20);s.default.render(r.default.createElement(o.App,null),document.getElementById("app-root"))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0;var a=n(4),u=o(n(0)),c=n(22),l=n(35),h=n(38),d=n(51);n(54);var p=n(16),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.appState=new c.AppState,e}return r(e,t),e.prototype.render=function(){var t=this;return u.default.createElement(u.default.Fragment,null,u.default.createElement(l.Header,{appState:this.appState}),u.default.createElement(d.AddKeyboardDialog,{dialogState:this.appState.addKeyboardDialogState,onAddKeyboard:function(){return t.appState.addKeyboard()}}),u.default.createElement("div",{className:"top-row"},u.default.createElement(h.KeyboardRow,{keyboardRow:this.appState.topRowKeyboards,addKeyboard:function(){return t.appState.startAddTopRowKeyboard()},removeKeyboard:function(e){return t.appState.removeKeyboard(e,p.KeyboardRowLocation.TOP)}})),u.default.createElement("div",{className:"bot-row"},u.default.createElement(h.KeyboardRow,{keyboardRow:this.appState.botRowKeyboards,addKeyboard:function(){return t.appState.startAddBotRowKeyboard()},removeKeyboard:function(e){return t.appState.removeKeyboard(e,p.KeyboardRowLocation.BOT)}})))},e=s([a.observer],e)}(u.default.PureComponent);e.App=f},function(t,e){var n,i,r=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var u,c=[],l=!1,h=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&p())}function p(){if(!l){var t=a(d);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||l||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0}),e.AppState=void 0;var r=n(1),s=n(7),o=n(34),a=n(16),u=function(){function t(){this.topRowKeyboards=[],this.botRowKeyboards=[],this.addKeyboardDialogState=new a.AddKeyboardDialogState}return t.prototype.startAddTopRowKeyboard=function(){this.addKeyboardDialogState.startAddKeyboard(a.KeyboardRowLocation.TOP)},t.prototype.startAddBotRowKeyboard=function(){this.addKeyboardDialogState.startAddKeyboard(a.KeyboardRowLocation.BOT)},t.prototype.addKeyboard=function(){this.addKeyboardDialogState.close();var t=this.addKeyboardDialogState.location,e=o.RandomId.createId(),n=this.addKeyboardDialogState.startNote,i=this.addKeyboardDialogState.startOctave,r=this.addKeyboardDialogState.numOctaves,u=new s.KeyboardItem(e,n,i,r);t===a.KeyboardRowLocation.TOP?this.topRowKeyboards.push(u):this.botRowKeyboards.push(u)},t.prototype.removeKeyboard=function(t,e){e===a.KeyboardRowLocation.TOP?(this.topRowKeyboards.find((function(e){return e.id===t})).removeKeyboard(),this.topRowKeyboards=this.topRowKeyboards.filter((function(e){return e.id!==t}))):(this.botRowKeyboards.find((function(e){return e.id===t})).removeKeyboard(),this.botRowKeyboards=this.botRowKeyboards.filter((function(e){return e.id!==t})))},i([r.observable],t.prototype,"topRowKeyboards",void 0),i([r.observable],t.prototype,"botRowKeyboards",void 0),i([r.action],t.prototype,"startAddTopRowKeyboard",null),i([r.action],t.prototype,"startAddBotRowKeyboard",null),i([r.action],t.prototype,"addKeyboard",null),i([r.action],t.prototype,"removeKeyboard",null),t}();e.AppState=u},function(t,e,n){var i=n(24),r=n(25),s=n(26),o=n(28);t.exports=function(t,e){return i(t)||r(t,e)||s(t,e)||o()},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,s=[],o=!0,a=!1;try{for(n=n.call(t);!(o=(i=n.next()).done)&&(s.push(i.value),!e||s.length!==e);o=!0);}catch(t){a=!0,r=t}finally{try{o||null==n.return||n.return()}finally{if(a)throw r}}return s}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var i=n(27);t.exports=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hotkeyManager=void 0;var i=function(){function t(){var t=this;this.pressedKeys=[],this.lastPressedKey="",this.keyDownListeners=[],this.keyUpListeners=[],this.onKeyDown=function(e){t.lastPressedKey!==e.key&&(t.lastPressedKey=e.key,t.pressedKeys.push(e.key),t.keyDownListeners.forEach((function(t){return t(e.key)})))},this.onKeyUp=function(e){t.pressedKeys=t.pressedKeys.filter((function(t){return t!==e.key})),t.keyUpListeners.forEach((function(t){return t(e.key)})),t.lastPressedKey=""},window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)}return t.prototype.addKeyDownListener=function(t){this.keyDownListeners.push(t)},t.prototype.addKeyUpListener=function(t){this.keyUpListeners.push(t)},t.prototype.removeListener=function(t){this.keyDownListeners=this.keyDownListeners.filter((function(e){return e!==t})),this.keyUpListeners=this.keyUpListeners.filter((function(e){return e!==t}))},t}();e.hotkeyManager=new i},function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardKey=e.KeyType=void 0;var r=n(1),s=n(14);!function(t){t.WHITE="white",t.BLACK="black"}(e.KeyType||(e.KeyType={}));var o=function(){function t(t,e){this.hotkey="",this.note=t,this.octave=e,this.name=s.KeyboardUtils.getKeyName(t,e),this.type=s.KeyboardUtils.getKeyType(t)}return t.prototype.setHotkey=function(t){this.hotkey=t},t.prototype.clearHotkey=function(){this.hotkey=""},i([r.observable],t.prototype,"hotkey",void 0),i([r.action],t.prototype,"setHotkey",null),i([r.action],t.prototype,"clearHotkey",null),t}();e.KeyboardKey=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mouseUtils=void 0;var i=function(){var t=this;this.mousedown=!1,this.onMouseDown=function(e){t.mousedown=!0},this.onMouseUp=function(e){t.mousedown=!1},document.addEventListener("mousedown",this.onMouseDown),document.addEventListener("mouseup",this.onMouseUp)};e.mouseUtils=new i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomId=void 0;var i=function(){function t(){}return t.createId=function(){for(var t="",e=0;e<this.idLength;e++)t+=this.characters.charAt(Math.floor(Math.random()*this.characters.length));return t},t.characters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t.idLength=5,t}();e.RandomId=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Header=void 0;var o=s(n(0));n(36);var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){this.props.appState;return o.default.createElement("div",{className:"header"},"Keyboardist")},e}(o.default.Component);e.Header=a},function(t,e,n){var i=n(5),r=n(37);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};i(r,s);t.exports=r.locals||{}},function(t,e,n){(e=n(6)(!1)).push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Comfortaa:wght@700&display=swap);"]),e.push([t.i,".header{position:fixed;width:100%;height:50px;background-color:grey;color:white;font-family:'Comfortaa', cursive;font-size:1.5rem;display:flex;align-items:center;justify-content:center}\n",""]),t.exports=e},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardRow=void 0;var a=n(4),u=o(n(0)),c=n(39);n(49);var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){var t=this.props,e=t.keyboardRow,n=t.addKeyboard,i=t.removeKeyboard;return u.default.createElement("div",{className:"keyboard-row"},u.default.createElement("div",{className:"add-keyboard",onClick:function(){return n()}},"+"),e.map((function(t){return u.default.createElement(c.Keyboard,{key:t.id,keyboard:t,onRemove:function(){return i(t.id)}})})))},e=s([a.observer],e)}(u.default.Component);e.KeyboardRow=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Keyboard=void 0;var a=n(4),u=o(n(0)),c=n(7),l=n(40),h=n(43),d=n(46),p=n(17);n(47);var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){var t=this.props,e=t.keyboard,n=t.onRemove;return u.default.createElement("div",{className:"keyboard"},u.default.createElement("div",{className:"top-row"},u.default.createElement(h.KeyboardTopControls,{keyboard:e,onRemove:function(){return n()}})),u.default.createElement("div",{className:"clear-hk"},u.default.createElement("div",{className:"keyboard-button",onClick:e.clearAllHotkeys},"CLEAR HOTKEYS")),u.default.createElement("div",{className:"hotkeys-row"},u.default.createElement(l.KeyboardHotkeysRow,{keyboard:e})),u.default.createElement("div",{className:"left-side"}),u.default.createElement("div",{className:"keys-area"},this.renderKeys()),u.default.createElement("div",{className:"right-side"}))},e.prototype.renderKeys=function(){var t=this,e=this.props.keyboard,n=[];e.keys.forEach((function(i,r){switch(i.note){case c.Notes.B:case c.Notes.E:n.push(t.renderWhiteKey(i));break;case c.Notes.C:case c.Notes.D:case c.Notes.F:case c.Notes.G:case c.Notes.A:if(r+1<e.keys.length){var s=e.keys[r+1];n.push(t.renderWhiteBlackKeyPair(i,s))}}}));var i=e.keys[e.keys.length-1];return n.push(this.renderWhiteKey(i)),n},e.prototype.renderWhiteKey=function(t){var e=this.props.keyboard;return u.default.createElement(p.WhiteKey,{key:e.id+"-"+t.name,keyboard:e,keyboardKey:t})},e.prototype.renderWhiteBlackKeyPair=function(t,e){var n=this.props.keyboard;return u.default.createElement(d.WhiteBlackKeyPair,{key:n.id+"-"+e.name,keyboard:n,wKey:t,bKey:e})},e=s([a.observer],e)}(u.default.Component);e.Keyboard=f},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardHotkeysRow=void 0;var a=n(4),u=o(n(0)),c=n(7);n(41);var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){return u.default.createElement("div",{className:"hotkeys-container"},this.renderHotkeyBoxes())},e.prototype.renderHotkeyBoxes=function(){for(var t=this.props.keyboard,e=[],n=[],i=t.keys.length-1,r=0;r<i;r++){var s=t.keys[r];switch(s.note){case c.Notes.C:case c.Notes.D:case c.Notes.F:case c.Notes.G:case c.Notes.A:e.push(this.renderHotkeyBox(s));break;case c.Notes.E:case c.Notes.B:e.push(this.renderHotkeyBox(s)),n.push(u.default.createElement("div",{key:"hks-"+t.id+"-"+r,className:"hotkey-spacer"}));break;case c.Notes.C_SHARP:case c.Notes.D_SHARP:case c.Notes.F_SHARP:case c.Notes.G_SHARP:case c.Notes.A_SHARP:n.push(this.renderHotkeyBox(s))}}var o=t.keys[t.keys.length-1];return e.push(this.renderHotkeyBox(o)),u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"hotkey-row black"},n),u.default.createElement("div",{className:"hotkey-row"},e))},e.prototype.renderHotkeyBox=function(t){var e,n=this.props.keyboard,i=(null===(e=n.hotkeyAssignKey)||void 0===e?void 0:e.name)===t.name?"listening":"",r=["hotkey-box",t.type,i];return u.default.createElement("div",{key:"hk-"+n.id+"-"+t.name,className:r.join(" "),onClick:function(){return n.startAssignHotkey(t)},onContextMenu:function(e){e.preventDefault(),n.clearHotkey(t)}},t.hotkey)},e=s([a.observer],e)}(u.default.Component);e.KeyboardHotkeysRow=l},function(t,e,n){var i=n(5),r=n(42);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};i(r,s);t.exports=r.locals||{}},function(t,e,n){(e=n(6)(!1)).push([t.i,".hotkeys-container{height:40px;width:100%;display:flex;flex-direction:column}.hotkeys-container .hotkey-row{display:flex;align-items:center}.hotkeys-container .hotkey-row.black{padding-left:15px}.hotkeys-container .hotkey-box{width:20px;height:20px;border:1px solid black;box-sizing:border-box;display:flex;justify-content:center;align-items:center}.hotkeys-container .hotkey-box:hover{cursor:pointer}.hotkeys-container .hotkey-box.black{margin-left:5px;margin-right:5px}.hotkeys-container .hotkey-box.white{margin-left:5px;margin-right:5px}.hotkeys-container .hotkey-box.listening{box-shadow:inset 0px 0px 2px 2px rgba(101,139,241,0.75)}.hotkeys-container .hotkey-spacer{width:30px}\n",""]),t.exports=e},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardTopControls=void 0;var a=n(4),u=o(n(0));n(44);var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){var t=this.props.onRemove;return u.default.createElement("div",{className:"keyboard-top-controls"},u.default.createElement("button",{onClick:function(){return t()}},"Remove"))},e=s([a.observer],e)}(u.default.Component);e.KeyboardTopControls=c},function(t,e,n){var i=n(5),r=n(45);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};i(r,s);t.exports=r.locals||{}},function(t,e,n){(e=n(6)(!1)).push([t.i,".keyboard-top-controls{height:100%;width:100%;padding:3px;box-sizing:border-box;display:flex;flex-wrap:nowrap;align-items:center;justify-content:flex-end}.keyboard-top-controls .start-key-select{display:flex;align-items:center;gap:3px}\n",""]),t.exports=e},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.WhiteBlackKeyPair=void 0;var a=n(4),u=o(n(0)),c=n(17),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){var t=this.props,e=t.keyboard,n=t.wKey,i=t.bKey,r=e.isKeyPlaying(i)?"playing":"";return u.default.createElement("div",{className:"key-pair"},u.default.createElement(c.WhiteKey,{keyboard:e,keyboardKey:n}),u.default.createElement("div",{className:"black-key "+r,onMouseEnter:function(){return e.onMouseEnterKey(i)},onMouseLeave:function(){return e.onMouseLeaveKey(i)},onMouseDown:function(t){t.preventDefault(),e.onMouseDownKey(i)},onMouseUp:function(){return e.onMouseUpKey(i)}}))},e=s([a.observer],e)}(u.default.Component);e.WhiteBlackKeyPair=l},function(t,e,n){var i=n(5),r=n(48);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};i(r,s);t.exports=r.locals||{}},function(t,e,n){(e=n(6)(!1)).push([t.i,".keyboard{flex-grow:0;flex-shrink:0;height:200px;border:1px solid black;box-sizing:border-box;margin-left:20px;display:grid;grid-template-areas:'top top top'\r 'clear-hk hk ..'\r 'left keys right';grid-template-rows:minmax(0, auto) min-content minmax(0, 120px);grid-template-columns:minmax(0, 60px) min-content minmax(0, 60px)}.keyboard .top-row{grid-area:top}.keyboard .clear-hk{grid-area:clear-hk;padding:3px;display:flex;justify-content:center;align-items:center}.keyboard .hotkeys-row{grid-area:hk}.keyboard .left-side{grid-area:left}.keyboard .right-side{grid-area:right}.keyboard .keys-area{grid-area:keys;border:3px solid black;border-radius:2px;box-sizing:border-box;display:flex}.keyboard .keys-area .key-pair{height:100%;position:relative}.keyboard .keys-area .white-key{width:28px;height:100%;border:1px solid black;border-radius:2px;box-sizing:content-box}.keyboard .keys-area .white-key.playing{background-color:grey}.keyboard .keys-area .black-key{z-index:10;position:absolute;top:0;right:-8.5px;width:19px;height:60%;background-color:black;border-radius:2px 2px 5px 5px}.keyboard .keys-area .black-key.playing{background-color:grey}.keyboard .keyboard-button{border:1px solid black;box-sizing:border-box;user-select:none;cursor:pointer;display:flex;justify-content:center;align-items:center;font-size:10px}\n",""]),t.exports=e},function(t,e,n){var i=n(5),r=n(50);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};i(r,s);t.exports=r.locals||{}},function(t,e,n){(e=n(6)(!1)).push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Comfortaa:wght@700&display=swap);"]),e.push([t.i,".keyboard-row{height:100%;display:flex;flex-wrap:nowrap;align-items:center}.keyboard-row .add-keyboard{flex:0 0 50px;width:50px;height:50px;background-color:grey;border-radius:5px;color:white;font-family:'Comfortaa', cursive;font-size:1.5rem;margin-left:5px;user-select:none;display:flex;justify-content:center;align-items:center;cursor:pointer}\n",""]),t.exports=e},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AddKeyboardDialog=void 0;var a=n(4),u=o(n(0)),c=n(7);n(52);var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){var t=this.props,e=t.dialogState,n=t.onAddKeyboard,i=e.open?"open":"closed";return u.default.createElement("div",{className:"add-keyboard-dialog "+i},this.renderFirstNoteSelect(),this.renderFirstOctaveSelect(),this.renderNumOctavesSelect(),u.default.createElement("div",{className:"controls"},u.default.createElement("button",{onClick:function(){return e.close()}},"Close"),u.default.createElement("button",{onClick:function(){return n()}},"Add Keyboard")))},e.prototype.renderFirstNoteSelect=function(){var t=this.props.dialogState;return u.default.createElement("div",{className:"first-note-select"},u.default.createElement("span",{className:"label"},"Start key"),u.default.createElement("select",{value:t.startNote,onChange:function(e){return t.setStartNote(e.target.value)}},u.default.createElement("option",{value:c.Notes.C},"C"),u.default.createElement("option",{value:c.Notes.C_SHARP},"C#"),u.default.createElement("option",{value:c.Notes.D},"D"),u.default.createElement("option",{value:c.Notes.D_SHARP},"D#"),u.default.createElement("option",{value:c.Notes.E},"E"),u.default.createElement("option",{value:c.Notes.F},"F"),u.default.createElement("option",{value:c.Notes.F_SHARP},"F#"),u.default.createElement("option",{value:c.Notes.G},"G"),u.default.createElement("option",{value:c.Notes.G_SHARP},"G#"),u.default.createElement("option",{value:c.Notes.A},"A"),u.default.createElement("option",{value:c.Notes.A_SHARP},"A#"),u.default.createElement("option",{value:c.Notes.B},"B")))},e.prototype.renderFirstOctaveSelect=function(){var t=this.props.dialogState;return u.default.createElement("div",{className:"first-octave-select"},u.default.createElement("span",{className:"label"},"Start octave"),u.default.createElement("select",{value:t.startOctave,onChange:function(e){return t.setStartOctave(e.target.value)}},u.default.createElement("option",{value:c.Octaves.ONE},"One"),u.default.createElement("option",{value:c.Octaves.TWO},"Two"),u.default.createElement("option",{value:c.Octaves.THREE},"Three"),u.default.createElement("option",{value:c.Octaves.FOUR},"Four"),u.default.createElement("option",{value:c.Octaves.FIVE},"Five"),u.default.createElement("option",{value:c.Octaves.SIX},"Six")))},e.prototype.renderNumOctavesSelect=function(){var t=this.props.dialogState;return u.default.createElement("div",{className:"first-octave-select"},u.default.createElement("span",{className:"label"},"Octave count"),u.default.createElement("select",{value:t.numOctaves,onChange:function(e){return t.setNumOctaves(e.target.value)}},u.default.createElement("option",{value:c.Octaves.ONE},"One"),u.default.createElement("option",{value:c.Octaves.TWO},"Two"),u.default.createElement("option",{value:c.Octaves.THREE},"Three"),u.default.createElement("option",{value:c.Octaves.FOUR},"Four"),u.default.createElement("option",{value:c.Octaves.FIVE},"Five"),u.default.createElement("option",{value:c.Octaves.SIX},"Six")))},e=s([a.observer],e)}(u.default.Component);e.AddKeyboardDialog=l},function(t,e,n){var i=n(5),r=n(53);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};i(r,s);t.exports=r.locals||{}},function(t,e,n){(e=n(6)(!1)).push([t.i,".add-keyboard-dialog{z-index:100;position:absolute;width:300px;height:fit-content;top:50%;left:50%;transform:translate(-50%, -50%);padding:15px;border:1px solid black;border-radius:5px;background-color:white;display:flex;flex-direction:column;align-items:center;gap:20px}.add-keyboard-dialog.closed{display:none}.add-keyboard-dialog .label{margin-right:5px}.add-keyboard-dialog .controls{display:flex;gap:10px}\n",""]),t.exports=e},function(t,e,n){var i=n(5),r=n(55);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};i(r,s);t.exports=r.locals||{}},function(t,e,n){(e=n(6)(!1)).push([t.i,"body{margin:0;padding:0}#app-root{width:100vw;height:100vh;overflow-y:hidden;overflow-x:scroll;position:relative;display:grid;grid-template-areas:'header'\r 'top-row'\r 'bot-row';grid-template-rows:minmax(0, 50px) minmax(0, 50%) minmax(0, 50%);grid-template-columns:minmax(0, auto)}.header{grid-area:header}.top-row{grid-area:top-row}.bot-row{grid-area:bot-row}\n",""]),t.exports=e},,function(t,e,n){"use strict";n.r(e),n.d(e,"getContext",(function(){return ts})),n.d(e,"setContext",(function(){return es})),n.d(e,"Clock",(function(){return Ns})),n.d(e,"Context",(function(){return Hr})),n.d(e,"BaseContext",(function(){return Kr})),n.d(e,"Delay",(function(){return Is})),n.d(e,"Gain",(function(){return Os})),n.d(e,"Offline",(function(){return js})),n.d(e,"OfflineContext",(function(){return Yr})),n.d(e,"Param",(function(){return ws})),n.d(e,"ToneAudioBuffer",(function(){return Xr})),n.d(e,"ToneAudioBuffers",(function(){return Fs})),n.d(e,"ToneAudioNode",(function(){return xs})),n.d(e,"connectSeries",(function(){return ks})),n.d(e,"connect",(function(){return Ts})),n.d(e,"disconnect",(function(){return Ss})),n.d(e,"FrequencyClass",(function(){return ps})),n.d(e,"Frequency",(function(){return gs})),n.d(e,"MidiClass",(function(){return qs})),n.d(e,"Midi",(function(){return Vs})),n.d(e,"TimeClass",(function(){return hs})),n.d(e,"Time",(function(){return ds})),n.d(e,"TicksClass",(function(){return Ls})),n.d(e,"Ticks",(function(){return zs})),n.d(e,"TransportTimeClass",(function(){return ys})),n.d(e,"TransportTime",(function(){return vs})),n.d(e,"Emitter",(function(){return Wr})),n.d(e,"IntervalTimeline",(function(){return Us})),n.d(e,"StateTimeline",(function(){return bs})),n.d(e,"Timeline",(function(){return Vr})),n.d(e,"isUndef",(function(){return cr})),n.d(e,"isDefined",(function(){return lr})),n.d(e,"isFunction",(function(){return hr})),n.d(e,"isNumber",(function(){return dr})),n.d(e,"isObject",(function(){return pr})),n.d(e,"isBoolean",(function(){return fr})),n.d(e,"isArray",(function(){return mr})),n.d(e,"isString",(function(){return gr})),n.d(e,"isNote",(function(){return yr})),n.d(e,"dbToGain",(function(){return is})),n.d(e,"gainToDb",(function(){return rs})),n.d(e,"intervalToFrequencyRatio",(function(){return ss})),n.d(e,"ftom",(function(){return as})),n.d(e,"mtof",(function(){return cs})),n.d(e,"optionsFromArguments",(function(){return Dr})),n.d(e,"defaultArg",(function(){return Mr})),n.d(e,"Unit",(function(){return r})),n.d(e,"debug",(function(){return i})),n.d(e,"Noise",(function(){return Js})),n.d(e,"UserMedia",(function(){return no})),n.d(e,"Oscillator",(function(){return so})),n.d(e,"AMOscillator",(function(){return lo})),n.d(e,"FMOscillator",(function(){return ho})),n.d(e,"PulseOscillator",(function(){return po})),n.d(e,"FatOscillator",(function(){return fo})),n.d(e,"PWMOscillator",(function(){return mo})),n.d(e,"OmniOscillator",(function(){return yo})),n.d(e,"ToneOscillatorNode",(function(){return ro})),n.d(e,"LFO",(function(){return wo})),n.d(e,"ToneBufferSource",(function(){return Zs})),n.d(e,"Player",(function(){return To})),n.d(e,"Players",(function(){return So})),n.d(e,"GrainPlayer",(function(){return Oo})),n.d(e,"Add",(function(){return vo})),n.d(e,"Abs",(function(){return Co})),n.d(e,"AudioToGain",(function(){return uo})),n.d(e,"GainToAudio",(function(){return Eo})),n.d(e,"GreaterThan",(function(){return Ro})),n.d(e,"GreaterThanZero",(function(){return Mo})),n.d(e,"Multiply",(function(){return co})),n.d(e,"Negate",(function(){return Ao})),n.d(e,"Pow",(function(){return Po})),n.d(e,"Signal",(function(){return As})),n.d(e,"connectSignal",(function(){return Ds})),n.d(e,"Scale",(function(){return _o})),n.d(e,"ScaleExp",(function(){return No})),n.d(e,"Subtract",(function(){return Do})),n.d(e,"SyncedSignal",(function(){return Io})),n.d(e,"WaveShaper",(function(){return ao})),n.d(e,"Zero",(function(){return bo})),n.d(e,"AMSynth",(function(){return Uo})),n.d(e,"DuoSynth",(function(){return Qo})),n.d(e,"FMSynth",(function(){return $o})),n.d(e,"MetalSynth",(function(){return Yo})),n.d(e,"MembraneSynth",(function(){return Zo})),n.d(e,"MonoSynth",(function(){return Go})),n.d(e,"NoiseSynth",(function(){return Jo})),n.d(e,"PluckSynth",(function(){return aa})),n.d(e,"PolySynth",(function(){return ua})),n.d(e,"Sampler",(function(){return ca})),n.d(e,"Synth",(function(){return zo})),n.d(e,"Loop",(function(){return ha})),n.d(e,"Part",(function(){return da})),n.d(e,"Pattern",(function(){return xa})),n.d(e,"Sequence",(function(){return ka})),n.d(e,"ToneEvent",(function(){return la})),n.d(e,"AutoFilter",(function(){return Ca})),n.d(e,"AutoPanner",(function(){return Aa})),n.d(e,"AutoWah",(function(){return Ma})),n.d(e,"BitCrusher",(function(){return Ra})),n.d(e,"Chebyshev",(function(){return Na})),n.d(e,"Chorus",(function(){return Va})),n.d(e,"Distortion",(function(){return La})),n.d(e,"FeedbackDelay",(function(){return Ba})),n.d(e,"FrequencyShifter",(function(){return Wa})),n.d(e,"Freeverb",(function(){return Ga})),n.d(e,"JCReverb",(function(){return Ya})),n.d(e,"PingPongDelay",(function(){return Ja})),n.d(e,"PitchShift",(function(){return tu})),n.d(e,"Phaser",(function(){return eu})),n.d(e,"Reverb",(function(){return nu})),n.d(e,"StereoWidener",(function(){return ou})),n.d(e,"Tremolo",(function(){return au})),n.d(e,"Vibrato",(function(){return uu})),n.d(e,"Analyser",(function(){return cu})),n.d(e,"Meter",(function(){return hu})),n.d(e,"FFT",(function(){return du})),n.d(e,"DCMeter",(function(){return pu})),n.d(e,"Waveform",(function(){return fu})),n.d(e,"Follower",(function(){return Da})),n.d(e,"Channel",(function(){return yu})),n.d(e,"CrossFade",(function(){return Ta})),n.d(e,"Merge",(function(){return ja})),n.d(e,"MidSideMerge",(function(){return ru})),n.d(e,"MidSideSplit",(function(){return iu})),n.d(e,"Mono",(function(){return vu})),n.d(e,"MultibandSplit",(function(){return _u})),n.d(e,"Panner",(function(){return Ea})),n.d(e,"Panner3D",(function(){return wu})),n.d(e,"PanVol",(function(){return gu})),n.d(e,"Recorder",(function(){return xu})),n.d(e,"Solo",(function(){return mu})),n.d(e,"Split",(function(){return Ia})),n.d(e,"Volume",(function(){return Ks})),n.d(e,"Compressor",(function(){return ku})),n.d(e,"Gate",(function(){return Tu})),n.d(e,"Limiter",(function(){return Su})),n.d(e,"MidSideCompressor",(function(){return Ou})),n.d(e,"MultibandCompressor",(function(){return Cu})),n.d(e,"AmplitudeEnvelope",(function(){return Lo})),n.d(e,"Envelope",(function(){return jo})),n.d(e,"FrequencyEnvelope",(function(){return Ho})),n.d(e,"EQ3",(function(){return Eu})),n.d(e,"Filter",(function(){return Ko})),n.d(e,"OnePoleFilter",(function(){return sa})),n.d(e,"FeedbackCombFilter",(function(){return ra})),n.d(e,"LowpassCombFilter",(function(){return oa})),n.d(e,"Convolver",(function(){return Au})),n.d(e,"BiquadFilter",(function(){return Wo})),n.d(e,"version",(function(){return s})),n.d(e,"start",(function(){return ns})),n.d(e,"supported",(function(){return er})),n.d(e,"now",(function(){return Du})),n.d(e,"immediate",(function(){return Mu})),n.d(e,"Transport",(function(){return Ru})),n.d(e,"getTransport",(function(){return Pu})),n.d(e,"Destination",(function(){return Nu})),n.d(e,"Master",(function(){return Iu})),n.d(e,"getDestination",(function(){return ju})),n.d(e,"Listener",(function(){return Fu})),n.d(e,"getListener",(function(){return qu})),n.d(e,"Draw",(function(){return Vu})),n.d(e,"getDraw",(function(){return Lu})),n.d(e,"context",(function(){return zu})),n.d(e,"loaded",(function(){return Bu})),n.d(e,"Buffer",(function(){return Uu})),n.d(e,"Buffers",(function(){return Wu})),n.d(e,"BufferSource",(function(){return Ku}));var i={};n.r(i),n.d(i,"assert",(function(){return nr})),n.d(i,"assertRange",(function(){return ir})),n.d(i,"assertContextRunning",(function(){return rr})),n.d(i,"setLogger",(function(){return or})),n.d(i,"log",(function(){return ar})),n.d(i,"warn",(function(){return ur}));var r={};n.r(r);const s="14.7.77";var o=n(3);const a=new WeakSet,u=new WeakMap,c=new WeakMap,l=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,y={construct:()=>y},v=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,_=(t,e)=>{const n=[];let i=t.replace(/^[\s]+/,""),r=i.match(v);for(;null!==r;){const t=r[1].slice(1,-1),s=r[0].replace(/([\s]+)?;?$/,"").replace(t,new URL(t,e).toString());n.push(s),i=i.slice(r[0].length).replace(/^[\s]+/,""),r=i.match(v)}return[n.join(";"),i]},b=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},w=t=>{if(!(t=>{try{new new Proxy(t,y)}catch{return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!=typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},x=(t,e)=>{const n=t.get(e);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},k=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[i]=n;return t.delete(i),i},T=(t,e,n,i)=>{const r=x(t,e),s=k(r,t=>t[0]===n&&t[1]===i);return 0===r.size&&t.delete(e),s},S=t=>x(p,t),O=t=>{if(a.has(t))throw new Error("The AudioNode is already stored.");a.add(t),S(t).forEach(t=>t(!0))},C=t=>"port"in t,E=t=>{if(!a.has(t))throw new Error("The AudioNode is not stored.");a.delete(t),S(t).forEach(t=>t(!1))},A=(t,e)=>{!C(t)&&e.every(t=>0===t.size)&&E(t)},D={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},M=(t,e)=>t.context===e,R=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},P=()=>new DOMException("","IndexSizeError"),N=t=>{var e;t.getChannelData=(e=t.getChannelData,n=>{try{return e.call(t,n)}catch(t){if(12===t.code)throw P();throw t}})},I={numberOfChannels:1},j=-34028234663852886e22,F=-j,q=t=>a.has(t),V={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},L=t=>x(u,t),z=t=>x(l,t),B=(t,e)=>{const{activeInputs:n}=L(t);n.forEach(n=>n.forEach(([n])=>{e.includes(t)||B(n,[...e,t])}));const i=(t=>"playbackRate"in t)(t)?[t.playbackRate]:C(t)?Array.from(t.parameters.values()):(t=>"frequency"in t&&"gain"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>"offset"in t)(t)?[t.offset]:(t=>!("frequency"in t)&&"gain"in t)(t)?[t.gain]:(t=>"detune"in t&&"frequency"in t)(t)?[t.detune,t.frequency]:(t=>"pan"in t)(t)?[t.pan]:[];for(const t of i){const n=z(t);void 0!==n&&n.activeInputs.forEach(([t])=>B(t,e))}q(t)&&E(t)},U=t=>{B(t.destination,[])},W=t=>void 0===t||"number"==typeof t||"string"==typeof t&&("balanced"===t||"interactive"===t||"playback"===t),K=t=>"context"in t,H=t=>K(t[0]),G=(t,e,n,i)=>{for(const e of t)if(n(e)){if(i)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},Q=(t,e,[n,i],r)=>{G(t,[e,n,i],t=>t[0]===e&&t[1]===n,r)},$=(t,[e,n,i],r)=>{const s=t.get(e);void 0===s?t.set(e,new Set([[n,i]])):G(s,[n,i],t=>t[0]===n,r)},X=t=>"inputs"in t,Y=(t,e,n,i)=>{if(X(e)){const r=e.inputs[i];return t.connect(r,n,0),[r,n,0]}return t.connect(e,n,i),[e,n,i]},Z=(t,e,n)=>{for(const i of t)if(i[0]===e&&i[1]===n)return t.delete(i),i;return null},J=(t,e)=>{if(!S(t).delete(e))throw new Error("Missing the expected event listener.")},tt=(t,e,n)=>{const i=x(t,e),r=k(i,t=>t[0]===n);return 0===i.size&&t.delete(e),r},et=(t,e,n,i)=>{X(e)?t.disconnect(e.inputs[i],n,0):t.disconnect(e,n,i)},nt=t=>x(c,t),it=t=>x(h,t),rt=t=>f.has(t),st=t=>!a.has(t),ot=t=>new Promise(e=>{const n=t.createScriptProcessor(256,1,1),i=t.createGain(),r=t.createBuffer(1,2,44100),s=r.getChannelData(0);s[0]=1,s[1]=1;const o=t.createBufferSource();o.buffer=r,o.loop=!0,o.connect(n).connect(t.destination),o.connect(i),o.disconnect(i),n.onaudioprocess=i=>{const r=i.inputBuffer.getChannelData(0);Array.prototype.some.call(r,t=>1===t)?e(!0):e(!1),o.stop(),n.onaudioprocess=null,o.disconnect(n),n.disconnect(t.destination)},o.start()}),at=(t,e)=>{const n=new Map;for(const e of t)for(const t of e){const e=n.get(t);n.set(t,void 0===e?1:e+1)}n.forEach((t,n)=>e(n,t))},ut=t=>"context"in t,ct=(t,e,n,i)=>{const{activeInputs:r,passiveInputs:s}=z(e),{outputs:o}=L(t),a=S(t),u=o=>{const a=nt(t),u=it(e);if(o){const e=tt(s,t,n);Q(r,t,e,!1),i||rt(t)||a.connect(u,n)}else{const e=((t,e,n)=>k(t,t=>t[0]===e&&t[1]===n))(r,t,n);$(s,e,!1),i||rt(t)||a.disconnect(u,n)}};return!!G(o,[e,n],t=>t[0]===e&&t[1]===n,!0)&&(a.add(u),q(t)?Q(r,t,[n,u],!0):$(s,[t,n,u],!0),!0)},lt=(t,e,n,i,r)=>{const[s,o]=((t,e,n,i)=>{const{activeInputs:r,passiveInputs:s}=L(e),o=Z(r[i],t,n);if(null===o){return[T(s,t,n,i)[2],!1]}return[o[2],!0]})(t,n,i,r);if(null!==s&&(J(t,s),!o||e||rt(t)||et(nt(t),nt(n),i,r)),q(n)){const{activeInputs:t}=L(n);A(n,t)}},ht=(t,e,n,i)=>{const[r,s]=((t,e,n)=>{const{activeInputs:i,passiveInputs:r}=z(e),s=Z(i,t,n);if(null===s){return[tt(r,t,n)[1],!1]}return[s[2],!0]})(t,n,i);null!==r&&(J(t,r),!s||e||rt(t)||nt(t).disconnect(it(n),i))};class dt{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach((n,i)=>t.call(e,n,i,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const pt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function ft(t,e,n,i,r){if("function"==typeof t.copyFromChannel)0===e[n].byteLength&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],i,r);else{const s=t.getChannelData(i);if(0===e[n].byteLength)e[n]=s.slice(r,r+128);else{const t=new Float32Array(s.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(t)}}}const mt=(t,e,n,i,r)=>{"function"==typeof t.copyToChannel?0!==e[n].byteLength&&t.copyToChannel(e[n],i,r):0!==e[n].byteLength&&t.getChannelData(i).set(e[n],r)},gt=(t,e)=>{const n=[];for(let i=0;i<t;i+=1){const t=[],r="number"==typeof e?e:e[i];for(let e=0;e<r;e+=1)t.push(new Float32Array(128));n.push(t)}return n},yt=async(t,e,n,i,r,s,o)=>{const a=null===e?128*Math.ceil(t.context.length/128):e.length,u=i.channelCount*i.numberOfInputs,c=r.reduce((t,e)=>t+e,0),l=0===c?null:n.createBuffer(c,a,n.sampleRate);if(void 0===s)throw new Error("Missing the processor constructor.");const h=L(t),d=await((t,e)=>{const n=x(g,t),i=nt(e);return x(n,i)})(n,t),p=gt(i.numberOfInputs,i.channelCount),f=gt(i.numberOfOutputs,r),m=Array.from(t.parameters.keys()).reduce((t,e)=>({...t,[e]:new Float32Array(128)}),{});for(let c=0;c<a;c+=128){if(i.numberOfInputs>0&&null!==e)for(let t=0;t<i.numberOfInputs;t+=1)for(let n=0;n<i.channelCount;n+=1)ft(e,p[t],n,n,c);void 0!==s.parameterDescriptors&&null!==e&&s.parameterDescriptors.forEach(({name:t},n)=>{ft(e,m,t,u+n,c)});for(let t=0;t<i.numberOfInputs;t+=1)for(let e=0;e<r[t];e+=1)0===f[t][e].byteLength&&(f[t][e]=new Float32Array(128));try{const t=p.map((t,e)=>0===h.activeInputs[e].size?[]:t),e=o(c/n.sampleRate,n.sampleRate,()=>d.process(t,f,m));if(null!==l)for(let t=0,e=0;t<i.numberOfOutputs;t+=1){for(let n=0;n<r[t];n+=1)mt(l,f[t],n,e+n,c);e+=r[t]}if(!e)break}catch(e){t.dispatchEvent(new ErrorEvent("processorerror",{colno:e.colno,filename:e.filename,lineno:e.lineno,message:e.message}));break}}return l},vt={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},_t={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},bt={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},wt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},xt={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},kt=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(i=>{n.onmessage=()=>{e.close(),n.close(),i()},e.postMessage(t,[t])})},Tt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},St=(t,e,n)=>{const i=e[n];if(void 0===i)throw t();return i},Ot={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Ct={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Et=()=>new DOMException("","InvalidStateError"),At=()=>new DOMException("","InvalidAccessError"),Dt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Mt=(t,e,n,i,r,s,o,a,u,c,l)=>{const h=c.length;let d=a;for(let a=0;a<h;a+=1){let h=n[0]*c[a];for(let e=1;e<r;e+=1){const i=d-e&u-1;h+=n[e]*s[i],h-=t[e]*o[i]}for(let t=r;t<i;t+=1)h+=n[t]*s[d-t&u-1];for(let n=r;n<e;n+=1)h-=t[n]*o[d-n&u-1];s[d]=c[a],o[d]=h,d=d+1&u-1,l[a]=h}return d},Rt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Pt=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return void 0!==n&&(n.catch(()=>{}),!0)}catch{}return!1},Nt={numberOfChannels:1},It=(t,e,n)=>{const i=e[n];void 0!==i&&i!==t[n]&&(t[n]=i)},jt=(t,e)=>{It(t,e,"channelCount"),It(t,e,"channelCountMode"),It(t,e,"channelInterpretation")},Ft=t=>"function"==typeof t.getFloatTimeDomainData,qt=(t,e,n)=>{const i=e[n];void 0!==i&&i!==t[n].value&&(t[n].value=i)},Vt=t=>{var e;t.start=(e=t.start,(n=0,i=0,r)=>{if("number"==typeof r&&r<0||i<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,i,r)})},Lt=t=>{var e;t.stop=(e=t.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})},zt=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),Bt=async(t,e)=>new t(await(t=>new Promise((e,n)=>{const{port1:i,port2:r}=new MessageChannel;i.onmessage=({data:t})=>{i.close(),r.close(),e(t)},i.onmessageerror=({data:t})=>{i.close(),r.close(),n(t)},r.postMessage(t)}))(e)),Ut=(t,e)=>{const n=t.createBiquadFilter();return jt(n,e),qt(n,e,"Q"),qt(n,e,"detune"),qt(n,e,"frequency"),qt(n,e,"gain"),It(n,e,"type"),n},Wt=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return jt(n,e),(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Et()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw Et()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw Et()}})})(n),n},Kt=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),Ht=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return jt(n,e),qt(n,e,"delayTime"),n},Gt=(t,e)=>{const n=t.createGain();return jt(n,e),qt(n,e,"gain"),n};function Qt(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function $t(t,e){let n=[0,0];for(let s=t.length-1;s>=0;s-=1)r=e,n=[(i=n)[0]*r[0]-i[1]*r[1],i[0]*r[1]+i[1]*r[0]],n[0]+=t[s];var i,r;return n}const Xt=(t,e,n,i)=>t.createScriptProcessor(e,n,i),Yt=()=>new DOMException("","NotSupportedError"),Zt={numberOfChannels:1},Jt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},te={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},ee={disableNormalization:!1},ne={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},ie=()=>new DOMException("","UnknownError"),re={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},se=(t,e,n)=>void 0===t.copyFromChannel?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),oe=t=>{if(null===t)return!1;const e=t.length;return e%2!=0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},ae=(t,e,n,i)=>{let r=t;for(;!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);const{get:s,set:o}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,{get:n(s),set:i(o)})},ue=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(i){if(9!==i.code)throw i;ue(t,e,n+1e-7)}},ce=t=>{const e=t.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},le=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},he=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},de=()=>{try{new DOMException}catch{return!1}return!0},pe=()=>new Promise(t=>{const e=new ArrayBuffer(0),{port1:n,port2:i}=new MessageChannel;n.onmessage=({data:e})=>t(null!==e),i.postMessage(e,[e])}),fe=(t,e)=>{const n=e.createGain();t.connect(n);const i=(r=t.disconnect,()=>{r.call(t,n),t.removeEventListener("ended",i)});var r;t.addEventListener("ended",i),Kt(t,n),t.stop=(e=>{let i=!1;return(r=0)=>{if(i)try{e.call(t,r)}catch{n.gain.setValueAtTime(0,r)}else e.call(t,r),i=!0}})(t.stop)},me=(t,e)=>n=>{const i={value:t};return Object.defineProperties(n,{currentTarget:i,target:i}),"function"==typeof e?e.call(t,n):e.handleEvent.call(t,n)},ge=(ye=G,(t,e,[n,i,r],s)=>{ye(t[i],[e,n,r],t=>t[0]===e&&t[1]===n,s)});var ye;const ve=(t=>(e,n,[i,r,s],o)=>{const a=e.get(i);void 0===a?e.set(i,new Set([[r,n,s]])):t(a,[r,n,s],t=>t[0]===r&&t[1]===n,o)})(G),_e=(t=>(e,n,i,r)=>t(e[r],t=>t[0]===n&&t[1]===i))(k),be=new WeakMap,we=(t=>e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:0})(be),xe=(ke=new Map,Te=new WeakMap,(t,e)=>{const n=Te.get(t);if(void 0!==n)return n;const i=ke.get(t);if(void 0!==i)return i;try{const n=e();return n instanceof Promise?(ke.set(t,n),n.catch(()=>!1).then(e=>(ke.delete(t),Te.set(t,e),e))):(Te.set(t,n),n)}catch{return Te.set(t,!1),!1}});var ke,Te;const Se="undefined"==typeof window?null:window,Oe=(Ce=xe,Ee=P,(t,e)=>{const n=t.createAnalyser();if(jt(n,e),!(e.maxDecibels>e.minDecibels))throw Ee();return It(n,e,"fftSize"),It(n,e,"maxDecibels"),It(n,e,"minDecibels"),It(n,e,"smoothingTimeConstant"),Ce(Ft,()=>Ft(n))||(t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const i=Math.max(n.length,t.fftSize);for(let t=0;t<i;t+=1)e[t]=.0078125*(n[t]-128);return e}})(n),n});var Ce,Ee;const Ae=(De=L,t=>{const e=De(t);if(null===e.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return e.renderer});var De;const Me=((t,e,n)=>async(i,r,s,o)=>{const a=t(i),u=[...o,i];await Promise.all(a.activeInputs.map((t,o)=>Array.from(t).filter(([t])=>!u.includes(t)).map(async([t,a])=>{const c=e(t),l=await c.render(t,r,u),h=i.context.destination;n(t)||i===h&&n(i)||l.connect(s,a,o)})).reduce((t,e)=>[...t,...e],[]))})(L,Ae,rt),Re=(Pe=Oe,Ne=nt,Ie=Me,()=>{const t=new WeakMap;return{render(e,n,i){const r=t.get(n);return void 0!==r?Promise.resolve(r):(async(e,n,i)=>{let r=Ne(e);if(!M(r,n)){const t={channelCount:r.channelCount,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,fftSize:r.fftSize,maxDecibels:r.maxDecibels,minDecibels:r.minDecibels,smoothingTimeConstant:r.smoothingTimeConstant};r=Pe(n,t)}return t.set(n,r),await Ie(e,n,r,i),r})(e,n,i)}}});var Pe,Ne,Ie;const je=(Fe=d,t=>{const e=Fe.get(t);if(void 0===e)throw Et();return e});var Fe;const qe=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(Se),Ve=(Le=qe,t=>null!==Le&&t instanceof Le);var Le;const ze=new WeakMap,Be=(Ue=me,class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,e,n){if(null!==e){let i=this._listeners.get(e);void 0===i&&(i=Ue(this,e),"function"==typeof e&&this._listeners.set(e,i)),this._nativeEventTarget.addEventListener(t,i,n)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,n){const i=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===i?null:i,n)}});var Ue;const We=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(Se),Ke=(He=We,t=>null!==He&&t instanceof He);var He;const Ge=(t=>e=>null!==t&&"function"==typeof t.AudioNode&&e instanceof t.AudioNode)(Se),Qe=(t=>e=>null!==t&&"function"==typeof t.AudioParam&&e instanceof t.AudioParam)(Se),$e=((t,e,n,i,r,s,o,a,u,l,h,d,f,m,g)=>class extends l{constructor(e,i,r,s){super(r),this._context=e,this._nativeAudioNode=r;const o=h(e);d(o)&&!0!==n(ot,()=>ot(o))&&(t=>{const e=new Map;var n,i;t.connect=(n=t.connect.bind(t),(t,i=0,r=0)=>{const s=ut(t)?n(t,i,r):n(t,i),o=e.get(t);return void 0===o?e.set(t,[{input:r,output:i}]):o.every(t=>t.input!==r||t.output!==i)&&o.push({input:r,output:i}),s}),t.disconnect=(i=t.disconnect,(n,r,s)=>{if(i.apply(t),void 0===n)e.clear();else if("number"==typeof n)for(const[t,i]of e){const r=i.filter(t=>t.output!==n);0===r.length?e.delete(t):e.set(t,r)}else if(e.has(n))if(void 0===r)e.delete(n);else{const t=e.get(n);if(void 0!==t){const i=t.filter(t=>t.output!==r&&(t.input!==s||void 0===s));0===i.length?e.delete(n):e.set(n,i)}}for(const[n,i]of e)i.forEach(e=>{ut(n)?t.connect(n,e.output,e.input):t.connect(n,e.output)})})})(r),c.set(this,r),p.set(this,new Set),"closed"!==e.state&&i&&O(this),t(this,s,r)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(t){this._nativeAudioNode.channelCount=t}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(t){this._nativeAudioNode.channelCountMode=t}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(t){this._nativeAudioNode.channelInterpretation=t}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(t,n=0,a=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw r();const c=h(this._context),l=g(c);if(f(t)||m(t))throw s();if(K(t)){const r=nt(t);try{const e=Y(this._nativeAudioNode,r,n,a),i=st(this);(l||i)&&this._nativeAudioNode.disconnect(...e),"closed"!==this.context.state&&!i&&st(t)&&O(t)}catch(t){if(12===t.code)throw s();throw t}if(e(this,t,n,a,l)){const e=u([this],t);at(e,i(l))}return t}const d=it(t);if("playbackRate"===d.name&&1024===d.maxValue)throw o();try{this._nativeAudioNode.connect(d,n),(l||st(this))&&this._nativeAudioNode.disconnect(d,n)}catch(t){if(12===t.code)throw s();throw t}if(ct(this,t,n,l)){const e=u([this],t);at(e,i(l))}}disconnect(t,e,n){let i;const o=h(this._context),c=g(o);if(void 0===t)i=((t,e)=>{const n=L(t),i=[];for(const r of n.outputs)H(r)?lt(t,e,...r):ht(t,e,...r),i.push(r[0]);return n.outputs.clear(),i})(this,c);else if("number"==typeof t){if(t<0||t>=this.numberOfOutputs)throw r();i=((t,e,n)=>{const i=L(t),r=[];for(const s of i.outputs)s[1]===n&&(H(s)?lt(t,e,...s):ht(t,e,...s),r.push(s[0]),i.outputs.delete(s));return r})(this,c,t)}else{if(void 0!==e&&(e<0||e>=this.numberOfOutputs))throw r();if(K(t)&&void 0!==n&&(n<0||n>=t.numberOfInputs))throw r();if(i=((t,e,n,i,r)=>{const s=L(t);return Array.from(s.outputs).filter(t=>!(t[0]!==n||void 0!==i&&t[1]!==i||void 0!==r&&t[2]!==r)).map(n=>(H(n)?lt(t,e,...n):ht(t,e,...n),s.outputs.delete(n),n[0]))})(this,c,t,e,n),0===i.length)throw s()}for(const t of i){const e=u([this],t);at(e,a)}}})((Xe=u,(t,e,n)=>{const i=[];for(let t=0;t<n.numberOfInputs;t+=1)i.push(new Set);Xe.set(t,{activeInputs:i,outputs:new Set,passiveInputs:new WeakMap,renderer:e})}),((t,e,n,i,r,s,o,a,u,c,l,h,d)=>{const p=new WeakMap;return(f,m,g,y,v)=>{const{activeInputs:_,passiveInputs:b}=s(m),{outputs:w}=s(f),x=a(f),k=s=>{const a=u(m),c=u(f);if(s){const e=T(b,f,g,y);t(_,f,e,!1),v||h(f)||n(c,a,g,y),d(m)&&O(m)}else{const t=i(_,f,g,y);e(b,y,t,!1),v||h(f)||r(c,a,g,y);const n=o(m);if(0===n)l(m)&&A(m,_);else{const t=p.get(m);void 0!==t&&clearTimeout(t),p.set(m,setTimeout(()=>{l(m)&&A(m,_)},1e3*n))}}};return!!c(w,[m,g,y],t=>t[0]===m&&t[1]===g&&t[2]===y,!0)&&(x.add(k),l(f)?t(_,f,[g,y,k],!0):e(b,y,[f,g,k],!0),!0)}})(ge,ve,Y,_e,et,L,we,S,nt,G,q,rt,st),xe,((t,e,n,i,r,s)=>o=>(a,u)=>{const c=t.get(a);if(void 0===c){if(!o&&s(a)){const t=i(a),{outputs:s}=n(a);for(const n of s)if(H(n)){const r=i(n[0]);e(t,r,n[1],n[2])}else{const e=r(n[0]);t.disconnect(e,n[1])}}t.set(a,u)}else t.set(a,c+u)})(f,et,L,nt,it,q),P,At,Yt,((t,e,n,i,r,s,o,a)=>(u,c)=>{const l=e.get(u);if(void 0===l)throw new Error("Missing the expected cycle count.");const h=s(u.context),d=a(h);if(l===c){if(e.delete(u),!d&&o(u)){const e=i(u),{outputs:s}=n(u);for(const n of s)if(H(n)){const r=i(n[0]);t(e,r,n[1],n[2])}else{const t=r(n[0]);e.connect(t,n[1])}}}else e.set(u,l-c)})(Y,f,L,nt,it,je,q,Ve),((t,e,n)=>function i(r,s){const o=K(s)?s:n(t,s);if((t=>"delayTime"in t)(o))return[];if(r[0]===o)return[r];if(r.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(t=>i([...r,o],t[0])).reduce((t,e)=>t.concat(e),[])})(ze,L,x),Be,je,Ke,Ge,Qe,Ve);var Xe;const Ye=((t,e,n,i,r,s)=>class extends t{constructor(t,n){const o=r(t),a={...D,...n},u=i(o,a);super(t,!1,u,s(o)?e():null),this._nativeAnalyserNode=u}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(t){this._nativeAnalyserNode.fftSize=t}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(t){const e=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=t,!(t>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=e,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(t){const e=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=t,!(this._nativeAnalyserNode.maxDecibels>t))throw this._nativeAnalyserNode.minDecibels=e,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(t){this._nativeAnalyserNode.smoothingTimeConstant=t}getByteFrequencyData(t){this._nativeAnalyserNode.getByteFrequencyData(t)}getByteTimeDomainData(t){this._nativeAnalyserNode.getByteTimeDomainData(t)}getFloatFrequencyData(t){this._nativeAnalyserNode.getFloatFrequencyData(t)}getFloatTimeDomainData(t){this._nativeAnalyserNode.getFloatTimeDomainData(t)}})($e,Re,P,Oe,je,Ve),Ze=new WeakSet,Je=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(Se),tn=(en=new Uint32Array(1),t=>(en[0]=t,en[0]));var en;const nn=((t,e)=>n=>{n.copyFromChannel=(i,r,s=0)=>{const o=t(s),a=t(r);if(a>=n.numberOfChannels)throw e();const u=n.length,c=n.getChannelData(a),l=i.length;for(let t=o<0?-o:0;t+o<u&&t<l;t+=1)i[t]=c[t+o]},n.copyToChannel=(i,r,s=0)=>{const o=t(s),a=t(r);if(a>=n.numberOfChannels)throw e();const u=n.length,c=n.getChannelData(a),l=i.length;for(let t=o<0?-o:0;t+o<u&&t<l;t+=1)c[t+o]=i[t]}})(tn,P),rn=(t=>e=>{e.copyFromChannel=(n=>(i,r,s=0)=>{const o=t(s),a=t(r);if(o<e.length)return n.call(e,i,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(i,r,s=0)=>{const o=t(s),a=t(r);if(o<e.length)return n.call(e,i,a,o)})(e.copyToChannel)})(tn),sn=((t,e,n,i,r,s,o,a)=>{let u=null;return class c{constructor(c){if(null===r)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:l,numberOfChannels:h,sampleRate:d}={...I,...c};null===u&&(u=new r(1,1,44100));const p=null!==i&&e(s,s)?new i({length:l,numberOfChannels:h,sampleRate:d}):u.createBuffer(h,l,d);if(0===p.numberOfChannels)throw n();return"function"!=typeof p.copyFromChannel?(o(p),N(p)):e(R,()=>R(p))||a(p),t.add(p),p}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===c.prototype||t.has(e)}}})(Ze,xe,Yt,Je,qe,(on=Je,()=>{if(null===on)return!1;try{new on({length:1,sampleRate:44100})}catch{return!1}return!0}),nn,rn);var on;const an=(un=Gt,(t,e)=>{const n=un(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});e.connect(n).connect(t.destination);const i=()=>{e.removeEventListener("ended",i),e.disconnect(n),n.disconnect()};e.addEventListener("ended",i)});var un;const cn=((t,e,n)=>async(i,r,s,o)=>{const a=e(i);await Promise.all(Array.from(a.activeInputs).map(async([e,i])=>{const a=t(e),u=await a.render(e,r,o);n(e)||u.connect(s,i)}))})(Ae,z,rt),ln=(t=>(e,n,i,r)=>t(n,e,i,r))(cn),hn=((t,e,n,i,r,s,o,a,u,c,l)=>(h,d)=>{const p=h.createBufferSource();return jt(p,d),qt(p,d,"playbackRate"),It(p,d,"buffer"),It(p,d,"loop"),It(p,d,"loopEnd"),It(p,d,"loopStart"),e(n,()=>n(h))||(t=>{t.start=(e=>{let n=!1;return(i=0,r=0,s)=>{if(n)throw Et();e.call(t,i,r,s),n=!0}})(t.start)})(p),e(i,()=>i(h))||u(p),e(r,()=>r(h))||c(p,h),e(s,()=>s(h))||Vt(p),e(o,()=>o(h))||l(p,h),e(a,()=>a(h))||Lt(p),t(h,p),p})(an,xe,t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},ce,le,he,t=>{var e;t.start=(e=t.start,(n=0,i=0,r)=>{const s=t.buffer,o=null===s?i:Math.min(s.duration,i);null!==s&&o>s.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,r)})},(dn=ae,(t,e)=>{const n=e.createBuffer(1,1,44100);null===t.buffer&&(t.buffer=n),dn(t,"buffer",e=>()=>{const i=e.call(t);return i===n?null:i},e=>i=>e.call(t,null===i?n:i))}),fe);var dn;const pn=((t,e)=>(n,i,r,s)=>(t(i).replay(r),e(i,n,r,s)))((t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(z),cn),fn=((t,e,n,i,r)=>()=>{const s=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(u,c,l){const h=s.get(c);return void 0!==h?Promise.resolve(h):(async(u,c,l)=>{let h=n(u);const d=M(h,c);if(!d){const t={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(c,t),null!==o&&h.start(...o),null!==a&&h.stop(a)}return s.set(c,h),d?await t(c,u.playbackRate,h.playbackRate,l):await i(c,u.playbackRate,h.playbackRate,l),await r(u,c,h,l),h})(u,c,l)}}})(ln,hn,nt,pn,Me),mn=((t,e,n,i,r,s,a,u,c,l,h,d,p)=>(f,m,g,y=null,v=null)=>{const _=new o.AutomationEventList(g.defaultValue),b=m?i(_):null,w={get defaultValue(){return g.defaultValue},get maxValue(){return null===y?g.maxValue:y},get minValue(){return null===v?g.minValue:v},get value(){return g.value},set value(t){g.value=t,w.setValueAtTime(t,f.context.currentTime)},cancelAndHoldAtTime(t){if("function"==typeof g.cancelAndHoldAtTime)null===b&&_.flush(f.context.currentTime),_.add(r(t)),g.cancelAndHoldAtTime(t);else{const e=Array.from(_).pop();null===b&&_.flush(f.context.currentTime),_.add(r(t));const n=Array.from(_).pop();g.cancelScheduledValues(t),e!==n&&void 0!==n&&("exponentialRampToValue"===n.type?g.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?g.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?g.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&g.setValueCurveAtTime(n.values,n.startTime,n.duration))}return w},cancelScheduledValues:t=>(null===b&&_.flush(f.context.currentTime),_.add(s(t)),g.cancelScheduledValues(t),w),exponentialRampToValueAtTime(t,e){if(0===t)throw new RangeError;if(!Number.isFinite(e)||e<0)throw new RangeError;return null===b&&_.flush(f.context.currentTime),_.add(a(t,e)),g.exponentialRampToValueAtTime(t,e),w},linearRampToValueAtTime:(t,e)=>(null===b&&_.flush(f.context.currentTime),_.add(u(t,e)),g.linearRampToValueAtTime(t,e),w),setTargetAtTime:(t,e,n)=>(null===b&&_.flush(f.context.currentTime),_.add(c(t,e,n)),g.setTargetAtTime(t,e,n),w),setValueAtTime:(t,e)=>(null===b&&_.flush(f.context.currentTime),_.add(l(t,e)),g.setValueAtTime(t,e),w),setValueCurveAtTime(t,e,n){const i=t instanceof Float32Array?t:new Float32Array(t);if(null!==d&&"webkitAudioContext"===d.name){const t=e+n,r=f.context.sampleRate,s=Math.ceil(e*r),o=Math.floor(t*r),a=o-s,u=new Float32Array(a);for(let t=0;t<a;t+=1){const o=(i.length-1)/n*((s+t)/r-e),a=Math.floor(o),c=Math.ceil(o);u[t]=a===c?i[a]:(1-(o-a))*i[a]+(1-(c-o))*i[c]}null===b&&_.flush(f.context.currentTime),_.add(h(u,e,n)),g.setValueCurveAtTime(u,e,n);const c=o/r;c<t&&p(w,u[u.length-1],c),p(w,i[i.length-1],t)}else null===b&&_.flush(f.context.currentTime),_.add(h(i,e,n)),g.setValueCurveAtTime(i,e,n);return w}};return n.set(w,g),e.set(w,f),t(w,b),w})((gn=l,(t,e)=>{gn.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})}),ze,h,t=>({replay(e){for(const n of t)if("exponentialRampToValue"===n.type){const{endTime:t,value:i}=n;e.exponentialRampToValueAtTime(i,t)}else if("linearRampToValue"===n.type){const{endTime:t,value:i}=n;e.linearRampToValueAtTime(i,t)}else if("setTarget"===n.type){const{startTime:t,target:i,timeConstant:r}=n;e.setTargetAtTime(i,t,r)}else if("setValue"===n.type){const{startTime:t,value:i}=n;e.setValueAtTime(i,t)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:t,startTime:i,values:r}=n;e.setValueCurveAtTime(r,i,t)}}}}),o.createCancelAndHoldAutomationEvent,o.createCancelScheduledValuesAutomationEvent,o.createExponentialRampToValueAutomationEvent,o.createLinearRampToValueAutomationEvent,o.createSetTargetAutomationEvent,o.createSetValueAutomationEvent,o.createSetValueCurveAutomationEvent,We,ue);var gn;const yn=((t,e,n,i,r,s,o,a)=>class extends t{constructor(t,i){const a=s(t),u={...V,...i},c=r(a,u),l=o(a),h=l?e():null;super(t,!1,c,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==u.buffer,this._nativeAudioBufferSourceNode=c,this._onended=null,this._playbackRate=n(this,l,c.playbackRate,F,j)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(t){if(this._nativeAudioBufferSourceNode.buffer=t,null!==t){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(t){this._nativeAudioBufferSourceNode.loop=t}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(t){this._nativeAudioBufferSourceNode.loopEnd=t}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(t){this._nativeAudioBufferSourceNode.loopStart=t}get onended(){return this._onended}set onended(t){const e="function"==typeof t?a(this,t):null;this._nativeAudioBufferSourceNode.onended=e;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===e?t:n}get playbackRate(){return this._playbackRate}start(t=0,e=0,n){if(this._nativeAudioBufferSourceNode.start(t,e,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[t,e]:[t,e,n]),"closed"!==this.context.state){O(this);const t=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",t),q(this)&&E(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeAudioBufferSourceNode.stop(t),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=t)}})($e,fn,mn,Et,hn,je,Ve,me),vn=((t,e,n,i,r,s,o,a)=>class extends t{constructor(t,n){const i=s(t),u=o(i),c=r(i,n,u);super(t,!1,c,u?e(a):null),this._isNodeOfNativeOfflineAudioContext=u,this._nativeAudioDestinationNode=c}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(t){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(t>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=t}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(t){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=t}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})($e,t=>{let e=null;return{render:(n,i,r)=>(null===e&&(e=(async(e,n,i)=>{const r=n.destination;return await t(e,n,r,i),r})(n,i,r)),e)}},P,Et,((t,e)=>(n,i,r)=>{const s=n.destination;if(s.channelCount!==i)try{s.channelCount=i}catch{}r&&"explicit"!==s.channelCountMode&&(s.channelCountMode="explicit"),0===s.maxChannelCount&&Object.defineProperty(s,"maxChannelCount",{value:i});const o=t(n,{channelCount:i,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return e(o,"channelCount",t=>()=>t.call(o),t=>e=>{t.call(o,e);try{s.channelCount=e}catch(t){if(e>s.maxChannelCount)throw t}}),e(o,"channelCountMode",t=>()=>t.call(o),t=>e=>{t.call(o,e),s.channelCountMode=e}),e(o,"channelInterpretation",t=>()=>t.call(o),t=>e=>{t.call(o,e),s.channelInterpretation=e}),Object.defineProperty(o,"maxChannelCount",{get:()=>s.maxChannelCount}),o.connect(s),o})(Gt,ae),je,Ve,Me),_n=((t,e,n,i,r)=>()=>{const s=new WeakMap;return{render(o,a,u){const c=s.get(a);return void 0!==c?Promise.resolve(c):(async(o,a,u)=>{let c=n(o);const l=M(c,a);if(!l){const t={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=e(a,t)}return s.set(a,c),l?(await t(a,o.Q,c.Q,u),await t(a,o.detune,c.detune,u),await t(a,o.frequency,c.frequency,u),await t(a,o.gain,c.gain,u)):(await i(a,o.Q,c.Q,u),await i(a,o.detune,c.detune,u),await i(a,o.frequency,c.frequency,u),await i(a,o.gain,c.gain,u)),await r(o,a,c,u),c})(o,a,u)}}})(ln,Ut,nt,pn,Me),bn=(t=>(e,n)=>t.set(e,n))(be),wn=(xn=$e,kn=mn,Tn=_n,Sn=At,On=Ut,Cn=je,En=Ve,An=bn,class extends xn{constructor(t,e){const n=Cn(t),i={...vt,...e},r=On(n,i),s=En(n);super(t,!1,r,s?Tn():null),this._Q=kn(this,s,r.Q,F,j),this._detune=kn(this,s,r.detune,1200*Math.log2(F),-1200*Math.log2(F)),this._frequency=kn(this,s,r.frequency,t.sampleRate/2,0),this._gain=kn(this,s,r.gain,40*Math.log10(F),j),this._nativeBiquadFilterNode=r,An(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(t){this._nativeBiquadFilterNode.type=t}getFrequencyResponse(t,e,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(t,e,n)}catch(t){if(11===t.code)throw Sn();throw t}if(t.length!==e.length||e.length!==n.length)throw Sn()}});var xn,kn,Tn,Sn,On,Cn,En,An;const Dn=((t,e)=>(n,i,r)=>{const s=new Set;var o,a;return n.connect=(o=n.connect,(r,a=0,u=0)=>{const c=0===s.size;if(e(r))return o.call(n,r,a,u),t(s,[r,a,u],t=>t[0]===r&&t[1]===a&&t[2]===u,!0),c&&i(),r;o.call(n,r,a),t(s,[r,a],t=>t[0]===r&&t[1]===a,!0),c&&i()}),n.disconnect=(a=n.disconnect,(t,i,o)=>{const u=s.size>0;if(void 0===t)a.apply(n),s.clear();else if("number"==typeof t){a.call(n,t);for(const e of s)e[1]===t&&s.delete(e)}else{e(t)?a.call(n,t,i,o):a.call(n,t,i);for(const e of s)e[0]!==t||void 0!==i&&e[1]!==i||void 0!==o&&e[2]!==o||s.delete(e)}const c=0===s.size;u&&c&&r()}),n})(G,Ge),Mn=(Rn=Et,Pn=Dn,(t,e)=>{e.channelCount=1,e.channelCountMode="explicit",Object.defineProperty(e,"channelCount",{get:()=>1,set:()=>{throw Rn()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:()=>{throw Rn()}});const n=t.createBufferSource();Pn(e,()=>{const t=e.numberOfInputs;for(let i=0;i<t;i+=1)n.connect(e,0,i)},()=>n.disconnect(e))});var Rn,Pn;const Nn=((t,e)=>(n,i)=>{const r=n.createChannelMerger(i.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&e(n,r),jt(r,i),r})(We,Mn),In=((t,e,n,i,r)=>class extends t{constructor(t,s){const o=i(t),a={..._t,...s};super(t,!1,n(o,a),r(o)?e():null)}})($e,((t,e,n)=>()=>{const i=new WeakMap;return{render(r,s,o){const a=i.get(s);return void 0!==a?Promise.resolve(a):(async(r,s,o)=>{let a=e(r);if(!M(a,s)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(s,e)}return i.set(s,a),await n(r,s,a,o),a})(r,s,o)}}})(Nn,nt,Me),Nn,je,Ve),jn=((t,e,n,i,r,s)=>class extends t{constructor(t,o){const a=i(t),u=s({...bt,...o});super(t,!1,n(a,u),r(a)?e():null)}})($e,((t,e,n)=>()=>{const i=new WeakMap;return{render(r,s,o){const a=i.get(s);return void 0!==a?Promise.resolve(a):(async(r,s,o)=>{let a=e(r);if(!M(a,s)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(s,e)}return i.set(s,a),await n(r,s,a,o),a})(r,s,o)}}})(Wt,nt,Me),Wt,je,Ve,t=>({...t,channelCount:t.numberOfOutputs})),Fn=((t,e,n,i)=>(r,{offset:s,...o})=>{const a=r.createBuffer(1,2,44100),u=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(r,{...o,gain:s}),l=a.getChannelData(0);l[0]=1,l[1]=1,u.buffer=a,u.loop=!0;const h={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){c.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){c.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){c.channelInterpretation=t},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return u.onended},set onended(t){u.onended=t},addEventListener:(...t)=>u.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>u.dispatchEvent(t[0]),removeEventListener:(...t)=>u.removeEventListener(t[0],t[1],t[2]),start(t=0){u.start.call(u,t)},stop(t=0){u.stop.call(u,t)}};return t(r,u),i(Kt(h,c),()=>u.connect(c),()=>u.disconnect(c))})(an,hn,Gt,Dn),qn=((t,e,n,i,r)=>(s,o)=>{if(void 0===s.createConstantSource)return n(s,o);const a=s.createConstantSource();return jt(a,o),qt(a,o,"offset"),e(i,()=>i(s))||Vt(a),e(r,()=>r(s))||Lt(a),t(s,a),a})(an,xe,Fn,ce,he),Vn=((t,e,n,i,r,s,o)=>class extends t{constructor(t,o){const a=r(t),u={...wt,...o},c=i(a,u),l=s(a),h=l?n():null;super(t,!1,c,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=c,this._offset=e(this,l,c.offset,F,j),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(t){const e="function"==typeof t?o(this,t):null;this._nativeConstantSourceNode.onended=e;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===e?t:n}start(t=0){if(this._nativeConstantSourceNode.start(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=t),"closed"!==this.context.state){O(this);const t=()=>{this._nativeConstantSourceNode.removeEventListener("ended",t),q(this)&&E(this)};this._nativeConstantSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeConstantSourceNode.stop(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=t)}})($e,mn,((t,e,n,i,r)=>()=>{const s=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(u,c,l){const h=s.get(c);return void 0!==h?Promise.resolve(h):(async(u,c,l)=>{let h=n(u);const d=M(h,c);if(!d){const t={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(c,t),null!==o&&h.start(o),null!==a&&h.stop(a)}return s.set(c,h),d?await t(c,u.offset,h.offset,l):await i(c,u.offset,h.offset,l),await r(u,c,h,l),h})(u,c,l)}}})(ln,qn,nt,pn,Me),qn,je,Ve,me),Ln=((t,e)=>(n,i)=>{const r=n.createConvolver();if(jt(r,i),i.disableNormalization===r.normalize&&(r.normalize=!i.disableNormalization),It(r,i,"buffer"),i.channelCount>2)throw t();if(e(r,"channelCount",t=>()=>t.call(r),e=>n=>{if(n>2)throw t();return e.call(r,n)}),"max"===i.channelCountMode)throw t();return e(r,"channelCountMode",t=>()=>t.call(r),e=>n=>{if("max"===n)throw t();return e.call(r,n)}),r})(Yt,ae),zn=((t,e,n,i,r,s)=>class extends t{constructor(t,o){const a=i(t),u={...xt,...o},c=n(a,u);super(t,!1,c,r(a)?e():null),this._isBufferNullified=!1,this._nativeConvolverNode=c,null!==u.buffer&&s(this,u.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(t){if(this._nativeConvolverNode.buffer=t,null===t&&null!==this._nativeConvolverNode.buffer){const t=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=t.createBuffer(1,1,44100),this._isBufferNullified=!0,s(this,0)}else this._isBufferNullified=!1,s(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(t){this._nativeConvolverNode.normalize=t}})($e,((t,e,n)=>()=>{const i=new WeakMap;return{render(r,s,o){const a=i.get(s);return void 0!==a?Promise.resolve(a):(async(r,s,o)=>{let a=e(r);if(!M(a,s)){const e={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(s,e)}return i.set(s,a),X(a)?await n(r,s,a.inputs[0],o):await n(r,s,a,o),a})(r,s,o)}}})(Ln,nt,Me),Ln,je,Ve,bn),Bn=((t,e,n,i,r,s,o)=>class extends t{constructor(t,a){const u=r(t),c={...Tt,...a},l=i(u,c),h=s(u);super(t,!1,l,h?n(c.maxDelayTime):null),this._delayTime=e(this,h,l.delayTime),o(this,c.maxDelayTime)}get delayTime(){return this._delayTime}})($e,mn,((t,e,n,i,r)=>s=>{const o=new WeakMap;return{render(a,u,c){const l=o.get(u);return void 0!==l?Promise.resolve(l):(async(a,u,c)=>{let l=n(a);const h=M(l,u);if(!h){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,delayTime:l.delayTime.value,maxDelayTime:s};l=e(u,t)}return o.set(u,l),h?await t(u,a.delayTime,l.delayTime,c):await i(u,a.delayTime,l.delayTime,c),await r(a,u,l,c),l})(a,u,c)}}})(ln,Ht,nt,pn,Me),Ht,je,Ve,bn),Un=(Wn=Yt,(t,e)=>{const n=t.createDynamicsCompressor();if(jt(n,e),e.channelCount>2)throw Wn();if("max"===e.channelCountMode)throw Wn();return qt(n,e,"attack"),qt(n,e,"knee"),qt(n,e,"ratio"),qt(n,e,"release"),qt(n,e,"threshold"),n});var Wn;const Kn=((t,e,n,i,r,s,o,a)=>class extends t{constructor(t,r){const u=s(t),c={...Ot,...r},l=i(u,c),h=o(u);super(t,!1,l,h?n():null),this._attack=e(this,h,l.attack),this._knee=e(this,h,l.knee),this._nativeDynamicsCompressorNode=l,this._ratio=e(this,h,l.ratio),this._release=e(this,h,l.release),this._threshold=e(this,h,l.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(t){const e=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=t,t>2)throw this._nativeDynamicsCompressorNode.channelCount=e,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(t){const e=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=t,"max"===t)throw this._nativeDynamicsCompressorNode.channelCountMode=e,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})($e,mn,((t,e,n,i,r)=>()=>{const s=new WeakMap;return{render(o,a,u){const c=s.get(a);return void 0!==c?Promise.resolve(c):(async(o,a,u)=>{let c=n(o);const l=M(c,a);if(!l){const t={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=e(a,t)}return s.set(a,c),l?(await t(a,o.attack,c.attack,u),await t(a,o.knee,c.knee,u),await t(a,o.ratio,c.ratio,u),await t(a,o.release,c.release,u),await t(a,o.threshold,c.threshold,u)):(await i(a,o.attack,c.attack,u),await i(a,o.knee,c.knee,u),await i(a,o.ratio,c.ratio,u),await i(a,o.release,c.release,u),await i(a,o.threshold,c.threshold,u)),await r(o,a,c,u),c})(o,a,u)}}})(ln,Un,nt,pn,Me),Un,Yt,je,Ve,bn),Hn=((t,e,n,i,r,s)=>class extends t{constructor(t,o){const a=r(t),u={...Ct,...o},c=i(a,u),l=s(a);super(t,!1,c,l?n():null),this._gain=e(this,l,c.gain,F,j)}get gain(){return this._gain}})($e,mn,((t,e,n,i,r)=>()=>{const s=new WeakMap;return{render(o,a,u){const c=s.get(a);return void 0!==c?Promise.resolve(c):(async(o,a,u)=>{let c=n(o);const l=M(c,a);if(!l){const t={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=e(a,t)}return s.set(a,c),l?await t(a,o.gain,c.gain,u):await i(a,o.gain,c.gain,u),await r(o,a,c,u),c})(o,a,u)}}})(ln,Gt,nt,pn,Me),Gt,je,Ve),Gn=((t,e,n,i)=>(r,s,{channelCount:o,channelCountMode:a,channelInterpretation:u,feedback:c,feedforward:l})=>{const h=zt(s,r.sampleRate),d=c instanceof Float64Array?c:new Float64Array(c),p=l instanceof Float64Array?l:new Float64Array(l),f=d.length,m=p.length,g=Math.min(f,m);if(0===f||f>20)throw i();if(0===d[0])throw e();if(0===m||m>20)throw i();if(0===p[0])throw e();if(1!==d[0]){for(let t=0;t<m;t+=1)p[t]/=d[0];for(let t=1;t<f;t+=1)d[t]/=d[0]}const y=n(r,h,o,o);y.channelCount=o,y.channelCountMode=a,y.channelInterpretation=u;const v=[],_=[],b=[];for(let t=0;t<o;t+=1){v.push(0);const t=new Float32Array(32),e=new Float32Array(32);t.fill(0),e.fill(0),_.push(t),b.push(e)}y.onaudioprocess=t=>{const e=t.inputBuffer,n=t.outputBuffer,i=e.numberOfChannels;for(let t=0;t<i;t+=1){const i=e.getChannelData(t),r=n.getChannelData(t);v[t]=Mt(d,f,p,m,g,_[t],b[t],v[t],32,i,r)}};const w=r.sampleRate/2;return Kt({get bufferSize(){return h},get channelCount(){return y.channelCount},set channelCount(t){y.channelCount=t},get channelCountMode(){return y.channelCountMode},set channelCountMode(t){y.channelCountMode=t},get channelInterpretation(){return y.channelInterpretation},set channelInterpretation(t){y.channelInterpretation=t},get context(){return y.context},get inputs(){return[y]},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},addEventListener:(...t)=>y.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>y.dispatchEvent(t[0]),getFrequencyResponse(e,n,i){if(e.length!==n.length||n.length!==i.length)throw t();const r=e.length;for(let t=0;t<r;t+=1){const r=-Math.PI*(e[t]/w),s=[Math.cos(r),Math.sin(r)],o=Qt($t(p,s),$t(d,s));n[t]=Math.sqrt(o[0]*o[0]+o[1]*o[1]),i[t]=Math.atan2(o[1],o[0])}},removeEventListener:(...t)=>y.removeEventListener(t[0],t[1],t[2])},y)})(At,Et,Xt,Yt),Qn=((t,e,n,i)=>r=>t(Pt,()=>Pt(r))?Promise.resolve(t(i,i)).then(t=>{if(!t){const t=n(r,512,0,1);r.oncomplete=()=>{t.onaudioprocess=null,t.disconnect()},t.onaudioprocess=()=>r.currentTime,t.connect(r.destination)}return r.startRendering()}):new Promise(t=>{const n=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=e=>{n.disconnect(),t(e.renderedBuffer)},n.connect(r.destination),r.startRendering()}))(xe,Gt,Xt,((t,e)=>()=>{if(null===e)return Promise.resolve(!1);const n=new e(1,1,44100),i=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(t=>{n.oncomplete=()=>{i.disconnect(),t(0!==n.currentTime)},n.startRendering()})})(Gt,qe)),$n=((t,e,n,i,r)=>(s,o)=>{const a=new WeakMap;let u=null;const c=async(c,l,h)=>{let d=null,p=e(c);const f=M(p,l);if(void 0===l.createIIRFilter?d=t(l,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):f||(p=l.createIIRFilter(o,s)),a.set(l,null===d?p:d),null!==d){if(null===u){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new n(c.context.destination.channelCount,c.context.length,l.sampleRate);u=(async()=>{await i(c,t,t.destination,h);return((t,e,n,i)=>{const r=n instanceof Float64Array?n:new Float64Array(n),s=i instanceof Float64Array?i:new Float64Array(i),o=r.length,a=s.length,u=Math.min(o,a);if(1!==r[0]){for(let t=0;t<o;t+=1)s[t]/=r[0];for(let t=1;t<a;t+=1)r[t]/=r[0]}const c=new Float32Array(32),l=new Float32Array(32),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),d=t.numberOfChannels;for(let e=0;e<d;e+=1){const n=t.getChannelData(e),i=h.getChannelData(e);c.fill(0),l.fill(0),Mt(r,o,s,a,u,c,l,0,32,n,i)}return h})(await r(t),l,s,o)})()}const t=await u;return d.buffer=t,d.start(0),d}return await i(c,l,p,h),p};return{render(t,e,n){const i=a.get(e);return void 0!==i?Promise.resolve(i):c(t,e,n)}}})(hn,nt,qe,Me,Qn);var Xn;const Yn=((t,e,n,i,r,s)=>class extends t{constructor(t,o){const a=i(t),u=r(a),c={...Dt,...o},l=e(a,u?null:t.baseLatency,c);super(t,!1,l,u?n(c.feedback,c.feedforward):null),(t=>{var e;t.getFrequencyResponse=(e=t.getFrequencyResponse,(n,i,r)=>{if(n.length!==i.length||i.length!==r.length)throw At();return e.call(t,n,i,r)})})(l),this._nativeIIRFilterNode=l,s(this,1)}getFrequencyResponse(t,e,n){return this._nativeIIRFilterNode.getFrequencyResponse(t,e,n)}})($e,(Xn=Gn,(t,e,n)=>{if(void 0===t.createIIRFilter)return Xn(t,e,n);const i=t.createIIRFilter(n.feedforward,n.feedback);return jt(i,n),i}),$n,je,Ve,bn),Zn=((t,e,n,i,r,s,o,a)=>(u,c)=>{const l=c.listener,{forwardX:h,forwardY:d,forwardZ:p,positionX:f,positionY:m,positionZ:g,upX:y,upY:v,upZ:_}=void 0===l.forwardX?(()=>{const h=new Float32Array(1),d=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),p=o(c);let f=!1,m=[0,0,-1,0,1,0],g=[0,0,0];const y=()=>{if(f)return;f=!0;const t=i(c,256,9,0);t.onaudioprocess=({inputBuffer:t})=>{const e=[s(t,h,0),s(t,h,1),s(t,h,2),s(t,h,3),s(t,h,4),s(t,h,5)];e.some((t,e)=>t!==m[e])&&(l.setOrientation(...e),m=e);const n=[s(t,h,6),s(t,h,7),s(t,h,8)];n.some((t,e)=>t!==g[e])&&(l.setPosition(...n),g=n)},d.connect(t)},v=t=>e=>{e!==m[t]&&(m[t]=e,l.setOrientation(...m))},_=t=>e=>{e!==g[t]&&(g[t]=e,l.setPosition(...g))},b=(e,i,s)=>{const o=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:i});o.connect(d,0,e),o.start(),Object.defineProperty(o.offset,"defaultValue",{get:()=>i});const l=t({context:u},p,o.offset,F,j);var h,f,m,g,v,_,b;return a(l,"value",t=>()=>t.call(l),t=>e=>{try{t.call(l,e)}catch(t){if(9!==t.code)throw t}y(),p&&s(e)}),l.cancelAndHoldAtTime=(h=l.cancelAndHoldAtTime,p?()=>{throw r()}:(...t)=>{const e=h.apply(l,t);return y(),e}),l.cancelScheduledValues=(f=l.cancelScheduledValues,p?()=>{throw r()}:(...t)=>{const e=f.apply(l,t);return y(),e}),l.exponentialRampToValueAtTime=(m=l.exponentialRampToValueAtTime,p?()=>{throw r()}:(...t)=>{const e=m.apply(l,t);return y(),e}),l.linearRampToValueAtTime=(g=l.linearRampToValueAtTime,p?()=>{throw r()}:(...t)=>{const e=g.apply(l,t);return y(),e}),l.setTargetAtTime=(v=l.setTargetAtTime,p?()=>{throw r()}:(...t)=>{const e=v.apply(l,t);return y(),e}),l.setValueAtTime=(_=l.setValueAtTime,p?()=>{throw r()}:(...t)=>{const e=_.apply(l,t);return y(),e}),l.setValueCurveAtTime=(b=l.setValueCurveAtTime,p?()=>{throw r()}:(...t)=>{const e=b.apply(l,t);return y(),e}),l};return{forwardX:b(0,0,v(0)),forwardY:b(1,0,v(1)),forwardZ:b(2,-1,v(2)),positionX:b(6,0,_(0)),positionY:b(7,0,_(1)),positionZ:b(8,0,_(2)),upX:b(3,0,v(3)),upY:b(4,1,v(4)),upZ:b(5,0,v(5))}})():l;return{get forwardX(){return h},get forwardY(){return d},get forwardZ(){return p},get positionX(){return f},get positionY(){return m},get positionZ(){return g},get upX(){return y},get upY(){return v},get upZ(){return _}}})(mn,Nn,qn,Xt,Yt,se,Ve,ae),Jn=new WeakMap,ti=((t,e,n,i,r,s)=>class extends n{constructor(n,s){super(n),this._nativeContext=n,d.set(this,n),i(n)&&r.set(n,new Set),this._destination=new t(this,s),this._listener=e(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(t){const e="function"==typeof t?s(this,t):null;this._nativeContext.onstatechange=e;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===e?t:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(vn,Zn,Be,Ve,Jn,me),ei=((t,e,n,i,r,s)=>(o,a)=>{const u=o.createOscillator();return jt(u,a),qt(u,a,"detune"),qt(u,a,"frequency"),void 0!==a.periodicWave?u.setPeriodicWave(a.periodicWave):It(u,a,"type"),e(n,()=>n(o))||Vt(u),e(i,()=>i(o))||s(u,o),e(r,()=>r(o))||Lt(u),t(o,u),u})(an,xe,ce,le,he,fe),ni=((t,e,n,i,r,s,o)=>class extends t{constructor(t,o){const a=r(t),u={...Jt,...o},c=n(a,u),l=s(a),h=l?i():null,d=t.sampleRate/2;super(t,!1,c,h),this._detune=e(this,l,c.detune,153600,-153600),this._frequency=e(this,l,c.frequency,d,-d),this._nativeOscillatorNode=c,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==u.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=u.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(t){const e="function"==typeof t?o(this,t):null;this._nativeOscillatorNode.onended=e;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===e?t:n}get type(){return this._nativeOscillatorNode.type}set type(t){this._nativeOscillatorNode.type=t,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(t){this._nativeOscillatorNode.setPeriodicWave(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=t)}start(t=0){if(this._nativeOscillatorNode.start(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=t),"closed"!==this.context.state){O(this);const t=()=>{this._nativeOscillatorNode.removeEventListener("ended",t),q(this)&&E(this)};this._nativeOscillatorNode.addEventListener("ended",t)}}stop(t=0){this._nativeOscillatorNode.stop(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=t)}})($e,mn,ei,((t,e,n,i,r)=>()=>{const s=new WeakMap;let o=null,a=null,u=null;return{set periodicWave(t){o=t},set start(t){a=t},set stop(t){u=t},render(c,l,h){const d=s.get(l);return void 0!==d?Promise.resolve(d):(async(c,l,h)=>{let d=n(c);const p=M(d,l);if(!p){const t={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:null===o?void 0:o,type:d.type};d=e(l,t),null!==a&&d.start(a),null!==u&&d.stop(u)}return s.set(l,d),p?(await t(l,c.detune,d.detune,h),await t(l,c.frequency,d.frequency,h)):(await i(l,c.detune,d.detune,h),await i(l,c.frequency,d.frequency,h)),await r(c,l,d,h),d})(c,l,h)}}})(ln,ei,nt,pn,Me),je,Ve,me),ii=(ri=hn,(t,e)=>{const n=ri(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=t.createBuffer(1,2,44100);return n.buffer=i,n.loop=!0,n.connect(e),n.start(),()=>{n.stop(),n.disconnect(e)}});var ri;const si=((t,e,n,i,r)=>(s,{curve:o,oversample:a,...u})=>{const c=s.createWaveShaper(),l=s.createWaveShaper();jt(c,u),jt(l,u);const h=n(s,{...u,gain:1}),d=n(s,{...u,gain:-1}),p=n(s,{...u,gain:1}),f=n(s,{...u,gain:-1});let m=null,g=!1,y=null;const v={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){h.channelCount=t,d.channelCount=t,c.channelCount=t,p.channelCount=t,l.channelCount=t,f.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){h.channelCountMode=t,d.channelCountMode=t,c.channelCountMode=t,p.channelCountMode=t,l.channelCountMode=t,f.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){h.channelInterpretation=t,d.channelInterpretation=t,c.channelInterpretation=t,p.channelInterpretation=t,l.channelInterpretation=t,f.channelInterpretation=t},get context(){return c.context},get curve(){return y},set curve(n){if(null!==n&&n.length<2)throw e();if(null===n)c.curve=n,l.curve=n;else{const t=n.length,e=new Float32Array(t+2-t%2),i=new Float32Array(t+2-t%2);e[0]=n[0],i[0]=-n[t-1];const r=Math.ceil((t+1)/2),s=(t+1)/2-1;for(let o=1;o<r;o+=1){const a=o/r*s,u=Math.floor(a),c=Math.ceil(a);e[o]=u===c?n[u]:(1-(a-u))*n[u]+(1-(c-a))*n[c],i[o]=u===c?-n[t-1-u]:-(1-(a-u))*n[t-1-u]-(1-(c-a))*n[t-1-c]}e[r]=t%2==1?n[r-1]:(n[r-2]+n[r-1])/2,c.curve=e,l.curve=i}y=n,g&&(i(y)&&null===m?m=t(s,h):null!==m&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(t){c.oversample=t,l.oversample=t},addEventListener:(...t)=>h.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>h.dispatchEvent(t[0]),removeEventListener:(...t)=>h.removeEventListener(t[0],t[1],t[2])};null!==o&&(v.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==v.oversample&&(v.oversample=a);return r(Kt(v,p),()=>{h.connect(c).connect(p),h.connect(d).connect(l).connect(f).connect(p),g=!0,i(y)&&(m=t(s,h))},()=>{h.disconnect(c),c.disconnect(p),h.disconnect(d),d.disconnect(l),l.disconnect(f),f.disconnect(p),g=!1,null!==m&&(m(),m=null)})})(ii,Et,Gt,oe,Dn),oi=((t,e,n,i,r,s,o)=>(a,u)=>{const c=a.createWaveShaper();if(null!==s&&"webkitAudioContext"===s.name&&void 0===a.createGain().gain.automationRate)return n(a,u);jt(c,u);const l=null===u.curve||u.curve instanceof Float32Array?u.curve:new Float32Array(u.curve);if(null!==l&&l.length<2)throw e();It(c,{curve:l},"curve"),It(c,u,"oversample");let h=null,d=!1;o(c,"curve",t=>()=>t.call(c),e=>n=>(e.call(c,n),d&&(i(n)&&null===h?h=t(a,c):i(n)||null===h||(h(),h=null)),n));return r(c,()=>{d=!0,i(c.curve)&&(h=t(a,c))},()=>{d=!1,null!==h&&(h(),h=null)})})(ii,Et,si,oe,Dn,We,ae),ai=((t,e,n,i,r,s,o,a,u,c)=>(l,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:p,distanceModel:f,maxDistance:m,orientationX:g,orientationY:y,orientationZ:v,panningModel:_,positionX:b,positionY:w,positionZ:x,refDistance:k,rolloffFactor:T,...S})=>{const O=l.createPanner();if(S.channelCount>2)throw o();if("max"===S.channelCountMode)throw o();jt(O,S);const C={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},E=n(l,{...C,channelInterpretation:"speakers",numberOfInputs:6}),A=i(l,{...S,gain:1}),D=i(l,{...C,gain:1}),M=i(l,{...C,gain:0}),R=i(l,{...C,gain:0}),P=i(l,{...C,gain:0}),N=i(l,{...C,gain:0}),I=i(l,{...C,gain:0}),j=r(l,256,6,1),F=s(l,{...C,curve:new Float32Array([1,1]),oversample:"none"});let q=[g,y,v],V=[b,w,x];const L=new Float32Array(1);j.onaudioprocess=({inputBuffer:t})=>{const e=[u(t,L,0),u(t,L,1),u(t,L,2)];e.some((t,e)=>t!==q[e])&&(O.setOrientation(...e),q=e);const n=[u(t,L,3),u(t,L,4),u(t,L,5)];n.some((t,e)=>t!==V[e])&&(O.setPosition(...n),V=n)},Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0});const z={get bufferSize(){},get channelCount(){return O.channelCount},set channelCount(t){if(t>2)throw o();A.channelCount=t,O.channelCount=t},get channelCountMode(){return O.channelCountMode},set channelCountMode(t){if("max"===t)throw o();A.channelCountMode=t,O.channelCountMode=t},get channelInterpretation(){return O.channelInterpretation},set channelInterpretation(t){A.channelInterpretation=t,O.channelInterpretation=t},get coneInnerAngle(){return O.coneInnerAngle},set coneInnerAngle(t){O.coneInnerAngle=t},get coneOuterAngle(){return O.coneOuterAngle},set coneOuterAngle(t){O.coneOuterAngle=t},get coneOuterGain(){return O.coneOuterGain},set coneOuterGain(t){if(t<0||t>1)throw e();O.coneOuterGain=t},get context(){return O.context},get distanceModel(){return O.distanceModel},set distanceModel(t){O.distanceModel=t},get inputs(){return[A]},get maxDistance(){return O.maxDistance},set maxDistance(t){if(t<0)throw new RangeError;O.maxDistance=t},get numberOfInputs(){return O.numberOfInputs},get numberOfOutputs(){return O.numberOfOutputs},get orientationX(){return D.gain},get orientationY(){return M.gain},get orientationZ(){return R.gain},get panningModel(){return O.panningModel},set panningModel(t){O.panningModel=t},get positionX(){return P.gain},get positionY(){return N.gain},get positionZ(){return I.gain},get refDistance(){return O.refDistance},set refDistance(t){if(t<0)throw new RangeError;O.refDistance=t},get rolloffFactor(){return O.rolloffFactor},set rolloffFactor(t){if(t<0)throw new RangeError;O.rolloffFactor=t},addEventListener:(...t)=>A.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>A.dispatchEvent(t[0]),removeEventListener:(...t)=>A.removeEventListener(t[0],t[1],t[2])};h!==z.coneInnerAngle&&(z.coneInnerAngle=h),d!==z.coneOuterAngle&&(z.coneOuterAngle=d),p!==z.coneOuterGain&&(z.coneOuterGain=p),f!==z.distanceModel&&(z.distanceModel=f),m!==z.maxDistance&&(z.maxDistance=m),g!==z.orientationX.value&&(z.orientationX.value=g),y!==z.orientationY.value&&(z.orientationY.value=y),v!==z.orientationZ.value&&(z.orientationZ.value=v),_!==z.panningModel&&(z.panningModel=_),b!==z.positionX.value&&(z.positionX.value=b),w!==z.positionY.value&&(z.positionY.value=w),x!==z.positionZ.value&&(z.positionZ.value=x),k!==z.refDistance&&(z.refDistance=k),T!==z.rolloffFactor&&(z.rolloffFactor=T),1===q[0]&&0===q[1]&&0===q[2]||O.setOrientation(...q),0===V[0]&&0===V[1]&&0===V[2]||O.setPosition(...V);return c(Kt(z,O),()=>{A.connect(O),t(A,F,0,0),F.connect(D).connect(E,0,0),F.connect(M).connect(E,0,1),F.connect(R).connect(E,0,2),F.connect(P).connect(E,0,3),F.connect(N).connect(E,0,4),F.connect(I).connect(E,0,5),E.connect(j).connect(l.destination)},()=>{A.disconnect(O),a(A,F,0,0),F.disconnect(D),D.disconnect(E),F.disconnect(M),M.disconnect(E),F.disconnect(R),R.disconnect(E),F.disconnect(P),P.disconnect(E),F.disconnect(N),N.disconnect(E),F.disconnect(I),I.disconnect(E),E.disconnect(j),j.disconnect(l.destination)})})(Y,Et,Nn,Gt,Xt,oi,Yt,et,se,Dn),ui=(ci=ai,(t,e)=>{const n=t.createPanner();return void 0===n.orientationX?ci(t,e):(jt(n,e),qt(n,e,"orientationX"),qt(n,e,"orientationY"),qt(n,e,"orientationZ"),qt(n,e,"positionX"),qt(n,e,"positionY"),qt(n,e,"positionZ"),It(n,e,"coneInnerAngle"),It(n,e,"coneOuterAngle"),It(n,e,"coneOuterGain"),It(n,e,"distanceModel"),It(n,e,"maxDistance"),It(n,e,"panningModel"),It(n,e,"refDistance"),It(n,e,"rolloffFactor"),n)});var ci;const li=((t,e,n,i,r,s,o)=>class extends t{constructor(t,a){const u=r(t),c={...te,...a},l=n(u,c),h=s(u);super(t,!1,l,h?i():null),this._nativePannerNode=l,this._orientationX=e(this,h,l.orientationX,F,j),this._orientationY=e(this,h,l.orientationY,F,j),this._orientationZ=e(this,h,l.orientationZ,F,j),this._positionX=e(this,h,l.positionX,F,j),this._positionY=e(this,h,l.positionY,F,j),this._positionZ=e(this,h,l.positionZ,F,j),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(t){this._nativePannerNode.coneInnerAngle=t}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(t){this._nativePannerNode.coneOuterAngle=t}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(t){this._nativePannerNode.coneOuterGain=t}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(t){this._nativePannerNode.distanceModel=t}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(t){this._nativePannerNode.maxDistance=t}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(t){this._nativePannerNode.panningModel=t}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(t){this._nativePannerNode.refDistance=t}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(t){this._nativePannerNode.rolloffFactor=t}})($e,mn,ui,((t,e,n,i,r,s,o,a,u,c)=>()=>{const l=new WeakMap;let h=null;return{render(d,p,f){const m=l.get(p);return void 0!==m?Promise.resolve(m):(async(d,p,f)=>{let m=null,g=s(d);const y={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation},v={...y,coneInnerAngle:g.coneInnerAngle,coneOuterAngle:g.coneOuterAngle,coneOuterGain:g.coneOuterGain,distanceModel:g.distanceModel,maxDistance:g.maxDistance,panningModel:g.panningModel,refDistance:g.refDistance,rolloffFactor:g.rolloffFactor},_=M(g,p);if("bufferSize"in g)m=i(p,{...y,gain:1});else if(!_){const t={...v,orientationX:g.orientationX.value,orientationY:g.orientationY.value,orientationZ:g.orientationZ.value,positionX:g.positionX.value,positionY:g.positionY.value,positionZ:g.positionZ.value};g=r(p,t)}if(l.set(p,null===m?g:m),null!==m){if(null===h){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new o(6,d.context.length,p.sampleRate),i=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});i.connect(t.destination),h=(async()=>{const e=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map(async(e,i)=>{const r=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===i?1:0});return await a(t,e,r.offset,f),r}));for(let t=0;t<6;t+=1)e[t].connect(i,0,t),e[t].start(0);return c(t)})()}const t=await h,s=i(p,{...y,gain:1});await u(d,p,s,f);const l=[];for(let e=0;e<t.numberOfChannels;e+=1)l.push(t.getChannelData(e));let g=[l[0][0],l[1][0],l[2][0]],_=[l[3][0],l[4][0],l[5][0]],b=i(p,{...y,gain:1}),w=r(p,{...v,orientationX:g[0],orientationY:g[1],orientationZ:g[2],positionX:_[0],positionY:_[1],positionZ:_[2]});s.connect(b).connect(w.inputs[0]),w.connect(m);for(let e=128;e<t.length;e+=128){const t=[l[0][e],l[1][e],l[2][e]],n=[l[3][e],l[4][e],l[5][e]];if(t.some((t,e)=>t!==g[e])||n.some((t,e)=>t!==_[e])){g=t,_=n;const o=e/p.sampleRate;b.gain.setValueAtTime(0,o),b=i(p,{...y,gain:0}),w=r(p,{...v,orientationX:g[0],orientationY:g[1],orientationZ:g[2],positionX:_[0],positionY:_[1],positionZ:_[2]}),b.gain.setValueAtTime(1,o),s.connect(b).connect(w.inputs[0]),w.connect(m)}}return m}return _?(await t(p,d.orientationX,g.orientationX,f),await t(p,d.orientationY,g.orientationY,f),await t(p,d.orientationZ,g.orientationZ,f),await t(p,d.positionX,g.positionX,f),await t(p,d.positionY,g.positionY,f),await t(p,d.positionZ,g.positionZ,f)):(await a(p,d.orientationX,g.orientationX,f),await a(p,d.orientationY,g.orientationY,f),await a(p,d.orientationZ,g.orientationZ,f),await a(p,d.positionX,g.positionX,f),await a(p,d.positionY,g.positionY,f),await a(p,d.positionZ,g.positionZ,f)),X(g)?await u(d,p,g.inputs[0],f):await u(d,p,g,f),g})(d,p,f)}}})(ln,Nn,qn,Gt,ui,nt,qe,pn,Me,Qn),je,Ve,bn),hi=((t,e,n,i)=>class r{constructor(r,s){const o=e(r),a=i({...ee,...s}),u=t(o,a);return n.add(u),u}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===r.prototype||n.has(t)}})((t=>(e,{disableNormalization:n,imag:i,real:r})=>{const s=i instanceof Float32Array?i:new Float32Array(i),o=r instanceof Float32Array?r:new Float32Array(r),a=e.createPeriodicWave(o,s,{disableNormalization:n});if(Array.from(i).length<2)throw t();return a})(P),je,new WeakSet,t=>{const{imag:e,real:n}=t;return void 0===e?void 0===n?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:void 0===n?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}}),di=((t,e)=>(n,i)=>{const r=i.channelCountMode;if("clamped-max"===r)throw e();if(void 0===n.createStereoPanner)return t(n,i);const s=n.createStereoPanner();return jt(s,i),qt(s,i,"pan"),Object.defineProperty(s,"channelCountMode",{get:()=>r,set:t=>{if(t!==r)throw e()}}),s})(((t,e,n,i,r,s)=>{const o=new Float32Array([1,1]),a=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...u,oversample:"none"},l=(t,s,l,h,d)=>{if(1===s)return((t,e,r,s)=>{const l=new Float32Array(16385),h=new Float32Array(16385);for(let t=0;t<16385;t+=1){const e=t/16384*a;l[t]=Math.cos(e),h[t]=Math.sin(e)}const d=n(t,{...u,gain:0}),p=i(t,{...c,curve:l}),f=i(t,{...c,curve:o}),m=n(t,{...u,gain:0}),g=i(t,{...c,curve:h});return{connectGraph(){e.connect(d),e.connect(void 0===f.inputs?f:f.inputs[0]),e.connect(m),f.connect(r),r.connect(void 0===p.inputs?p:p.inputs[0]),r.connect(void 0===g.inputs?g:g.inputs[0]),p.connect(d.gain),g.connect(m.gain),d.connect(s,0,0),m.connect(s,0,1)},disconnectGraph(){e.disconnect(d),e.disconnect(void 0===f.inputs?f:f.inputs[0]),e.disconnect(m),f.disconnect(r),r.disconnect(void 0===p.inputs?p:p.inputs[0]),r.disconnect(void 0===g.inputs?g:g.inputs[0]),p.disconnect(d.gain),g.disconnect(m.gain),d.disconnect(s,0,0),m.disconnect(s,0,1)}}})(t,l,h,d);if(2===s)return((t,r,s,l)=>{const h=new Float32Array(16385),d=new Float32Array(16385),p=new Float32Array(16385),f=new Float32Array(16385),m=Math.floor(8192.5);for(let t=0;t<16385;t+=1)if(t>m){const e=(t-m)/(16384-m)*a;h[t]=Math.cos(e),d[t]=Math.sin(e),p[t]=0,f[t]=1}else{const e=t/(16384-m)*a;h[t]=1,d[t]=0,p[t]=Math.cos(e),f[t]=Math.sin(e)}const g=e(t,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),y=n(t,{...u,gain:0}),v=i(t,{...c,curve:h}),_=n(t,{...u,gain:0}),b=i(t,{...c,curve:d}),w=i(t,{...c,curve:o}),x=n(t,{...u,gain:0}),k=i(t,{...c,curve:p}),T=n(t,{...u,gain:0}),S=i(t,{...c,curve:f});return{connectGraph(){r.connect(g),r.connect(void 0===w.inputs?w:w.inputs[0]),g.connect(y,0),g.connect(_,0),g.connect(x,1),g.connect(T,1),w.connect(s),s.connect(void 0===v.inputs?v:v.inputs[0]),s.connect(void 0===b.inputs?b:b.inputs[0]),s.connect(void 0===k.inputs?k:k.inputs[0]),s.connect(void 0===S.inputs?S:S.inputs[0]),v.connect(y.gain),b.connect(_.gain),k.connect(x.gain),S.connect(T.gain),y.connect(l,0,0),x.connect(l,0,0),_.connect(l,0,1),T.connect(l,0,1)},disconnectGraph(){r.disconnect(g),r.disconnect(void 0===w.inputs?w:w.inputs[0]),g.disconnect(y,0),g.disconnect(_,0),g.disconnect(x,1),g.disconnect(T,1),w.disconnect(s),s.disconnect(void 0===v.inputs?v:v.inputs[0]),s.disconnect(void 0===b.inputs?b:b.inputs[0]),s.disconnect(void 0===k.inputs?k:k.inputs[0]),s.disconnect(void 0===S.inputs?S:S.inputs[0]),v.disconnect(y.gain),b.disconnect(_.gain),k.disconnect(x.gain),S.disconnect(T.gain),y.disconnect(l,0,0),x.disconnect(l,0,0),_.disconnect(l,0,1),T.disconnect(l,0,1)}}})(t,l,h,d);throw r()};return(e,{channelCount:i,channelCountMode:o,pan:a,...u})=>{if("max"===o)throw r();const c=t(e,{...u,channelCount:1,channelCountMode:o,numberOfInputs:2}),h=n(e,{...u,channelCount:i,channelCountMode:o,gain:1}),d=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:a});let{connectGraph:p,disconnectGraph:f}=l(e,i,h,d,c);Object.defineProperty(d.gain,"defaultValue",{get:()=>0}),Object.defineProperty(d.gain,"maxValue",{get:()=>1}),Object.defineProperty(d.gain,"minValue",{get:()=>-1});const m={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(t){h.channelCount!==t&&(g&&f(),({connectGraph:p,disconnectGraph:f}=l(e,t,h,d,c)),g&&p()),h.channelCount=t},get channelCountMode(){return h.channelCountMode},set channelCountMode(t){if("clamped-max"===t||"max"===t)throw r();h.channelCountMode=t},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(t){h.channelInterpretation=t},get context(){return h.context},get inputs(){return[h]},get numberOfInputs(){return h.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get pan(){return d.gain},addEventListener:(...t)=>h.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>h.dispatchEvent(t[0]),removeEventListener:(...t)=>h.removeEventListener(t[0],t[1],t[2])};let g=!1;return s(Kt(m,c),()=>{p(),g=!0},()=>{f(),g=!1})}})(Nn,Wt,Gt,oi,Yt,Dn),Yt),pi=((t,e,n,i,r,s)=>class extends t{constructor(t,o){const a=r(t),u={...ne,...o},c=n(a,u),l=s(a);super(t,!1,c,l?i():null),this._pan=e(this,l,c.pan)}get pan(){return this._pan}})($e,mn,di,((t,e,n,i,r)=>()=>{const s=new WeakMap;return{render(o,a,u){const c=s.get(a);return void 0!==c?Promise.resolve(c):(async(o,a,u)=>{let c=n(o);const l=M(c,a);if(!l){const t={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=e(a,t)}return s.set(a,c),l?await t(a,o.pan,c.pan,u):await i(a,o.pan,c.pan,u),X(c)?await r(o,a,c.inputs[0],u):await r(o,a,c,u),c})(o,a,u)}}})(ln,di,nt,pn,Me),je,Ve),fi=((t,e,n)=>()=>{const i=new WeakMap;return{render(r,s,o){const a=i.get(s);return void 0!==a?Promise.resolve(a):(async(r,s,o)=>{let a=e(r);if(!M(a,s)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(s,e)}return i.set(s,a),X(a)?await n(r,s,a.inputs[0],o):await n(r,s,a,o),a})(r,s,o)}}})(oi,nt,Me),mi=((t,e,n,i,r,s,o)=>class extends t{constructor(t,e){const a=r(t),u={...re,...e},c=n(a,u);super(t,!0,c,s(a)?i():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=c,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(t){if(null===t)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(t.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=t}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(t){this._nativeWaveShaperNode.oversample=t}})($e,Et,oi,fi,je,Ve,bn),gi=(t=>null!==t&&t.isSecureContext)(Se),yi=(t=>(e,n,i)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(e*n)},currentTime:{configurable:!0,get:()=>e}});try{return i()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(Se),vi=new WeakMap,_i=((t,e)=>n=>{let i=t.get(n);if(void 0!==i)return i;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new e(1,1,44100),t.set(n,i),i})(vi,qe),bi=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(Se),wi=gi?((t,e,n,i,r,s,o,a,u,c,l,h,d)=>{let p=0;return(f,g,y={credentials:"omit"})=>{const v=l.get(f);if(void 0!==v&&v.has(g))return Promise.resolve();const x=c.get(f);if(void 0!==x){const t=x.get(g);if(void 0!==t)return t}const k=s(f),T=void 0===k.audioWorklet?r(g).then(([t,e])=>{const[i,r]=_(t,e);return n(`${i};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${r}\n})})(window,'_AWGS')`)}).then(()=>{const t=d._AWGS.pop();if(void 0===t)throw new SyntaxError;i(k.currentTime,k.sampleRate,()=>t(class{},void 0,(t,n)=>{if(""===t.trim())throw e();const i=m.get(k);if(void 0!==i){if(i.has(t))throw e();w(n),b(n.parameterDescriptors),i.set(t,n)}else w(n),b(n.parameterDescriptors),m.set(k,new Map([[t,n]]))},k.sampleRate,void 0,void 0))}):Promise.all([r(g),Promise.resolve(t(h,h))]).then(([[t,e],n])=>{const i=p+1;p=i;const[r,s]=_(t,e),c=new Blob([`${r};((AudioWorkletProcessor,registerProcessor)=>{${s}\n})(${n?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${i}',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),l=URL.createObjectURL(c);return k.audioWorklet.addModule(l,y).then(()=>{if(a(k))return k;const t=o(k);return t.audioWorklet.addModule(l,y).then(()=>t)}).then(t=>{if(null===u)throw new SyntaxError;try{new u(t,"__sac"+i)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(l))});return void 0===x?c.set(f,new Map([[g,T]])):x.set(g,T),T.then(()=>{const t=l.get(f);void 0===t?l.set(f,new Set([g])):t.add(g)}).finally(()=>{const t=c.get(f);void 0!==t&&t.delete(g)}),T}})(xe,Yt,(t=>e=>new Promise((n,i)=>{if(null===t)return void i(new SyntaxError);const r=t.document.head;if(null===r)i(new SyntaxError);else{const s=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),u=t.onerror,c=()=>{t.onerror=u,URL.revokeObjectURL(a)};t.onerror=(e,n,r,s,o)=>n===a||n===t.location.href&&1===r&&1===s?(c(),i(o),!1):null!==u?u(e,n,r,s,o):void 0,s.onerror=()=>{c(),i(new SyntaxError)},s.onload=()=>{c(),n()},s.src=a,s.type="module",r.appendChild(s)}}))(Se),yi,(t=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw t()})(()=>new DOMException("","AbortError")),je,_i,Ve,bi,new WeakMap,new WeakMap,((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new e(1,128,44100),r=URL.createObjectURL(n);let s=!1,o=!1;try{await i.audioWorklet.addModule(r);const e=new t(i,"a",{numberOfOutputs:0}),n=i.createOscillator();e.port.onmessage=()=>s=!0,e.onprocessorerror=()=>o=!0,n.connect(e),n.start(0),await i.startRendering()}catch{}finally{URL.revokeObjectURL(r)}return s&&!o})(bi,qe),Se):void 0,xi=((t,e)=>n=>t(n)||e(n))(Ke,Ve),ki=((t,e,n,i,r,s,o,a,u,c,l,h,d,p,f,m,g,y,v,_)=>class extends f{constructor(e,n){super(e,n),this._nativeContext=e,this._audioWorklet=void 0===t?void 0:{addModule:(e,n)=>t(this,e,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new r(this)}createBuffer(t,e,i){return new n({length:e,numberOfChannels:t,sampleRate:i})}createBufferSource(){return new i(this)}createChannelMerger(t=6){return new s(this,{numberOfInputs:t})}createChannelSplitter(t=6){return new o(this,{numberOfOutputs:t})}createConstantSource(){return new a(this)}createConvolver(){return new u(this)}createDelay(t=1){return new l(this,{maxDelayTime:t})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(t,e){return new p(this,{feedback:e,feedforward:t})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(t,e,n={disableNormalization:!1}){return new y(this,{...n,imag:e,real:t})}createStereoPanner(){return new v(this)}createWaveShaper(){return new _(this)}decodeAudioData(t,e,n){return c(this._nativeContext,t).then(t=>("function"==typeof e&&e(t),t),t=>{throw"function"==typeof n&&n(t),t})}})(wi,Ye,sn,yn,wn,In,jn,Vn,zn,((t,e,n,i,r,s,o,a,u,c,l)=>(h,d)=>{const p=o(h)?h:s(h);if(r.has(d)){const t=n();return Promise.reject(t)}try{r.add(d)}catch{}return e(u,()=>u(p))?p.decodeAudioData(d).then(n=>(kt(d).catch(()=>{}),e(a,()=>a(n))||l(n),t.add(n),n)):new Promise((e,n)=>{const r=async()=>{try{await kt(d)}catch{}},s=t=>{n(t),r()};try{p.decodeAudioData(d,n=>{"function"!=typeof n.copyFromChannel&&(c(n),N(n)),t.add(n),r().then(()=>e(n))},t=>{s(null===t?i():t)})}catch(t){s(t)}})})(Ze,xe,()=>new DOMException("","DataCloneError"),()=>new DOMException("","EncodingError"),new WeakSet,je,xi,R,Pt,nn,rn),Bn,Kn,Hn,Yn,ti,ni,li,hi,pi,mi),Ti=((t,e,n,i)=>class extends t{constructor(t,r){const s=n(t),o=e(s,r);if(i(s))throw TypeError();super(t,!0,o,null),this._nativeMediaElementAudioSourceNode=o}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})($e,(t,e)=>t.createMediaElementSource(e.mediaElement),je,Ve),Si=((t,e,n,i)=>class extends t{constructor(t,r){const s=n(t);if(i(s))throw new TypeError;const o={...Rt,...r},a=e(s,o);super(t,!1,a,null),this._nativeMediaStreamAudioDestinationNode=a}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})($e,(t,e)=>{const n=t.createMediaStreamDestination();return jt(n,e),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},je,Ve),Oi=((t,e,n,i)=>class extends t{constructor(t,r){const s=n(t),o=e(s,r);if(i(s))throw new TypeError;super(t,!0,o,null),this._nativeMediaStreamAudioSourceNode=o}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})($e,(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((t,e)=>t.id<e.id?-1:t.id>e.id?1:0);const i=n.slice(0,1),r=t.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(r,"mediaStream",{value:e}),r},je,Ve),Ci=((t,e,n)=>class extends t{constructor(t,i){const r=n(t);super(t,!0,e(r,i),null)}})($e,((t,e)=>(n,{mediaStreamTrack:i})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(i);const r=new MediaStream([i]),s=n.createMediaStreamSource(r);if("audio"!==i.kind)throw t();if(e(n))throw new TypeError;return s})(Et,Ve),je),Ei=((t,e,n,i,r,s,o,a,u)=>class extends t{constructor(t={}){if(null===u)throw new Error("Missing the native AudioContext constructor.");let e;try{e=new u(t)}catch(t){if(12===t.code&&"sampleRate is not in range"===t.message)throw n();throw t}if(null===e)throw i();if(!W(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw n();super(e,2);const{latencyHint:r}=t,{sampleRate:s}=e;if(this._baseLatency="number"==typeof e.baseLatency?e.baseLatency:"balanced"===r?512/s:"interactive"===r||void 0===r?256/s:"playback"===r?1024/s:128*Math.max(2,Math.min(128,Math.round(r*s/128)))/s,this._nativeAudioContext=e,"webkitAudioContext"===u.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===e.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",t)};e.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then(()=>{throw e()}):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then(()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),U(this)}))}createMediaElementSource(t){return new r(this,{mediaElement:t})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(t){return new o(this,{mediaStream:t})}createMediaStreamTrackSource(t){return new a(this,{mediaStreamTrack:t})}resume(){return"suspended"===this._state?new Promise((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)}):this._nativeAudioContext.resume().catch(t=>{if(void 0===t||15===t.code)throw e();throw t})}suspend(){return this._nativeAudioContext.suspend().catch(t=>{if(void 0===t)throw e();throw t})}})(ki,Et,Yt,ie,Ti,Si,Oi,Ci,We),Ai=(Di=Jn,t=>{const e=Di.get(t);if(void 0===e)throw new Error("The context has no set of AudioWorkletNodes.");return e});var Di;const Mi=(Ri=Ai,(t,e)=>{Ri(t).add(e)});var Ri;const Pi=(t=>(e,n,i=0,r=0)=>{const s=e[i];if(void 0===s)throw t();return ut(n)?s.connect(n,0,r):s.connect(n,0)})(P),Ni=(t=>(e,n)=>{t(e).delete(n)})(Ai),Ii=(t=>(e,n,i,r=0)=>void 0===n?e.forEach(t=>t.disconnect()):"number"==typeof n?St(t,e,n).disconnect():ut(n)?void 0===i?e.forEach(t=>t.disconnect(n)):void 0===r?St(t,e,i).disconnect(n,0):St(t,e,i).disconnect(n,0,r):void 0===i?e.forEach(t=>t.disconnect(n)):St(t,e,i).disconnect(n,0))(P),ji=new WeakMap,Fi=((t,e)=>n=>e(t,n))(ji,x),qi=((t,e,n,i,r,s,o,a,u,c,l,h,d)=>(p,f,m,y)=>{if(0===y.numberOfInputs&&0===y.numberOfOutputs)throw u();const v=Array.isArray(y.outputChannelCount)?y.outputChannelCount:Array.from(y.outputChannelCount);if(v.some(t=>t<1))throw u();if(v.length!==y.numberOfOutputs)throw e();if("explicit"!==y.channelCountMode)throw u();const _=y.channelCount*y.numberOfInputs,b=v.reduce((t,e)=>t+e,0),w=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(_+w>6||b>6)throw u();const x=new MessageChannel,k=[],T=[];for(let t=0;t<y.numberOfInputs;t+=1)k.push(o(p,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1})),T.push(r(p,{channelCount:y.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:y.channelCount}));const S=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:t,maxValue:e,minValue:n,name:i}of m.parameterDescriptors){const r=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==y.parameterData[i]?y.parameterData[i]:void 0===t?0:t});Object.defineProperties(r.offset,{defaultValue:{get:()=>void 0===t?0:t},maxValue:{get:()=>void 0===e?F:e},minValue:{get:()=>void 0===n?j:n}}),S.push(r)}const O=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,_+w)}),C=zt(f,p.sampleRate),E=a(p,C,_+w,Math.max(1,b)),A=r(p,{channelCount:Math.max(1,b),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,b)}),D=[];for(let t=0;t<y.numberOfOutputs;t+=1)D.push(i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v[t]}));for(let t=0;t<y.numberOfInputs;t+=1){k[t].connect(T[t]);for(let e=0;e<y.channelCount;e+=1)T[t].connect(O,e,t*y.channelCount+e)}const M=new dt(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map(({name:t},e)=>{const n=S[e];return n.connect(O,0,_+e),n.start(0),[t,n.offset]}));O.connect(E);let R=y.channelInterpretation,P=null;const N=0===y.numberOfOutputs?[E]:D,I={get bufferSize(){return C},get channelCount(){return y.channelCount},set channelCount(t){throw n()},get channelCountMode(){return y.channelCountMode},set channelCountMode(t){throw n()},get channelInterpretation(){return R},set channelInterpretation(t){for(const e of k)e.channelInterpretation=t;R=t},get context(){return E.context},get inputs(){return k},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},get onprocessorerror(){return P},set onprocessorerror(t){"function"==typeof P&&I.removeEventListener("processorerror",P),P="function"==typeof t?t:null,"function"==typeof P&&I.addEventListener("processorerror",P)},get parameters(){return M},get port(){return x.port2},addEventListener:(...t)=>E.addEventListener(t[0],t[1],t[2]),connect:t.bind(null,N),disconnect:c.bind(null,N),dispatchEvent:(...t)=>E.dispatchEvent(t[0]),removeEventListener:(...t)=>E.removeEventListener(t[0],t[1],t[2])},q=new Map;var V,L;x.port1.addEventListener=(V=x.port1.addEventListener,(...t)=>{if("message"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=q.get(t[1]);void 0!==n?t[1]=n:(t[1]=t=>{l(p.currentTime,p.sampleRate,()=>e(t))},q.set(e,t[1]))}}return V.call(x.port1,t[0],t[1],t[2])}),x.port1.removeEventListener=(L=x.port1.removeEventListener,(...t)=>{if("message"===t[0]){const e=q.get(t[1]);void 0!==e&&(q.delete(t[1]),t[1]=e)}return L.call(x.port1,t[0],t[1],t[2])});let z=null;Object.defineProperty(x.port1,"onmessage",{get:()=>z,set:t=>{"function"==typeof z&&x.port1.removeEventListener("message",z),z="function"==typeof t?t:null,"function"==typeof z&&(x.port1.addEventListener("message",z),x.port1.start())}}),m.prototype.port=x.port1;let B=null;((t,e,n,i)=>{let r=g.get(t);void 0===r&&(r=new WeakMap,g.set(t,r));const s=Bt(n,i);return r.set(e,s),s})(p,I,m,y).then(t=>B=t);const U=gt(y.numberOfInputs,y.channelCount),W=gt(y.numberOfOutputs,v),K=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce((t,{name:e})=>({...t,[e]:new Float32Array(128)}),{});let H=!0;const G=()=>{y.numberOfOutputs>0&&E.disconnect(A);for(let t=0,e=0;t<y.numberOfOutputs;t+=1){const n=D[t];for(let i=0;i<v[t];i+=1)A.disconnect(n,e+i,i);e+=v[t]}},Q=new Map;E.onaudioprocess=({inputBuffer:t,outputBuffer:e})=>{if(null!==B){const n=h(I);for(let i=0;i<C;i+=128){for(let e=0;e<y.numberOfInputs;e+=1)for(let n=0;n<y.channelCount;n+=1)ft(t,U[e],n,n,i);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach(({name:e},n)=>{ft(t,K,e,_+n,i)});for(let t=0;t<y.numberOfInputs;t+=1)for(let e=0;e<v[t];e+=1)0===W[t][e].byteLength&&(W[t][e]=new Float32Array(128));try{const t=U.map((t,e)=>{if(n[e].size>0)return Q.set(e,C/128),t;const i=Q.get(e);return void 0===i?[]:(t.every(t=>t.every(t=>0===t))&&(1===i?Q.delete(e):Q.set(e,i-1)),t)}),r=l(p.currentTime+i/p.sampleRate,p.sampleRate,()=>B.process(t,W,K));H=r;for(let t=0,n=0;t<y.numberOfOutputs;t+=1){for(let r=0;r<v[t];r+=1)mt(e,W[t],r,n+r,i);n+=v[t]}}catch(t){H=!1,I.dispatchEvent(new ErrorEvent("processorerror",{colno:t.colno,filename:t.filename,lineno:t.lineno,message:t.message}))}if(!H){for(let t=0;t<y.numberOfInputs;t+=1){k[t].disconnect(T[t]);for(let e=0;e<y.channelCount;e+=1)T[i].disconnect(O,e,t*y.channelCount+e)}if(void 0!==m.parameterDescriptors){const t=m.parameterDescriptors.length;for(let e=0;e<t;e+=1){const t=S[e];t.disconnect(O,0,_+e),t.stop()}}O.disconnect(E),E.onaudioprocess=null,$?G():Z();break}}}};let $=!1;const X=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Y=()=>E.connect(X).connect(p.destination),Z=()=>{E.disconnect(X),X.disconnect()};return Y(),d(I,()=>{if(H){Z(),y.numberOfOutputs>0&&E.connect(A);for(let t=0,e=0;t<y.numberOfOutputs;t+=1){const n=D[t];for(let i=0;i<v[t];i+=1)A.connect(n,e+i,i);e+=v[t]}}$=!0},()=>{H&&(Y(),G()),$=!1})})(Pi,P,Et,Nn,Wt,qn,Gt,Xt,Yt,Ii,yi,Fi,Dn),Vi=((t,e,n,i,r)=>(s,o,a,u,c,l)=>{if(null!==a)try{const e=new a(s,u,l),i=new Map;let o=null;if(Object.defineProperties(e,{channelCount:{get:()=>l.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>o,set:t=>{"function"==typeof o&&e.removeEventListener("processorerror",o),o="function"==typeof t?t:null,"function"==typeof o&&e.addEventListener("processorerror",o)}}}),e.addEventListener=(d=e.addEventListener,(...t)=>{if("processorerror"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=i.get(t[1]);void 0!==n?t[1]=n:(t[1]=n=>{"error"===n.type?(Object.defineProperties(n,{type:{value:"processorerror"}}),e(n)):e(new ErrorEvent(t[0],{...n}))},i.set(e,t[1]))}}return d.call(e,"error",t[1],t[2]),d.call(e,...t)}),e.removeEventListener=(h=e.removeEventListener,(...t)=>{if("processorerror"===t[0]){const e=i.get(t[1]);void 0!==e&&(i.delete(t[1]),t[1]=e)}return h.call(e,"error",t[1],t[2]),h.call(e,t[0],t[1],t[2])}),0!==l.numberOfOutputs){const t=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});e.connect(t).connect(s.destination);return r(e,()=>t.disconnect(),()=>t.connect(s.destination))}return e}catch(t){if(11===t.code)throw i();throw t}var h,d;if(void 0===c)throw i();return(t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}})(l),e(s,o,c,l)})(Et,qi,Gt,Yt,Dn),Li=((t,e,n,i,r,s,o,a,u,c,l,h,d,p,f,m)=>(g,y,v)=>{const _=new WeakMap;let b=null;return{render(w,x,k){a(x,w);const T=_.get(x);return void 0!==T?Promise.resolve(T):(async(a,w,x)=>{let k=l(a),T=null;const S=M(k,w),O=Array.isArray(y.outputChannelCount)?y.outputChannelCount:Array.from(y.outputChannelCount);if(null===h){const t=O.reduce((t,e)=>t+e,0),n=r(w,{channelCount:Math.max(1,t),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,t)}),s=[];for(let t=0;t<a.numberOfOutputs;t+=1)s.push(i(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:O[t]}));const c=o(w,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1});c.connect=e.bind(null,s),c.disconnect=u.bind(null,s),T=[n,s,c]}else S||(k=new h(w,g));if(_.set(w,null===T?k:T[2]),null!==T){if(null===b){if(void 0===v)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const t=a.channelCount*a.numberOfInputs,e=void 0===v.parameterDescriptors?0:v.parameterDescriptors.length,n=t+e,u=async()=>{const u=new d(n,128*Math.ceil(a.context.length/128),w.sampleRate),c=[],l=[];for(let t=0;t<y.numberOfInputs;t+=1)c.push(o(u,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1})),l.push(r(u,{channelCount:y.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:y.channelCount}));const h=await Promise.all(Array.from(a.parameters.values()).map(async t=>{const e=s(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:t.value});return await p(u,t,e.offset,x),e})),g=i(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,t+e)});for(let t=0;t<y.numberOfInputs;t+=1){c[t].connect(l[t]);for(let e=0;e<y.channelCount;e+=1)l[t].connect(g,e,t*y.channelCount+e)}for(const[e,n]of h.entries())n.connect(g,0,t+e),n.start(0);return g.connect(u.destination),await Promise.all(c.map(t=>f(a,u,t,x))),m(u)};b=yt(a,0===n?null:await u(),w,y,O,v,c)}const t=await b,e=n(w,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[u,l,h]=T;null!==t&&(e.buffer=t,e.start(0)),e.connect(u);for(let t=0,e=0;t<a.numberOfOutputs;t+=1){const n=l[t];for(let i=0;i<O[t];i+=1)u.connect(n,e+i,i);e+=O[t]}return h}if(S)for(const[e,n]of a.parameters.entries())await t(w,n,k.parameters.get(e),x);else for(const[t,e]of a.parameters.entries())await p(w,e,k.parameters.get(t),x);return await f(a,w,k,x),k})(w,x,k)}}})(ln,Pi,hn,Nn,Wt,qn,Gt,Ni,Ii,yi,nt,bi,qe,pn,Me,Qn),zi=(t=>e=>t.get(e))(vi),Bi=(t=>(e,n)=>{t.set(e,n)})(ji),Ui=gi?((t,e,n,i,r,s,o,a,u,c,l,h,d,p)=>class extends e{constructor(e,p,f){var g;const y=a(e),v=u(y),_=l({...pt,...f});d(_);const b=m.get(y),w=null==b?void 0:b.get(p),x=v||"closed"!==y.state?y:null!==(g=o(y))&&void 0!==g?g:y,k=r(x,v?null:e.baseLatency,c,p,w,_);super(e,!0,k,v?i(p,_,w):null);const T=[];k.parameters.forEach((t,e)=>{const i=n(this,v,t);T.push([e,i])}),this._nativeAudioWorkletNode=k,this._onprocessorerror=null,this._parameters=new dt(T),v&&t(y,this);const{activeInputs:S}=s(this);h(k,S)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(t){const e="function"==typeof t?p(this,t):null;this._nativeAudioWorkletNode.onprocessorerror=e;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===e?t:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(Mi,$e,mn,Li,Vi,L,zi,je,Ve,bi,t=>({...t,outputChannelCount:void 0!==t.outputChannelCount?t.outputChannelCount:1===t.numberOfInputs&&1===t.numberOfOutputs?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),Bi,t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},me):void 0,Wi=(((t,e,n,i,r)=>{})(Et,Yt,ie,ti,We),((t,e)=>(n,i,r)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,i,r)}catch(e){if("SyntaxError"===e.name)throw t();throw e}})(Yt,qe)),Ki=((t,e,n,i,r,s,o,a)=>{const u=[];return(c,l)=>n(c).render(c,l,u).then(()=>Promise.all(Array.from(i(l)).map(t=>n(t).render(t,l,u)))).then(()=>r(l)).then(n=>("function"!=typeof n.copyFromChannel?(o(n),N(n)):e(s,()=>s(n))||a(n),t.add(n),n))})(Ze,xe,Ae,Ai,Qn,R,nn,rn),Hi=(((t,e,n,i,r)=>{})(xe,Et,Wi,ti,Ki),((t,e,n,i,r)=>class extends t{constructor(t,n,r){let s;if("number"==typeof t&&void 0!==n&&void 0!==r)s={length:n,numberOfChannels:t,sampleRate:r};else{if("object"!=typeof t)throw new Error("The given parameters are not valid.");s=t}const{length:o,numberOfChannels:a,sampleRate:u}={...Zt,...s},c=i(a,o,u);e(Pt,()=>Pt(c))||c.addEventListener("statechange",(()=>{let t=0;const e=n=>{"running"===this._state&&(t>0?(c.removeEventListener("statechange",e),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):t+=1)};return e})()),super(c,a),this._length=o,this._nativeOfflineAudioContext=c,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,U(this)}))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout(()=>this._waitForThePromiseToSettle(t))}})(ki,xe,Et,Wi,Ki)),Gi=((t,e)=>n=>{const i=t.get(n);return e(i)||e(n)})(d,Ke),Qi=($i=c,Xi=Ge,t=>$i.has(t)||Xi(t));var $i,Xi;const Yi=(Zi=h,Ji=Qe,t=>Zi.has(t)||Ji(t));var Zi,Ji;const tr=((t,e)=>n=>{const i=t.get(n);return e(i)||e(n)})(d,Ve),er=()=>(async(t,e,n,i,r,s,o,a,u,c,l,h,d,p,f,m)=>{if(t(e,e)&&t(n,n)&&t(r,r)&&t(s,s)&&t(a,a)&&t(u,u)&&t(c,c)&&t(l,l)&&t(h,h)&&t(d,d)&&t(p,p)){return(await Promise.all([t(i,i),t(o,o),t(f,f),t(m,m)])).every(t=>t)}return!1})(xe,(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createBuffer(1,1,44100);if(void 0===e.copyToChannel)return!0;const n=new Float32Array(2);try{e.copyFromChannel(n,0,0)}catch{return!1}return!0})(qe),(t=>()=>{if(null===t)return!1;if(void 0!==t.prototype&&void 0!==t.prototype.close)return!0;const e=new t,n=void 0!==e.close;try{e.close()}catch{}return n})(We),(t=>()=>{if(null===t)return Promise.resolve(!1);const e=new t(1,1,44100);return new Promise(t=>{let n=!0;const i=i=>{n&&(n=!1,e.startRendering(),t(i instanceof TypeError))};let r;try{r=e.decodeAudioData(null,()=>{},i)}catch(t){i(t)}void 0!==r&&r.catch(i)})})(qe),(t=>()=>{if(null===t)return!1;let e;try{e=new t({latencyHint:"balanced"})}catch{return!1}return e.close(),!0})(We),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createGain(),n=e.connect(e)===e;return e.disconnect(e),n})(qe),((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['let c,p;class A extends AudioWorkletProcessor{constructor(){super();this.port.onmessage=(e)=>{p=e.data;p.onmessage=()=>{p.postMessage(c);p.close()};this.port.postMessage(0)}}process(){c=1}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new MessageChannel,r=new e(1,128,44100),s=URL.createObjectURL(n);let o=!1;try{await r.audioWorklet.addModule(s);const e=new t(r,"a",{numberOfOutputs:0}),n=r.createOscillator();await new Promise(t=>{e.port.onmessage=()=>t(),e.port.postMessage(i.port2,[i.port2])}),e.port.onmessage=()=>o=!0,n.connect(e),n.start(0),await r.startRendering(),o=await new Promise(t=>{i.port1.onmessage=({data:e})=>t(1===e),i.port1.postMessage(0)})}catch{}finally{i.port1.close(),URL.revokeObjectURL(s)}return o})(bi,qe),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createChannelMerger();if("max"===e.channelCountMode)return!0;try{e.channelCount=2}catch{return!0}return!1})(qe),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100);if(void 0===e.createConstantSource)return!0;return e.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY})(qe),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100),n=e.createConvolver();n.buffer=e.createBuffer(1,1,e.sampleRate);try{n.buffer=e.createBuffer(1,1,e.sampleRate)}catch{return!1}return!0})(qe),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createConvolver();try{e.channelCount=1}catch{return!1}return!0})(qe),de,(t=>()=>null!==t&&t.hasOwnProperty("isSecureContext"))(Se),(t=>()=>{if(null===t)return!1;const e=new t;try{return e.createMediaStreamSource(new MediaStream),!1}catch(t){return!0}})(We),(t=>()=>{if(null===t)return Promise.resolve(!1);const e=new t(1,1,44100);if(void 0===e.createStereoPanner)return Promise.resolve(!0);if(void 0===e.createConstantSource)return Promise.resolve(!0);const n=e.createConstantSource(),i=e.createStereoPanner();return n.channelCount=1,n.offset.value=1,i.channelCount=1,n.start(),n.connect(i).connect(e.destination),e.startRendering().then(t=>1!==t.getChannelData(0)[0])})(qe),pe);function nr(t,e){if(!t)throw new Error(e)}function ir(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function rr(t){t.isOffline||"running"===t.state||ur('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let sr=console;function or(t){sr=t}function ar(...t){sr.log(...t)}function ur(...t){sr.warn(...t)}function cr(t){return void 0===t}function lr(t){return!cr(t)}function hr(t){return"function"==typeof t}function dr(t){return"number"==typeof t}function pr(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function fr(t){return"boolean"==typeof t}function mr(t){return Array.isArray(t)}function gr(t){return"string"==typeof t}function yr(t){return gr(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}const vr="object"==typeof self?self:null,_r=vr&&(vr.hasOwnProperty("AudioContext")||vr.hasOwnProperty("webkitAudioContext"));function br(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function wr(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((i=i.apply(t,e||[])).next())}))}Object.create;Object.create;class xr{constructor(t,e,n){this._callback=t,this._type=e,this._updateInterval=n,this._createClock()}_createWorker(){const t=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),e=URL.createObjectURL(t),n=new Worker(e);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(t){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){this._updateInterval=Math.max(t,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*t,1))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function kr(t){return Yi(t)}function Tr(t){return Qi(t)}function Sr(t){return tr(t)}function Or(t){return Gi(t)}function Cr(t){return t instanceof AudioBuffer}function Er(t,e){return"value"===t||kr(e)||Tr(e)||Cr(e)}function Ar(t,...e){if(!e.length)return t;const n=e.shift();if(pr(t)&&pr(n))for(const e in n)Er(e,n[e])?t[e]=n[e]:pr(n[e])?(t[e]||Object.assign(t,{[e]:{}}),Ar(t[e],n[e])):Object.assign(t,{[e]:n[e]});return Ar(t,...e)}function Dr(t,e,n=[],i){const r={},s=Array.from(e);if(pr(s[0])&&i&&!Reflect.has(s[0],i)){Object.keys(s[0]).some(e=>Reflect.has(t,e))||(Ar(r,{[i]:s[0]}),n.splice(n.indexOf(i),1),s.shift())}if(1===s.length&&pr(s[0]))Ar(r,s[0]);else for(let t=0;t<n.length;t++)lr(s[t])&&(r[n[t]]=s[t]);return Ar(t,r)}function Mr(t,e){return cr(t)?e:t}function Rr(t,e){return e.forEach(e=>{Reflect.has(t,e)&&delete t[e]}),t}
/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class Pr{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||vr&&this.toString()===vr.TONE_DEBUG_CLASS)&&ar(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Pr.version=s;function Nr(t,e){return t>e+1e-6}function Ir(t,e){return Nr(t,e)||Fr(t,e)}function jr(t,e){return t+1e-6<e}function Fr(t,e){return Math.abs(t-e)<1e-6}function qr(t,e,n){return Math.max(Math.min(t,n),e)}class Vr extends Pr{constructor(){super(),this.name="Timeline",this._timeline=[];const t=Dr(Vr.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(nr(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];nr(Ir(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(t){const e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this}get(t,e="time"){const n=this._search(t,e);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){const n=this._search(t,e);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const n=this._search(t);return n-1>=0?this._timeline[n-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(Fr(this._timeline[e].time,t)){for(let n=e;n>=0&&Fr(this._timeline[n].time,t);n--)e=n;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&Ir(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e="time"){if(0===this._timeline.length)return-1;let n=0;const i=this._timeline.length;let r=i;if(i>0&&this._timeline[i-1][e]<=t)return i-1;for(;n<r;){let i=Math.floor(n+(r-n)/2);const s=this._timeline[i],o=this._timeline[i+1];if(Fr(s[e],t)){for(let n=i;n<this._timeline.length;n++){if(!Fr(this._timeline[n][e],t))break;i=n}return i}if(jr(s[e],t)&&Nr(o[e],t))return i;Nr(s[e],t)?r=i:n=i+1}return-1}_iterate(t,e=0,n=this._timeline.length-1){this._timeline.slice(e,n+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const n=this._search(t);return-1!==n&&this._iterate(e,0,n),this}forEachAfter(t,e){const n=this._search(t);return this._iterate(e,n+1),this}forEachBetween(t,e,n){let i=this._search(t),r=this._search(e);return-1!==i&&-1!==r?(this._timeline[i].time!==t&&(i+=1),this._timeline[r].time===e&&(r-=1),this._iterate(n,i,r)):-1===i&&this._iterate(n,0,r),this}forEachFrom(t,e){let n=this._search(t);for(;n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this}forEachAtTime(t,e){const n=this._search(t);if(-1!==n&&Fr(this._timeline[n].time,t)){let i=n;for(let e=n;e>=0&&Fr(this._timeline[e].time,t);e--)i=e;this._iterate(t=>{e(t)},i,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Lr=[];function zr(t){Lr.push(t)}const Br=[];function Ur(t){Br.push(t)}class Wr extends Pr{constructor(){super(...arguments),this.name="Emitter"}on(t,e){return t.split(/\W+/).forEach(t=>{cr(this._events)&&(this._events={}),this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e)}),this}once(t,e){const n=(...i)=>{e(...i),this.off(t,n)};return this.on(t,n),this}off(t,e){return t.split(/\W+/).forEach(n=>{if(cr(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(cr(e))this._events[t]=[];else{const n=this._events[t];for(let t=n.length-1;t>=0;t--)n[t]===e&&n.splice(t,1)}}),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const n=this._events[t].slice(0);for(let t=0,i=n.length;t<i;t++)n[t].apply(this,e)}return this}static mixin(t){["on","once","off","emit"].forEach(e=>{const n=Object.getOwnPropertyDescriptor(Wr.prototype,e);Object.defineProperty(t.prototype,e,n)})}dispose(){return super.dispose(),this._events=void 0,this}}class Kr extends Wr{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Hr extends Kr{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new Vr,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const t=Dr(Hr.getDefaults(),arguments,["context"]);t.context?this._context=t.context:this._context=function(t){return new Ei(t)}({latencyHint:t.latencyHint}),this._ticker=new xr(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(t.latencyHint),this.lookAhead=t.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var t;return this._initialized||(t=this,Lr.forEach(e=>e(t)),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,n){return this._context.createBuffer(t,e,n)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,n){return this._context.createPeriodicWave(t,e,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){nr(Or(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamSource(t)}createMediaElementSource(t){nr(Or(this._context),"Not available if OfflineAudioContext");return this._context.createMediaElementSource(t)}createMediaStreamDestination(){nr(Or(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){nr(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){nr(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){nr(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){nr(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return function(t,e,n){return nr(lr(Ui),"This node only works in a secure context (https or localhost)"),new Ui(t,e,n)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(this.rawContext,t,e)}addAudioWorkletModule(t,e){return wr(this,void 0,void 0,(function*(){nr(lr(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(e)||this._workletModules.set(e,this.rawContext.audioWorklet.addModule(t)),yield this._workletModules.get(e)}))}workletsAreReady(){return wr(this,void 0,void 0,(function*(){const t=[];this._workletModules.forEach(e=>t.push(e)),yield Promise.all(t)}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get latencyHint(){return this._latencyHint}_setLatencyHint(t){let e=0;if(this._latencyHint=t,gr(t))switch(t){case"interactive":e=.1;break;case"playback":e=.5;break;case"balanced":e=.25}this.lookAhead=e,this.updateInterval=e/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Or(this._context)?this._context.resume():Promise.resolve()}close(){return wr(this,void 0,void 0,(function*(){var t;Or(this._context)&&(yield this._context.close()),this._initialized&&(t=this,Br.forEach(e=>e(t)))}))}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0);for(let e=0;e<n.length;e++)n[e]=t;const i=this._context.createBufferSource();return i.channelCount=1,i.channelCountMode="explicit",i.buffer=e,i.loop=!0,i.start(0),this._constants.set(t,i),i}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=>this._constants[t].disconnect()),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();for(;this._timeouts.length&&e&&e.time<=t;)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:n+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(e=>{e.id===t&&this._timeouts.remove(e)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const n=++this._timeoutIds,i=()=>{const r=this.now();this._timeouts.add({callback:()=>{t(),i()},id:n,time:r+e})};return i(),n}}function Gr(t,e){mr(e)?e.forEach(e=>Gr(t,e)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Qr(t,e){mr(e)?e.forEach(e=>Qr(t,e)):Object.defineProperty(t,e,{writable:!0})}const $r=()=>{};class Xr extends Pr{constructor(){super(),this.name="ToneAudioBuffer",this.onload=$r;const t=Dr(Xr.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,t.url&&Cr(t.url)||t.url instanceof Xr?this.set(t.url):gr(t.url)&&this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:$r,onload:$r,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:ts().sampleRate}set(t){return t instanceof Xr?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return wr(this,void 0,void 0,(function*(){const e=Xr.load(t).then(t=>{this.set(t),this.onload(this)});Xr.downloads.push(e);try{yield e}finally{const t=Xr.downloads.indexOf(e);Xr.downloads.splice(t,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=mr(t)&&t[0].length>0,n=e?t.length:1,i=e?t[0].length:t.length,r=ts(),s=r.createBuffer(n,i,r.sampleRate),o=e||1!==n?t:[t];for(let t=0;t<n;t++)s.copyToChannel(o[t],t);return this._buffer=s,this}toMono(t){if(dr(t))this.fromArray(this.toArray(t));else{let t=new Float32Array(this.length);const e=this.numberOfChannels;for(let n=0;n<e;n++){const e=this.toArray(n);for(let n=0;n<e.length;n++)t[n]+=e[n]}t=t.map(t=>t/e),this.fromArray(t)}return this}toArray(t){if(dr(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const t=[];for(let e=0;e<this.numberOfChannels;e++)t[e]=this.getChannelData(e);return t}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){const n=Math.floor(t*this.sampleRate),i=Math.floor(e*this.sampleRate);nr(n<i,"The start time must be less than the end time");const r=i-n,s=ts().createBuffer(this.numberOfChannels,r,this.sampleRate);for(let t=0;t<this.numberOfChannels;t++)s.copyToChannel(this.getChannelData(t).subarray(n,i),t);return new Xr(s)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new Xr).fromArray(t)}static fromUrl(t){return wr(this,void 0,void 0,(function*(){const e=new Xr;return yield e.load(t)}))}static load(t){return wr(this,void 0,void 0,(function*(){const e=t.match(/\[([^\]\[]+\|.+)\]$/);if(e){const n=e[1].split("|");let i=n[0];for(const t of n)if(Xr.supportsType(t)){i=t;break}t=t.replace(e[0],i)}const n=""===Xr.baseUrl||Xr.baseUrl.endsWith("/")?Xr.baseUrl:Xr.baseUrl+"/",i=yield fetch(n+t);if(!i.ok)throw new Error("could not load url: "+t);const r=yield i.arrayBuffer();return yield ts().decodeAudioData(r)}))}static supportsType(t){const e=t.split("."),n=e[e.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return wr(this,void 0,void 0,(function*(){for(yield Promise.resolve();Xr.downloads.length;)yield Xr.downloads[0]}))}}Xr.baseUrl="",Xr.downloads=[];class Yr extends Hr{constructor(){var t,e,n;super({clockSource:"offline",context:Sr(arguments[0])?arguments[0]:(t=arguments[0],e=arguments[1]*arguments[2],n=arguments[2],new Hi(t,e,n)),lookAhead:0,updateInterval:Sr(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Sr(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return wr(this,void 0,void 0,(function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const n=Math.floor(this.sampleRate/128);t&&e%n==0&&(yield new Promise(t=>setTimeout(t,1)))}}))}render(t=!0){return wr(this,void 0,void 0,(function*(){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new Xr(e)}))}close(){return Promise.resolve()}}const Zr=new class extends Kr{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,n){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t,e){return wr(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}};let Jr=Zr;function ts(){return Jr===Zr&&_r&&es(new Hr),Jr}function es(t){Jr=Or(t)?new Hr(t):Sr(t)?new Yr(t):t}function ns(){return Jr.resume()}if(vr&&!vr.TONE_SILENCE_LOGGING){let t="v";"dev"===s&&(t="");const e=` * Tone.js ${t}${s} * `;console.log("%c"+e,"background: #000; color: #fff")}function is(t){return Math.pow(10,t/20)}function rs(t){return Math.log(t)/Math.LN10*20}function ss(t){return Math.pow(2,t/12)}let os=440;function as(t){return Math.round(us(t))}function us(t){return 69+12*Math.log2(t/os)}function cs(t){return os*Math.pow(2,(t-69)/12)}class ls extends Pr{constructor(t,e,n){super(),this.defaultUnits="s",this._val=e,this._units=n,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const n=parseInt(t,10),i="."===e?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*i:this._beatsToUnits(4/n)*i},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(e)))},regexp:/^(\d+)t$/i},tr:{method:(t,e,n)=>{let i=0;return t&&"0"!==t&&(i+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(i+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(i+=this._beatsToUnits(parseFloat(n)/4)),i},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof ls&&this.fromType(this._val),cr(this._val))return this._noArg();if(gr(this._val)&&cr(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(pr(this._val)){let t=0;for(const e in this._val)if(lr(this._val[e])){const n=this._val[e];t+=new this.constructor(this.context,e).valueOf()*n}return t}if(lr(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}return gr(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class hs extends ls{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new hs(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const n=new this.constructor(this.context,t).valueOf(),i=this.valueOf();return i+(Math.round(i/n)*n-i)*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let t=1;t<9;t++){const n=Math.pow(2,t);e.push(n+"n."),e.push(n+"n"),e.push(n+"t")}e.push("0");let n=e[0],i=new hs(this.context,e[0]).toSeconds();return e.forEach(e=>{const r=new hs(this.context,e).toSeconds();Math.abs(r-t)<Math.abs(i-t)&&(n=e,i=r)}),n}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const n=Math.floor(e/this._getTimeSignature());let i=e%1*4;e=Math.floor(e)%this._getTimeSignature();const r=i.toString();r.length>3&&(i=parseFloat(parseFloat(r).toFixed(3)));return[n,e,i].join(":")}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.round(e*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return as(this.toFrequency())}_now(){return this.context.now()}}function ds(t,e){return new hs(ts(),t,e)}class ps extends hs{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return os}static set A4(t){!function(t){os=t}(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return"midi"===this.defaultUnits?t:ps.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(t,e){const n=fs[t.toLowerCase()]+12*(parseInt(e,10)+1);return"midi"===this.defaultUnits?n:ps.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,n){let i=1;return t&&"0"!==t&&(i*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(i*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(i*=this._beatsToUnits(parseFloat(n)/4)),i}}})}transpose(t){return new ps(this.context,this.valueOf()*ss(t))}harmonize(t){return t.map(t=>this.transpose(t))}toMidi(){return as(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/ps.A4);let n=Math.round(12*e)+57;const i=Math.floor(n/12);i<0&&(n+=-12*i);return ms[n%12]+i.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return cs(t)}static ftom(t){return as(t)}}const fs={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},ms=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function gs(t,e){return new ps(ts(),t,e)}class ys extends hs{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}function vs(t,e){return new ys(ts(),t,e)}class _s extends Pr{constructor(){super();const t=Dr(_s.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:ts()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return new hs(this.context,t).toSeconds()}toFrequency(t){return new ps(this.context,t).toFrequency()}toTicks(t){return new ys(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach(n=>{cr(t[n])&&delete e[n]}),e}get(){const t=this.constructor.getDefaults();return Object.keys(t).forEach(e=>{if(Reflect.has(this,e)){const n=this[e];lr(n)&&lr(n.value)&&lr(n.setValueAtTime)?t[e]=n.value:n instanceof _s?t[e]=n._getPartialProperties(t[e]):mr(n)||dr(n)||gr(n)||fr(n)?t[e]=n:delete t[e]}}),t}set(t){return Object.keys(t).forEach(e=>{Reflect.has(this,e)&&lr(this[e])&&(this[e]&&lr(this[e].value)&&lr(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof _s?this[e].set(t[e]):this[e]=t[e])}),this}}class bs extends Vr{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return null!==e?e.state:this._initial}setStateAtTime(t,e,n){return ir(e,0),this.add(Object.assign({},n,{state:t,time:e})),this}getLastState(t,e){for(let n=this._search(e);n>=0;n--){const e=this._timeline[n];if(e.state===t)return e}}getNextState(t,e){const n=this._search(e);if(-1!==n)for(let e=n;e<this._timeline.length;e++){const n=this._timeline[e];if(n.state===t)return n}}}class ws extends _s{constructor(){super(Dr(ws.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const t=Dr(ws.getDefaults(),arguments,["param","units","convert"]);for(nr(lr(t.param)&&(kr(t.param)||t.param instanceof ws),"param must be an AudioParam");!kr(t.param);)t.param=t.param._param;this._swappable=!!lr(t.swappable)&&t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new Vr(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,lr(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(_s.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return lr(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return lr(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return lr(this.maxValue)&&lr(this.minValue)&&ir(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?is(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&"decibels"===this.units?rs(t):t}setValueAtTime(t,e){const n=this.toSeconds(e),i=this._fromType(t);return nr(isFinite(i)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(i),this.log(this.units,"setValueAtTime",t,n),this._events.add({time:n,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,n),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),n=this._events.getAfter(e),i=this._events.get(e);let r=this._initialValue;if(null===i)r=this._initialValue;else if("setTargetAtTime"!==i.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)r=i.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let t=i.value;if("setTargetAtTime"===i.type){const e=this._events.getBefore(i.time);t=null===e?this._initialValue:e.value}r="linearRampToValueAtTime"===n.type?this._linearInterpolate(i.time,t,n.time,n.value,e):this._exponentialInterpolate(i.time,t,n.time,n.value,e)}else r=i.value;else{const t=this._events.getBefore(i.time);let n;n=null===t?this._initialValue:t.value,"setTargetAtTime"===i.type&&(r=this._exponentialApproach(i.time,n,i.value,i.constant,e))}return this._toType(r)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===this._fromType(e)&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const n=this._fromType(t),i=this.toSeconds(e);return nr(isFinite(n)&&isFinite(i),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(n),this._events.add({time:i,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",t,i),this._param.linearRampToValueAtTime(n,i),this}exponentialRampToValueAtTime(t,e){let n=this._fromType(t);n=Fr(n,0)?this._minOutput:n,this._assertRange(n);const i=this.toSeconds(e);return nr(isFinite(n)&&isFinite(i),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:i,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",t,i),this._param.exponentialRampToValueAtTime(n,i),this}exponentialRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this}linearRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this}targetRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,e),this}exponentialApproachValueAtTime(t,e,n){e=this.toSeconds(e),n=this.toSeconds(n);const i=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(t,e,i),this.cancelAndHoldAtTime(e+.9*n),this.linearRampToValueAtTime(t,e+n),this}setTargetAtTime(t,e,n){const i=this._fromType(t);nr(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const r=this.toSeconds(e);return this._assertRange(i),nr(isFinite(i)&&isFinite(r),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:n,time:r,type:"setTargetAtTime",value:i}),this.log(this.units,"setTargetAtTime",t,r,n),this._param.setTargetAtTime(i,r,n),this}setValueCurveAtTime(t,e,n,i=1){n=this.toSeconds(n),e=this.toSeconds(e);const r=this._fromType(t[0])*i;this.setValueAtTime(this._toType(r),e);const s=n/(t.length-1);for(let n=1;n<t.length;n++){const r=this._fromType(t[n])*i;this.linearRampToValueAtTime(this._toType(r),e+n*s)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return nr(isFinite(e),"Invalid argument to cancelScheduledValues: "+JSON.stringify(t)),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),n=this._fromType(this.getValueAtTime(e));nr(isFinite(e),"Invalid argument to cancelAndHoldAtTime: "+JSON.stringify(t)),this.log(this.units,"cancelAndHoldAtTime",e,"value="+n);const i=this._events.get(e),r=this._events.getAfter(e);return i&&Fr(i.time,e)?r?(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):r&&(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time),"linearRampToValueAtTime"===r.type?this.linearRampToValueAtTime(this._toType(n),e):"exponentialRampToValueAtTime"===r.type&&this.exponentialRampToValueAtTime(this._toType(n),e)),this._events.add({time:e,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,e),this}rampTo(t,e=.1,n){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(t,e,n):this.linearRampTo(t,e,n),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const n=this._events.get(e);if(n&&"setTargetAtTime"===n.type){const i=this._events.getAfter(n.time),r=i?i.time:e+2,s=(r-e)/10;for(let n=e;n<r;n+=s)t.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,e=>{"cancelScheduledValues"===e.type?t.cancelScheduledValues(e.time):"setTargetAtTime"===e.type?t.setTargetAtTime(e.value,e.time,e.constant):t[e.type](e.value,e.time)}),this}setParam(t){nr(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,n,i,r){return n+(e-n)*Math.exp(-(r-t)/i)}_linearInterpolate(t,e,n,i,r){return e+(r-t)/(n-t)*(i-e)}_exponentialInterpolate(t,e,n,i,r){return e*Math.pow(i/e,(r-t)/(n-t))}}class xs extends _s{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return lr(this.input)?kr(this.input)||this.input instanceof ws?1:this.input.numberOfInputs:0}get numberOfOutputs(){return lr(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return lr(t)&&(t instanceof xs||Tr(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach(e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){const t=this._getInternalNodes();nr(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,n=0){return Ts(this,t,e,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return ur("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,n=0){return Ss(this,t,e,n),this}chain(...t){return ks(this,...t),this}fan(...t){return t.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),lr(this.input)&&(this.input instanceof xs?this.input.dispose():Tr(this.input)&&this.input.disconnect()),lr(this.output)&&(this.output instanceof xs?this.output.dispose():Tr(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function ks(...t){const e=t.shift();t.reduce((t,e)=>(t instanceof xs?t.connect(e):Tr(t)&&Ts(t,e),e),e)}function Ts(t,e,n=0,i=0){for(nr(lr(t),"Cannot connect from undefined node"),nr(lr(e),"Cannot connect to undefined node"),(e instanceof xs||Tr(e))&&nr(e.numberOfInputs>0,"Cannot connect to node with no inputs"),nr(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof xs||e instanceof ws;)lr(e.input)&&(e=e.input);for(;t instanceof xs;)lr(t.output)&&(t=t.output);kr(e)?t.connect(e,n):t.connect(e,n,i)}function Ss(t,e,n=0,i=0){if(lr(e))for(;e instanceof xs;)e=e.input;for(;!Tr(t);)lr(t.output)&&(t=t.output);kr(e)?t.disconnect(e,n):Tr(e)?t.disconnect(e,n,i):t.disconnect()}class Os extends xs{constructor(){super(Dr(Os.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const t=Dr(Os.getDefaults(),arguments,["gain","units"]);this.gain=new ws({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Gr(this,"gain")}static getDefaults(){return Object.assign(xs.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Cs extends xs{constructor(t){super(t),this.onended=$r,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Os({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const e=this.toSeconds(t);return-1!==this._startTime&&e>=this._startTime&&(-1===this._stopTime||e<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(xs.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:$r})}_startGain(t,e=1){nr(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=t+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(e,t+n):this._gainNode.gain.exponentialApproachValueAtTime(e,t,n)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){nr(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.context.currentTime),e>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const t="exponential"===this._curve?2*e:0;this._stopSource(this.now()+t),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==$r&&(this.onended(this),this.onended=$r,!this.context.isOffline)){const t=()=>this.dispose();void 0!==window.requestIdleCallback?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),nr(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class Es extends Cs{constructor(){super(Dr(Es.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const t=Dr(Es.getDefaults(),arguments,["offset"]);Ts(this._source,this._gainNode),this.offset=new ws({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(Cs.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class As extends xs{constructor(){super(Dr(As.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const t=Dr(As.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Es({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(xs.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,n=0){return Ds(this,t,e,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,n){return this._param.exponentialRampTo(t,e,n),this}linearRampTo(t,e,n){return this._param.linearRampTo(t,e,n),this}targetRampTo(t,e,n){return this._param.targetRampTo(t,e,n),this}exponentialApproachValueAtTime(t,e,n){return this._param.exponentialApproachValueAtTime(t,e,n),this}setTargetAtTime(t,e,n){return this._param.setTargetAtTime(t,e,n),this}setValueCurveAtTime(t,e,n,i){return this._param.setValueCurveAtTime(t,e,n,i),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,n){return this._param.rampTo(t,e,n),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function Ds(t,e,n,i){(e instanceof ws||kr(e)||e instanceof As&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof As&&(e.overridden=!0)),Ts(t,e,n,i)}class Ms extends ws{constructor(){super(Dr(Ms.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Vr(1/0),this._multiplier=1;const t=Dr(Ms.getDefaults(),arguments,["value"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(ws.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,n){e=this.toSeconds(e),this.setRampPoint(e);const i=this._fromType(t),r=this._events.get(e),s=Math.round(Math.max(1/n,1));for(let t=0;t<=s;t++){const s=n*t+e,o=this._exponentialApproach(r.time,r.value,i,n,s);this.linearRampToValueAtTime(this._toType(o),s)}return this}setValueAtTime(t,e){const n=this.toSeconds(e);super.setValueAtTime(t,e);const i=this._events.get(n),r=this._events.previousEvent(i),s=this._getTicksUntilEvent(r,n);return i.ticks=Math.max(s,0),this}linearRampToValueAtTime(t,e){const n=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const i=this._events.get(n),r=this._events.previousEvent(i),s=this._getTicksUntilEvent(r,n);return i.ticks=Math.max(s,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const n=this._fromType(t),i=this._events.get(e),r=Math.round(Math.max(10*(e-i.time),1)),s=(e-i.time)/r;for(let t=0;t<=r;t++){const r=s*t+i.time,o=this._exponentialInterpolate(i.time,i.value,e,n,r);this.linearRampToValueAtTime(this._toType(o),r)}return this}_getTicksUntilEvent(t,e){if(null===t)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(cr(t.ticks)){const e=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(e,t.time)}const n=this._fromType(this.getValueAtTime(t.time));let i=this._fromType(this.getValueAtTime(e));const r=this._events.get(e);return r&&r.time===e&&"setValueAtTime"===r.type&&(i=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(n+i)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),n=this._events.get(e);return Math.max(this._getTicksUntilEvent(n,e),0)}getDurationOfTicks(t,e){const n=this.toSeconds(e),i=this.getTicksAtTime(e);return this.getTimeOfTick(i+t)-n}getTimeOfTick(t){const e=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&n&&"linearRampToValueAtTime"===n.type&&e.value!==n.value){const i=this._fromType(this.getValueAtTime(e.time)),r=(this._fromType(this.getValueAtTime(n.time))-i)/(n.time-e.time),s=Math.sqrt(Math.pow(i,2)-2*r*(e.ticks-t)),o=(-i+s)/r,a=(-i-s)/r;return(o>0?o:a)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const n=this.toSeconds(e),i=this.toSeconds(t),r=this.getTicksAtTime(n);return this.getTicksAtTime(n+i)-r}_fromType(t){return"bpm"===this.units&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return"bpm"===this.units&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class Rs extends As{constructor(){super(Dr(Rs.getDefaults(),arguments,["value"])),this.name="TickSignal";const t=Dr(Rs.getDefaults(),arguments,["value"]);this.input=this._param=new Ms({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(As.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class Ps extends _s{constructor(){super(Dr(Ps.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new bs,this._tickOffset=new Vr;const t=Dr(Ps.getDefaults(),arguments,["frequency"]);this.frequency=new Rs({context:this.context,units:t.units,value:t.frequency}),Gr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},_s.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const n=this.toSeconds(t);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),lr(e)&&this.setTicksAtTime(e,n)),this}stop(t){const e=this.toSeconds(t);if("stopped"===this._state.getValueAtTime(e)){const t=this._state.get(e);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&this._state.setStateAtTime("paused",e),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),n=this._state.getLastState("stopped",e),i={state:"paused",time:e};this._state.add(i);let r=n,s=0;return this._state.forEachBetween(n.time,e+this.sampleTime,t=>{let e=r.time;const n=this._tickOffset.get(t.time);n&&n.time>=r.time&&(s=n.ticks,e=n.time),"started"===r.state&&"started"!==t.state&&(s+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e)),r=t}),this._state.remove(i),s}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),n=this.frequency.timeToTicks(t,e);this.setTicksAtTime(n,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),n={state:"paused",time:t};this._state.add(n);let i=e,r=0;return this._state.forEachBetween(e.time,t+this.sampleTime,t=>{let e=i.time;const n=this._tickOffset.get(t.time);n&&n.time>=i.time&&(r=n.seconds,e=n.time),"started"===i.state&&"started"!==t.state&&(r+=t.time-e),i=t}),this._state.remove(n),r}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const n=this._tickOffset.get(e),i=this._state.get(e),r=Math.max(n.time,i.time),s=this.frequency.getTicksAtTime(r)+t-n.ticks;return this.frequency.getTimeOfTick(s)}forEachTickBetween(t,e,n){let i=this._state.get(t);this._state.forEachBetween(t,e,e=>{i&&"started"===i.state&&"started"!==e.state&&this.forEachTickBetween(Math.max(i.time,t),e.time-this.sampleTime,n),i=e});let r=null;if(i&&"started"===i.state){const s=Math.max(i.time,t),o=this.frequency.getTicksAtTime(s),a=o-this.frequency.getTicksAtTime(i.time);let u=Math.ceil(a)-a;u=Fr(u,1)?0:u;let c=this.frequency.getTimeOfTick(o+u);for(;c<e;){try{n(c,Math.round(this.getTicksAtTime(c)))}catch(t){r=t;break}c+=this.frequency.getDurationOfTicks(1,c)}}if(r)throw r;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class Ns extends _s{constructor(){super(Dr(Ns.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=$r,this._lastUpdate=0,this._state=new bs("stopped"),this._boundLoop=this._loop.bind(this);const t=Dr(Ns.getDefaults(),arguments,["callback","frequency"]);this.callback=t.callback,this._tickSource=new Ps({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Gr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(_s.getDefaults(),{callback:$r,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){rr(this.context);const n=this.toSeconds(t);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,e),n<this._lastUpdate&&this.emit("start",n,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const n=this.toSeconds(e),i=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(i+t,n)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,t=>{switch(t.state){case"started":const e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case"stopped":0!==t.time&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time)}}),this._tickSource.forEachTickBetween(t,e,(t,e)=>{this.callback(t,e)}))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Wr.mixin(Ns);class Is extends xs{constructor(){super(Dr(Is.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const t=Dr(Is.getDefaults(),arguments,["delayTime","maxDelay"]),e=this.toSeconds(t.maxDelay);this._maxDelay=Math.max(e,this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(e),this.delayTime=new ws({context:this.context,param:this._delayNode.delayTime,units:"time",value:t.delayTime,minValue:0,maxValue:this.maxDelay}),Gr(this,"delayTime")}static getDefaults(){return Object.assign(xs.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}function js(t,e,n=2,i=ts().sampleRate){return wr(this,void 0,void 0,(function*(){const r=ts(),s=new Yr(n,e,i);es(s),yield t(s);const o=s.render();es(r);const a=yield o;return new Xr(a)}))}class Fs extends Pr{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=Dr(Fs.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(e=>{this._loadingCount++;const n=t.urls[e];this.add(e,n,this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:"",onerror:$r,onload:$r,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return nr(this.has(t),"ToneAudioBuffers has no buffer named: "+t),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,0===this._loadingCount&&t&&t()}get loaded(){return Array.from(this._buffers).every(([t,e])=>e.loaded)}add(t,e,n=$r,i=$r){return gr(e)?this._buffers.set(t.toString(),new Xr(this.baseUrl+e,n,i)):this._buffers.set(t.toString(),new Xr(e,n,i)),this}dispose(){return super.dispose(),this._buffers.forEach(t=>t.dispose()),this._buffers.clear(),this}}class qs extends ps{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(t){return as(super._frequencyToUnits(t))}_ticksToUnits(t){return as(super._ticksToUnits(t))}_beatsToUnits(t){return as(super._beatsToUnits(t))}_secondsToUnits(t){return as(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return cs(this.toMidi())}transpose(t){return new qs(this.context,this.toMidi()+t)}}function Vs(t,e){return new qs(ts(),t,e)}class Ls extends ys{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}function zs(t,e){return new Ls(ts(),t,e)}class Bs extends _s{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Vr,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}zr(t=>{t.draw=new Bs({context:t})}),Ur(t=>{t.draw.dispose()});class Us extends Pr{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){nr(lr(t.time),"Events must have a time property"),nr(lr(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new Ws(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(null!==this._root){const e=[];this._root.search(t.time,e);for(const n of e)if(n.event===t){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,t=>this.remove(t)),this}_setRoot(t){this._root=t,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{let e,n=null;if(t.getBalance()>0)if(null===t.left.right)e=t.left,e.right=t.right,n=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent&&(e.parent.right=e.left,n=e.parent,e.left=t.left,e.right=t.right)}else if(null===t.right.left)e=t.right,e.left=t.left,n=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent&&(e.parent.left=e.right,n=e.parent,e.left=t.left,e.right=t.right)}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),n&&this._rebalance(n)}t.dispose()}_rotateLeft(t){const e=t.parent,n=t.isLeftChild(),i=t.right;i&&(t.right=i.left,i.left=t),null!==e?n?e.left=i:e.right=i:this._setRoot(i)}_rotateRight(t){const e=t.parent,n=t.isLeftChild(),i=t.left;i&&(t.left=i.right,i.right=t),null!==e?n?e.left=i:e.right=i:this._setRoot(i)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(null!==this._root){const e=[];if(this._root.search(t,e),e.length>0){let t=e[0];for(let n=1;n<e.length;n++)e[n].low>t.low&&(t=e[n]);return t.event}}return null}forEach(t){if(null!==this._root){const e=[];this._root.traverse(t=>e.push(t)),e.forEach(e=>{e.event&&t(e.event)})}return this}forEachAtTime(t,e){if(null!==this._root){const n=[];this._root.search(t,n),n.forEach(t=>{t.event&&e(t.event)})}return this}forEachFrom(t,e){if(null!==this._root){const n=[];this._root.searchAfter(t,n),n.forEach(t=>{t.event&&e(t.event)})}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse(t=>t.dispose()),this._root=null,this}}class Ws{constructor(t,e,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)}traverse(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Ks extends xs{constructor(){super(Dr(Ks.getDefaults(),arguments,["volume"])),this.name="Volume";const t=Dr(Ks.getDefaults(),arguments,["volume"]);this.input=this.output=new Os({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,Gr(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(xs.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Hs extends xs{constructor(){super(Dr(Hs.getDefaults(),arguments)),this.name="Destination",this.input=new Ks({context:this.context}),this.output=new Os({context:this.context}),this.volume=this.input.volume;const t=Dr(Hs.getDefaults(),arguments);ks(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(xs.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),ks(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}zr(t=>{t.destination=new Hs({context:t})}),Ur(t=>{t.destination.dispose()});class Gs extends Pr{constructor(t){super(),this.name="TimelineValue",this._timeline=new Vr({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class Qs{constructor(t,e){this.id=Qs._eventId++;const n=Object.assign(Qs.getDefaults(),e);this.transport=t,this.callback=n.callback,this._once=n.once,this.time=n.time}static getDefaults(){return{callback:$r,once:!1,time:0}}invoke(t){this.callback&&(this.callback(t),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}Qs._eventId=0;class $s extends Qs{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign($s.getDefaults(),e);this.duration=new Ls(t.context,n.duration).valueOf(),this._interval=new Ls(t.context,n.interval).valueOf(),this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Qs.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvents(t){const e=this.transport.getTicksAtTime(t);e>=this.time&&e>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Ls(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const e=this.transport.getTicksAtTime(t);e>this.time&&(this._nextTick=this.time+Math.ceil((e-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new Ls(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Ls(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class Xs extends _s{constructor(){super(Dr(Xs.getDefaults(),arguments)),this.name="Transport",this._loop=new Gs(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Vr,this._repeatedEvents=new Us,this._syncedSignals=[],this._swingAmount=0;const t=Dr(Xs.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new Ns({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Gr(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(_s.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&e%this._ppq!=0&&e%(2*this._swingTicks)!=0){const n=e%(2*this._swingTicks)/(2*this._swingTicks),i=Math.sin(n*Math.PI)*this._swingAmount;t+=new Ls(this.context,2*this._swingTicks/3).toSeconds()*i}this._timeline.forEachAtTime(e,e=>e.invoke(t))}schedule(t,e){const n=new Qs(this,{callback:t,time:new ys(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(t,e,n,i=1/0){const r=new $s(this,{callback:t,duration:new hs(this.context,i).toTicks(),interval:new hs(this.context,e).toTicks(),time:new ys(this.context,n).toTicks()});return this._addEvent(r,this._repeatedEvents)}scheduleOnce(t,e){const n=new Qs(this,{callback:t,once:!0,time:new ys(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,t=>this.clear(t.id)),this._repeatedEvents.forEachFrom(e,t=>this.clear(t.id)),this}_bindClockEvents(){this._clock.on("start",(t,e)=>{e=new Ls(this.context,e).toSeconds(),this.emit("start",t,e)}),this._clock.on("stop",t=>{this.emit("stop",t)}),this._clock.on("pause",t=>{this.emit("pause",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){let n;return lr(e)&&(n=this.toTicks(e)),this._clock.start(t,n),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),"started"!==this._clock.getStateAtTime(t)?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){mr(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new hs(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new hs(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new Ls(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new Ls(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),n=this._clock.frequency.timeToTicks(t,e);this.ticks=n}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(e),i=e+this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,e);this.emit("stop",i),this._clock.setTicksAtTime(t,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return Math.round(this._clock.getTicksAtTime(t))}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),"started"!==this.state)return 0;{const e=this.now(),n=t-this.getTicksAtTime(e)%t;return this._clock.nextTickTime(n,e)}}syncSignal(t,e){if(!e){const n=this.now();if(0!==t.getValueAtTime(n)){const i=1/(60/this.bpm.getValueAtTime(n)/this.PPQ);e=t.getValueAtTime(n)/i}else e=0}const n=new Os(e);return this.bpm.connect(n),n.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:n,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const n=this._syncedSignals[e];n.signal===t&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Qr(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Wr.mixin(Xs),zr(t=>{t.transport=new Xs({context:t})}),Ur(t=>{t.transport.dispose()});class Ys extends xs{constructor(t){super(t),this.input=void 0,this._state=new bs("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=$r,this._syncedStop=$r,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ks({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Gr(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(xs.getDefaults(),{mute:!1,onstop:$r,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,n){let i=cr(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(i=this._clampToCurrentTime(i),this._synced||"started"!==this._state.getValueAtTime(i))if(this.log("start",i),this._state.setStateAtTime("started",i),this._synced){const t=this._state.get(i);t&&(t.offset=this.toSeconds(Mr(e,0)),t.duration=n?this.toSeconds(n):void 0);const r=this.context.transport.schedule(t=>{this._start(t,e,n)},i);this._scheduled.push(r),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>i&&this._syncedStart(this.now(),this.context.transport.seconds)}else rr(this.context),this._start(i,e,n);else nr(Nr(i,this._state.get(i).time),"Start time must be strictly greater than previous start time"),this._state.cancel(i),this._state.setStateAtTime("started",i),this.log("restart",i),this.restart(i,e,n);return this}stop(t){let e=cr(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),"started"===this._state.getValueAtTime(e)||lr(this._state.getNextState("started",e))){if(this.log("stop",e),this._synced){const t=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(t)}else this._stop(e);this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,n){return t=this.toSeconds(t),"started"===this._state.getValueAtTime(t)&&(this._state.cancel(t),this._restart(t,e,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(e>0){const n=this._state.get(e);if(n&&"started"===n.state&&n.time!==e){const i=e-this.toSeconds(n.time);let r;n.duration&&(r=this.toSeconds(n.duration)-i),this._start(t,this.toSeconds(n.offset)+i,r)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));"started"===this._state.getValueAtTime(e)&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=>this.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=$r,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Zs extends Cs{constructor(){super(Dr(Zs.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const t=Dr(Zs.getDefaults(),arguments,["url","onload"]);Ts(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new ws({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new Xr(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Cs.getDefaults(),{url:new Xr,loop:!1,loopEnd:0,loopStart:0,onload:$r,onerror:$r,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,n,i=1){nr(this.buffer.loaded,"buffer is either not set or not loaded");const r=this.toSeconds(t);this._startGain(r,i),e=this.loop?Mr(e,this.loopStart):Mr(e,0);let s=Math.max(this.toSeconds(e),0);if(this.loop){const t=this.toSeconds(this.loopEnd)||this.buffer.duration,e=this.toSeconds(this.loopStart),n=t-e;Ir(s,t)&&(s=(s-e)%n+e),Fr(s,this.buffer.duration)&&(s=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,jr(s,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(r,s)),lr(n)){let t=this.toSeconds(n);t=Math.max(t,0),this.stop(r+t)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Js extends Ys{constructor(){super(Dr(Js.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const t=Dr(Js.getDefaults(),arguments,["type"]);this._playbackRate=t.playbackRate,this.type=t.type,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Ys.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(t){if(nr(t in eo,"Noise: invalid type: "+t),this._type!==t&&(this._type=t,"started"===this.state)){const t=this.now();this._stop(t),this._start(t)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}_start(t){const e=eo[this._type];this._source=new Zs({url:e,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(t),Math.random()*(e.duration-.001))}_stop(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(t){this._stop(t),this._start(t)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const to={brown:null,pink:null,white:null},eo={get brown(){if(!to.brown){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(220500);t[e]=n;let i=0;for(let t=0;t<220500;t++){const e=2*Math.random()-1;n[t]=(i+.02*e)/1.02,i=n[t],n[t]*=3.5}}to.brown=(new Xr).fromArray(t)}return to.brown},get pink(){if(!to.pink){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(220500);let i,r,s,o,a,u,c;t[e]=n,i=r=s=o=a=u=c=0;for(let t=0;t<220500;t++){const e=2*Math.random()-1;i=.99886*i+.0555179*e,r=.99332*r+.0750759*e,s=.969*s+.153852*e,o=.8665*o+.3104856*e,a=.55*a+.5329522*e,u=-.7616*u-.016898*e,n[t]=i+r+s+o+a+u+c+.5362*e,n[t]*=.11,c=.115926*e}}to.pink=(new Xr).fromArray(t)}return to.pink},get white(){if(!to.white){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(220500);t[e]=n;for(let t=0;t<220500;t++)n[t]=2*Math.random()-1}to.white=(new Xr).fromArray(t)}return to.white}};class no extends xs{constructor(){super(Dr(no.getDefaults(),arguments,["volume"])),this.name="UserMedia";const t=Dr(no.getDefaults(),arguments,["volume"]);this._volume=this.output=new Ks({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Gr(this,"volume"),this.mute=t.mute}static getDefaults(){return Object.assign(xs.getDefaults(),{mute:!1,volume:0})}open(t){return wr(this,void 0,void 0,(function*(){nr(no.supported,"UserMedia is not supported"),"started"===this.state&&this.close();const e=yield no.enumerateDevices();dr(t)?this._device=e[t]:(this._device=e.find(e=>e.label===t||e.deviceId===t),!this._device&&e.length>0&&(this._device=e[0]),nr(lr(this._device),"No matching device "+t));const n={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device&&(n.audio.deviceId=this._device.deviceId);const i=yield navigator.mediaDevices.getUserMedia(n);if(!this._stream){this._stream=i;const t=this.context.createMediaStreamSource(i);Ts(t,this.output),this._mediaStream=t}return this}))}close(){return this._stream&&this._mediaStream&&(this._stream.getAudioTracks().forEach(t=>{t.stop()}),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return wr(this,void 0,void 0,(function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(t=>"audioinput"===t.kind)}))}get state(){return this._stream&&this._stream.active?"started":"stopped"}get deviceId(){return this._device?this._device.deviceId:void 0}get groupId(){return this._device?this._device.groupId:void 0}get label(){return this._device?this._device.label:void 0}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return lr(navigator.mediaDevices)&&lr(navigator.mediaDevices.getUserMedia)}}function io(t,e){return wr(this,void 0,void 0,(function*(){const n=e/t.context.sampleRate,i=new Yr(1,n,t.context.sampleRate);new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:i})).toDestination().start(0);return(yield i.render()).getChannelData(0)}))}class ro extends Cs{constructor(){super(Dr(ro.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const t=Dr(ro.getDefaults(),arguments,["frequency","type"]);Ts(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new ws({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new ws({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),Gr(this,["frequency","detune"])}static getDefaults(){return Object.assign(Cs.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class so extends Ys{constructor(){super(Dr(so.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=Dr(so.getDefaults(),arguments,["frequency","type"]);this.frequency=new As({context:this.context,units:"frequency",value:t.frequency}),Gr(this,"frequency"),this.detune=new As({context:this.context,units:"cents",value:t.detune}),Gr(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(Ys.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),n=new ro({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type){return so._periodicWaveCache.find(t=>{return t.phase===this._phase&&(e=t.partials,n=this._partials,e.length===n.length&&e.every((t,e)=>n[e]===t));var e,n})}{const t=so._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&e)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(lr(e)){const{partials:t,wave:n}=e;this._wave=n,this._partials=t,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[e,n]=this._getRealImaginary(t,this._phase),i=this.context.createPeriodicWave(e,n);this._wave=i,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),so._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:e,type:this._type,wave:this._wave}),so._periodicWaveCache.length>100&&so._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&"custom"!==this._type&&"custom"!==t?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){ir(t,0);let e=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(e=n[1]),"custom"!==this._type)this.type=0===t?e:e+t.toString();else{const e=new Float32Array(t);this._partials.forEach((t,n)=>e[n]=t),this._partials=Array.from(e),this.type=this._type}}_getRealImaginary(t,e){let n=2048;const i=new Float32Array(n),r=new Float32Array(n);let s=1;if("custom"===t){if(s=this._partials.length+1,this._partialCount=this._partials.length,n=s,0===this._partials.length)return[i,r]}else{const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);e?(s=parseInt(e[2],10)+1,this._partialCount=parseInt(e[2],10),t=e[1],s=Math.max(s,2),n=s):this._partialCount=0,this._partials=[]}for(let o=1;o<n;++o){const n=2/(o*Math.PI);let a;switch(t){case"sine":a=o<=s?1:0,this._partials[o-1]=a;break;case"square":a=1&o?2*n:0,this._partials[o-1]=a;break;case"sawtooth":a=n*(1&o?1:-1),this._partials[o-1]=a;break;case"triangle":a=1&o?n*n*2*(o-1>>1&1?-1:1):0,this._partials[o-1]=a;break;case"custom":a=this._partials[o-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}0!==a?(i[o]=-a*Math.sin(e*o),r[o]=a*Math.cos(e*o)):(i[o]=0,r[o]=0)}return[i,r]}_inverseFFT(t,e,n){let i=0;const r=t.length;for(let s=0;s<r;s++)i+=t[s]*Math.cos(s*n)+e[s]*Math.sin(s*n);return i}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let n=0;const i=2*Math.PI;for(let r=0;r<32;r++)n=Math.max(this._inverseFFT(t,e,r/32*i),n);return qr(-this._inverseFFT(t,e,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return wr(this,void 0,void 0,(function*(){return io(this,t)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}so._periodicWaveCache=[];class oo extends xs{constructor(){super(Object.assign(Dr(oo.getDefaults(),arguments,["context"])))}connect(t,e=0,n=0){return Ds(this,t,e,n),this}}class ao extends oo{constructor(){super(Object.assign(Dr(ao.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const t=Dr(ao.getDefaults(),arguments,["mapping","length"]);mr(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):hr(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(As.getDefaults(),{length:1024})}setMap(t,e=1024){const n=new Float32Array(e);for(let i=0,r=e;i<r;i++){const e=i/(r-1)*2-1;n[i]=t(e,i)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){nr(["none","2x","4x"].some(e=>e.includes(t)),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class uo extends oo{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new ao({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class co extends As{constructor(){super(Object.assign(Dr(co.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const t=Dr(co.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Os({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(As.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class lo extends Ys{constructor(){super(Dr(lo.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new uo({context:this.context}),this._modulationNode=new Os({context:this.context});const t=Dr(lo.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new so({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new so({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new co({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Gr(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(so.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return wr(this,void 0,void 0,(function*(){return io(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class ho extends Ys{constructor(){super(Dr(ho.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Os({context:this.context,gain:0});const t=Dr(ho.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new so({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new As({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new so({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new co({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new co({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Gr(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(so.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return wr(this,void 0,void 0,(function*(){return io(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class po extends Ys{constructor(){super(Dr(po.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Os({context:this.context,gain:0}),this._thresh=new ao({context:this.context,mapping:t=>t<=0?-1:1});const t=Dr(po.getDefaults(),arguments,["frequency","width"]);this.width=new As({context:this.context,units:"audioRange",value:t.width}),this._triangle=new so({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Gr(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Ys.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return wr(this,void 0,void 0,(function*(){return io(this,t)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class fo extends Ys{constructor(){super(Dr(fo.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const t=Dr(fo.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new As({context:this.context,units:"frequency",value:t.frequency}),this.detune=new As({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Gr(this,["frequency","detune"])}static getDefaults(){return Object.assign(so.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach(e=>e.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(e=>e.stop(t))}_restart(t){this._forEach(e=>e.restart(t))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach(e=>e.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,n=t/(this._oscillators.length-1);this._forEach((t,i)=>t.detune.value=e+n*i)}}get count(){return this._oscillators.length}set count(t){if(ir(t,1),this._oscillators.length!==t){this._forEach(t=>t.dispose()),this._oscillators=[];for(let e=0;e<t;e++){const n=new so({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:0===e?()=>this.onstop(this):$r});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[e]=n}this.spread=this._spread,"started"===this.state&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((t,e)=>t.phase=this._phase+e/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(e=>e.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach(e=>e.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(e=>e.partialCount=t),this._type=this._oscillators[0].type}asArray(t=1024){return wr(this,void 0,void 0,(function*(){return io(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=>t.dispose()),this}}class mo extends Ys{constructor(){super(Dr(mo.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new co({context:this.context,value:2});const t=Dr(mo.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new po({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new so({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Gr(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Ys.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return wr(this,void 0,void 0,(function*(){return io(this,t)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const go={am:lo,fat:fo,fm:ho,oscillator:so,pulse:po,pwm:mo};class yo extends Ys{constructor(){super(Dr(yo.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const t=Dr(yo.getDefaults(),arguments,["frequency","type"]);this.frequency=new As({context:this.context,units:"frequency",value:t.frequency}),this.detune=new As({context:this.context,units:"cents",value:t.detune}),Gr(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(so.getDefaults(),ho.getDefaults(),lo.getDefaults(),fo.getDefaults(),po.getDefaults(),mo.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(t=this._sourceType),t+this._oscillator.type}set type(t){"fm"===t.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):"pwm"===t?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===t?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=go[t],n=this.now();if(this._oscillator){const t=this._oscillator;t.stop(n),this.context.setTimeout(()=>t.dispose(),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),"fm"===t?this.type="fm"+e:"am"===t?this.type="am"+e:"fat"===t?this.type="fat"+e:"oscillator"===t?this.type=e:"pulse"===t?this.type="pulse":"pwm"===t&&(this.type="pwm")}_getOscType(t,e){return t instanceof go[e]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===t||"pwm"===t||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,"fat")&&dr(t)&&(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,"fat")&&dr(t)&&(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&gr(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(t=1024){return wr(this,void 0,void 0,(function*(){return io(this,t)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class vo extends As{constructor(){super(Object.assign(Dr(vo.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new Os({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,ks(this._constantSource,this._sum)}static getDefaults(){return Object.assign(As.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class _o extends oo{constructor(){super(Object.assign(Dr(_o.getDefaults(),arguments,["min","max"]))),this.name="Scale";const t=Dr(_o.getDefaults(),arguments,["min","max"]);this._mult=this.input=new co({context:this.context,value:t.max-t.min}),this._add=this.output=new vo({context:this.context,value:t.min}),this._min=t.min,this._max=t.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(oo.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(t){this._min=t,this._setRange()}get max(){return this._max}set max(t){this._max=t,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class bo extends oo{constructor(){super(Object.assign(Dr(bo.getDefaults(),arguments))),this.name="Zero",this._gain=new Os({context:this.context}),this.output=this._gain,this.input=void 0,Ts(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Ss(this.context.getConstant(0),this._gain),this}}class wo extends xs{constructor(){super(Dr(wo.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=ws.prototype._fromType,this._toType=ws.prototype._toType,this._is=ws.prototype._is,this._clampValue=ws.prototype._clampValue;const t=Dr(wo.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new so(t),this.frequency=this._oscillator.frequency,this._amplitudeGain=new Os({context:this.context,gain:t.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new As({context:this.context,units:"audioRange",value:0}),this._zeros=new bo({context:this.context}),this._a2g=new uo({context:this.context}),this._scaler=this.output=new _o({context:this.context,max:t.max,min:t.min}),this.units=t.units,this.min=t.min,this.max=t.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Gr(this,["amplitude","frequency"]),this.phase=t.phase}static getDefaults(){return Object.assign(so.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this}stop(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(t){t=this._fromType(t),this._scaler.min=t}get max(){return this._toType(this._scaler.max)}set max(t){t=this._fromType(t),this._scaler.max=t}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(t){this._oscillator.partials=t,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t,this._setStoppedValue()}get units(){return this._units}set units(t){const e=this.min,n=this.max;this._units=t,this.min=e,this.max=n}get state(){return this._oscillator.state}connect(t,e,n){return(t instanceof ws||t instanceof As)&&(this.convert=t.convert,this.units=t.units),Ds(this,t,e,n),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function xo(t,e=1/0){const n=new WeakMap;return function(i,r){Reflect.defineProperty(i,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){ir(i,t,e),n.set(this,i)}})}}function ko(t,e=1/0){const n=new WeakMap;return function(i,r){Reflect.defineProperty(i,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){ir(this.toSeconds(i),t,e),n.set(this,i)}})}}class To extends Ys{constructor(){super(Dr(To.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const t=Dr(To.getDefaults(),arguments,["url","onload"]);this._buffer=new Xr({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Ys.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:$r,onerror:$r,playbackRate:1,reverse:!1})}load(t){return wr(this,void 0,void 0,(function*(){return yield this._buffer.load(t),this._onload(),this}))}_onload(t=$r){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,n){return super.start(t,e,n),this}_start(t,e,n){e=this._loop?Mr(e,this._loopStart):Mr(e,0);const i=this.toSeconds(e),r=n;n=Mr(n,Math.max(this._buffer.duration-i,0));let s=this.toSeconds(n);s/=this._playbackRate,t=this.toSeconds(t);const o=new Zs({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+s),this._state.setStateAtTime("stopped",t+s,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&cr(r)?o.start(t,i):o.start(t,i,s-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach(t=>t.stop(e))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){this._stop(t),this._start(t,e,n)}seek(t,e){const n=this.toSeconds(e);if("started"===this._state.getValueAtTime(n)){const e=this.toSeconds(t);this._stop(n),this._start(n,e)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&ir(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(e=>{e.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&ir(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(e=>{e.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach(e=>{e.loop=t}),t)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),n=this._state.getNextState("stopped",e);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach(t=>t.cancelStop())),this._activeSources.forEach(n=>{n.playbackRate.setValueAtTime(t,e)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=>t.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}br([ko(0)],To.prototype,"fadeIn",void 0),br([ko(0)],To.prototype,"fadeOut",void 0);class So extends xs{constructor(){super(Dr(So.getDefaults(),arguments,["urls","onload"],"urls")),this.name="Players",this.input=void 0,this._players=new Map;const t=Dr(So.getDefaults(),arguments,["urls","onload"],"urls");this._volume=this.output=new Ks({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Gr(this,"volume"),this._buffers=new Fs({urls:t.urls,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.mute=t.mute,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Ys.getDefaults(),{baseUrl:"",fadeIn:0,fadeOut:0,mute:!1,onload:$r,onerror:$r,urls:{},volume:0})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._players.forEach(e=>{e.fadeIn=t})}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._players.forEach(e=>{e.fadeOut=t})}get state(){return Array.from(this._players).some(([t,e])=>"started"===e.state)?"started":"stopped"}has(t){return this._buffers.has(t)}player(t){if(nr(this.has(t),`No Player with the name ${t} exists on this object`),!this._players.has(t)){const e=new To({context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,url:this._buffers.get(t)}).connect(this.output);this._players.set(t,e)}return this._players.get(t)}get loaded(){return this._buffers.loaded}add(t,e,n){return nr(!this._buffers.has(t),"A buffer with that name already exists on this object"),this._buffers.add(t,e,n),this}stopAll(t){return this._players.forEach(e=>e.stop(t)),this}dispose(){return super.dispose(),this._volume.dispose(),this.volume.dispose(),this._players.forEach(t=>t.dispose()),this._buffers.dispose(),this}}class Oo extends Ys{constructor(){super(Dr(Oo.getDefaults(),arguments,["url","onload"])),this.name="GrainPlayer",this._loopStart=0,this._loopEnd=0,this._activeSources=[];const t=Dr(Oo.getDefaults(),arguments,["url","onload"]);this.buffer=new Xr({onload:t.onload,onerror:t.onerror,reverse:t.reverse,url:t.url}),this._clock=new Ns({context:this.context,callback:this._tick.bind(this),frequency:1/t.grainSize}),this._playbackRate=t.playbackRate,this._grainSize=t.grainSize,this._overlap=t.overlap,this.detune=t.detune,this.overlap=t.overlap,this.loop=t.loop,this.playbackRate=t.playbackRate,this.grainSize=t.grainSize,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.reverse=t.reverse,this._clock.on("stop",this._onstop.bind(this))}static getDefaults(){return Object.assign(Ys.getDefaults(),{onload:$r,onerror:$r,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1})}_start(t,e,n){e=Mr(e,0),e=this.toSeconds(e),t=this.toSeconds(t);const i=1/this._clock.frequency.getValueAtTime(t);this._clock.start(t,e/i),n&&this.stop(t+this.toSeconds(n))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){this._stop(t),this._start(t,e,n)}_stop(t){this._clock.stop(t)}_onstop(t){this._activeSources.forEach(e=>{e.fadeOut=0,e.stop(t)}),this.onstop(this)}_tick(t){const e=this._clock.getTicksAtTime(t),n=e*this._grainSize;if(this.log("offset",n),!this.loop&&n>this.buffer.duration)return void this.stop(t);const i=n<this._overlap?0:this._overlap,r=new Zs({context:this.context,url:this.buffer,fadeIn:i,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:ss(this.detune/100)}).connect(this.output);r.start(t,this._grainSize*e),r.stop(t+this._grainSize/this.playbackRate),this._activeSources.push(r),r.onended=()=>{const t=this._activeSources.indexOf(r);-1!==t&&this._activeSources.splice(t,1)}}get playbackRate(){return this._playbackRate}set playbackRate(t){ir(t,.001),this._playbackRate=t,this.grainSize=this._grainSize}get loopStart(){return this._loopStart}set loopStart(t){this.buffer.loaded&&ir(this.toSeconds(t),0,this.buffer.duration),this._loopStart=this.toSeconds(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this.buffer.loaded&&ir(this.toSeconds(t),0,this.buffer.duration),this._loopEnd=this.toSeconds(t)}get reverse(){return this.buffer.reverse}set reverse(t){this.buffer.reverse=t}get grainSize(){return this._grainSize}set grainSize(t){this._grainSize=this.toSeconds(t),this._clock.frequency.setValueAtTime(this._playbackRate/this._grainSize,this.now())}get overlap(){return this._overlap}set overlap(t){const e=this.toSeconds(t);ir(e,0),this._overlap=e}get loaded(){return this.buffer.loaded}dispose(){return super.dispose(),this.buffer.dispose(),this._clock.dispose(),this._activeSources.forEach(t=>t.dispose()),this}}class Co extends oo{constructor(){super(...arguments),this.name="Abs",this._abs=new ao({context:this.context,mapping:t=>Math.abs(t)<.001?0:Math.abs(t)}),this.input=this._abs,this.output=this._abs}dispose(){return super.dispose(),this._abs.dispose(),this}}class Eo extends oo{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new ao({context:this.context,mapping:t=>2*Math.abs(t)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ao extends oo{constructor(){super(...arguments),this.name="Negate",this._multiply=new co({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class Do extends As{constructor(){super(Object.assign(Dr(Do.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Subtract",this._sum=new Os({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new Ao({context:this.context}),this.subtrahend=this._param,ks(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(As.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class Mo extends oo{constructor(){super(Object.assign(Dr(Mo.getDefaults(),arguments))),this.name="GreaterThanZero",this._thresh=this.output=new ao({context:this.context,length:127,mapping:t=>t<=0?0:1}),this._scale=this.input=new co({context:this.context,value:1e4}),this._scale.connect(this._thresh)}dispose(){return super.dispose(),this._scale.dispose(),this._thresh.dispose(),this}}class Ro extends As{constructor(){super(Object.assign(Dr(Ro.getDefaults(),arguments,["value"]))),this.name="GreaterThan",this.override=!1;const t=Dr(Ro.getDefaults(),arguments,["value"]);this._subtract=this.input=new Do({context:this.context,value:t.value}),this._gtz=this.output=new Mo({context:this.context}),this.comparator=this._param=this._subtract.subtrahend,Gr(this,"comparator"),this._subtract.connect(this._gtz)}static getDefaults(){return Object.assign(As.getDefaults(),{value:0})}dispose(){return super.dispose(),this._gtz.dispose(),this._subtract.dispose(),this.comparator.dispose(),this}}class Po extends oo{constructor(){super(Object.assign(Dr(Po.getDefaults(),arguments,["value"]))),this.name="Pow";const t=Dr(Po.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new ao({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(oo.getDefaults(),{value:1})}_expFunc(t){return e=>Math.pow(Math.abs(e),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class No extends _o{constructor(){super(Object.assign(Dr(No.getDefaults(),arguments,["min","max","exponent"]))),this.name="ScaleExp";const t=Dr(No.getDefaults(),arguments,["min","max","exponent"]);this.input=this._exp=new Po({context:this.context,value:t.exponent}),this._exp.connect(this._mult)}static getDefaults(){return Object.assign(_o.getDefaults(),{exponent:1})}get exponent(){return this._exp.value}set exponent(t){this._exp.value=t}dispose(){return super.dispose(),this._exp.dispose(),this}}class Io extends As{constructor(){super(Dr(As.getDefaults(),arguments,["value","units"])),this.name="SyncedSignal",this.override=!1;const t=Dr(As.getDefaults(),arguments,["value","units"]);this._lastVal=t.value,this._synced=this.context.transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._syncedCallback=this._anchorValue.bind(this),this.context.transport.on("start",this._syncedCallback),this.context.transport.on("pause",this._syncedCallback),this.context.transport.on("stop",this._syncedCallback),this._constantSource.disconnect(),this._constantSource.stop(0),this._constantSource=this.output=new Es({context:this.context,offset:t.value,units:t.units}).start(0),this.setValueAtTime(t.value,0)}_onTick(t){const e=super.getValueAtTime(this.context.transport.seconds);this._lastVal!==e&&(this._lastVal=e,this._constantSource.offset.setValueAtTime(e,t))}_anchorValue(t){const e=super.getValueAtTime(this.context.transport.seconds);this._lastVal=e,this._constantSource.offset.cancelAndHoldAtTime(t),this._constantSource.offset.setValueAtTime(e,t)}getValueAtTime(t){const e=new ys(this.context,t).toSeconds();return super.getValueAtTime(e)}setValueAtTime(t,e){const n=new ys(this.context,e).toSeconds();return super.setValueAtTime(t,n),this}linearRampToValueAtTime(t,e){const n=new ys(this.context,e).toSeconds();return super.linearRampToValueAtTime(t,n),this}exponentialRampToValueAtTime(t,e){const n=new ys(this.context,e).toSeconds();return super.exponentialRampToValueAtTime(t,n),this}setTargetAtTime(t,e,n){const i=new ys(this.context,e).toSeconds();return super.setTargetAtTime(t,i,n),this}cancelScheduledValues(t){const e=new ys(this.context,t).toSeconds();return super.cancelScheduledValues(e),this}setValueCurveAtTime(t,e,n,i){const r=new ys(this.context,e).toSeconds();return n=this.toSeconds(n),super.setValueCurveAtTime(t,r,n,i),this}cancelAndHoldAtTime(t){const e=new ys(this.context,t).toSeconds();return super.cancelAndHoldAtTime(e),this}setRampPoint(t){const e=new ys(this.context,t).toSeconds();return super.setRampPoint(e),this}exponentialRampTo(t,e,n){const i=new ys(this.context,n).toSeconds();return super.exponentialRampTo(t,e,i),this}linearRampTo(t,e,n){const i=new ys(this.context,n).toSeconds();return super.linearRampTo(t,e,i),this}targetRampTo(t,e,n){const i=new ys(this.context,n).toSeconds();return super.targetRampTo(t,e,i),this}dispose(){return super.dispose(),this.context.transport.clear(this._synced),this.context.transport.off("start",this._syncedCallback),this.context.transport.off("pause",this._syncedCallback),this.context.transport.off("stop",this._syncedCallback),this._constantSource.dispose(),this}}class jo extends xs{constructor(){super(Dr(jo.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new As({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const t=Dr(jo.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(xs.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(gr(t))return t;{let n;for(n in Fo)if(Fo[n][e]===t)return n;return t}}_setCurve(t,e,n){if(gr(n)&&Reflect.has(Fo,n)){const i=Fo[n];pr(i)?"_decayCurve"!==t&&(this[t]=i[e]):this[t]=i}else{if(!mr(n)||"_decayCurve"===t)throw new Error("Envelope: invalid curve: "+n);this[t]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._decayCurve}set decayCurve(t){nr(["linear","exponential"].some(e=>e===t),"Invalid envelope curve: "+t),this._decayCurve=t}triggerAttack(t,e=1){this.log("triggerAttack",t,e),t=this.toSeconds(t);let n=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),r=this.getValueAtTime(t);if(r>0){n=(1-r)/(1/n)}if(n<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,n,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,n,t);else{this._sig.cancelAndHoldAtTime(t);let i=this._attackCurve;for(let t=1;t<i.length;t++)if(i[t-1]<=r&&r<=i[t]){i=this._attackCurve.slice(t),i[0]=r;break}this._sig.setValueCurveAtTime(i,t,n,e)}if(i&&this.sustain<1){const r=e*this.sustain,s=t+n;this.log("decay",s),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(r,i+s):this._sig.exponentialApproachValueAtTime(r,s,i)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,t):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,t):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,t):(nr(mr(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,n,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,n=0){return Ds(this,t,e,n),this}asArray(t=1024){return wr(this,void 0,void 0,(function*(){const e=t/this.context.sampleRate,n=new Yr(1,e,this.context.sampleRate),i=this.toSeconds(this.attack)+this.toSeconds(this.decay),r=i+this.toSeconds(this.release),s=.1*r,o=r+s,a=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/o,decay:e*this.toSeconds(this.decay)/o,release:e*this.toSeconds(this.release)/o,context:n}));a._sig.toDestination(),a.triggerAttackRelease(e*(i+s)/o,0);return(yield n.render()).getChannelData(0)}))}dispose(){return super.dispose(),this._sig.dispose(),this}}br([ko(0)],jo.prototype,"attack",void 0),br([ko(0)],jo.prototype,"decay",void 0),br([xo(0,1)],jo.prototype,"sustain",void 0),br([ko(0)],jo.prototype,"release",void 0);const Fo=(()=>{let t,e;const n=[];for(t=0;t<128;t++)n[t]=Math.sin(t/127*(Math.PI/2));const i=[];for(t=0;t<127;t++){e=t/127;const n=Math.sin(e*(2*Math.PI)*6.4-Math.PI/2)+1;i[t]=n/10+.83*e}i[127]=1;const r=[];for(t=0;t<128;t++)r[t]=Math.ceil(t/127*5)/5;const s=[];for(t=0;t<128;t++)e=t/127,s[t]=.5*(1-Math.cos(Math.PI*e));const o=[];for(t=0;t<128;t++){e=t/127;const n=4*Math.pow(e,3)+.2,i=Math.cos(n*Math.PI*2*e);o[t]=Math.abs(i*(1-e))}function a(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=1-t[n];return e}return{bounce:{In:a(o),Out:o},cosine:{In:n,Out:(u=n,u.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:i,Out:a(i)},sine:{In:s,Out:a(s)},step:{In:r,Out:a(r)}};var u})();class qo extends xs{constructor(){super(Dr(qo.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const t=Dr(qo.getDefaults(),arguments);this._volume=this.output=new Ks({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Gr(this,"volume")}static getDefaults(){return Object.assign(xs.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const n=this["_original_"+t]=this[t];this[t]=(...t)=>{const i=t[e],r=this.context.transport.schedule(i=>{t[e]=i,n.apply(this,t)},i);this._scheduledEvents.push(r)}}unsync(){return this._scheduledEvents.forEach(t=>this.context.transport.clear(t)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,e,n,i){const r=this.toSeconds(n),s=this.toSeconds(e);return this.triggerAttack(t,r,i),this.triggerRelease(r+s),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Vo extends qo{constructor(){super(Dr(Vo.getDefaults(),arguments));const t=Dr(Vo.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(qo.getDefaults(),{detune:0,onsilence:$r,portamento:0})}triggerAttack(t,e,n=1){this.log("triggerAttack",t,e,n);const i=this.toSeconds(e);return this._triggerEnvelopeAttack(i,n),this.setNote(t,i),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const n=this.toSeconds(e),i=t instanceof ps?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const t=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(i,t,n)}else this.frequency.setValueAtTime(i,n);return this}}br([ko(0)],Vo.prototype,"portamento",void 0);class Lo extends jo{constructor(){super(Dr(Lo.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Os({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class zo extends Vo{constructor(){super(Dr(zo.getDefaults(),arguments)),this.name="Synth";const t=Dr(zo.getDefaults(),arguments);this.oscillator=new yo(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Lo(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Gr(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Vo.getDefaults(),{envelope:Object.assign(Rr(jo.getDefaults(),Object.keys(xs.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Rr(yo.getDefaults(),[...Object.keys(Ys.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Bo extends Vo{constructor(){super(Dr(Bo.getDefaults(),arguments)),this.name="ModulationSynth";const t=Dr(Bo.getDefaults(),arguments);this._carrier=new zo({context:this.context,oscillator:t.oscillator,envelope:t.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new zo({context:this.context,oscillator:t.modulation,envelope:t.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new As({context:this.context,units:"frequency"}),this.detune=new As({context:this.context,value:t.detune,units:"cents"}),this.harmonicity=new co({context:this.context,value:t.harmonicity,minValue:0}),this._modulationNode=new Os({context:this.context,gain:0}),Gr(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Vo.getDefaults(),{harmonicity:3,oscillator:Object.assign(Rr(yo.getDefaults(),[...Object.keys(Ys.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Rr(jo.getDefaults(),Object.keys(xs.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Rr(yo.getDefaults(),[...Object.keys(Ys.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Rr(jo.getDefaults(),Object.keys(xs.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(t,e){this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t,e)}_triggerEnvelopeRelease(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class Uo extends Bo{constructor(){super(Dr(Uo.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new uo({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Wo extends xs{constructor(){super(Dr(Wo.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const t=Dr(Wo.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new ws({context:this.context,units:"number",value:t.Q,param:this._filter.Q}),this.frequency=new ws({context:this.context,units:"frequency",value:t.frequency,param:this._filter.frequency}),this.detune=new ws({context:this.context,units:"cents",value:t.detune,param:this._filter.detune}),this.gain=new ws({context:this.context,units:"decibels",convert:!1,value:t.gain,param:this._filter.gain}),this.type=t.type}static getDefaults(){return Object.assign(xs.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(t){nr(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t),"Invalid filter type: "+t),this._filter.type=t}getFrequencyResponse(t=128){const e=new Float32Array(t);for(let n=0;n<t;n++){const i=19980*Math.pow(n/t,2)+20;e[n]=i}const n=new Float32Array(t),i=new Float32Array(t),r=this.context.createBiquadFilter();return r.type=this.type,r.Q.value=this.Q.value,r.frequency.value=this.frequency.value,r.gain.value=this.gain.value,r.getFrequencyResponse(e,n,i),n}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Ko extends xs{constructor(){super(Dr(Ko.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new Os({context:this.context}),this.output=new Os({context:this.context}),this._filters=[];const t=Dr(Ko.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new As({context:this.context,units:"positive",value:t.Q}),this.frequency=new As({context:this.context,units:"frequency",value:t.frequency}),this.detune=new As({context:this.context,units:"cents",value:t.detune}),this.gain=new As({context:this.context,units:"decibels",convert:!1,value:t.gain}),this._type=t.type,this.rolloff=t.rolloff,Gr(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(xs.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(t){nr(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t),"Invalid filter type: "+t),this._type=t,this._filters.forEach(e=>e.type=t)}get rolloff(){return this._rolloff}set rolloff(t){const e=dr(t)?t:parseInt(t,10),n=[-12,-24,-48,-96];let i=n.indexOf(e);nr(-1!==i,"rolloff can only be "+n.join(", ")),i+=1,this._rolloff=e,this.input.disconnect(),this._filters.forEach(t=>t.disconnect()),this._filters=new Array(i);for(let t=0;t<i;t++){const e=new Wo({context:this.context});e.type=this._type,this.frequency.connect(e.frequency),this.detune.connect(e.detune),this.Q.connect(e.Q),this.gain.connect(e.gain),this._filters[t]=e}this._internalChannels=this._filters,ks(this.input,...this._internalChannels,this.output)}getFrequencyResponse(t=128){const e=new Wo({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),n=new Float32Array(t).map(()=>1);return this._filters.forEach(()=>{e.getFrequencyResponse(t).forEach((t,e)=>n[e]*=t)}),e.dispose(),n}dispose(){return super.dispose(),this._filters.forEach(t=>{t.dispose()}),Qr(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Ho extends jo{constructor(){super(Dr(Ho.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="FrequencyEnvelope";const t=Dr(Ho.getDefaults(),arguments,["attack","decay","sustain","release"]);this._octaves=t.octaves,this._baseFrequency=this.toFrequency(t.baseFrequency),this._exponent=this.input=new Po({context:this.context,value:t.exponent}),this._scale=this.output=new _o({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(jo.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){const e=this.toFrequency(t);ir(e,0),this._baseFrequency=e,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._scale.max=this._baseFrequency*Math.pow(2,t)}get exponent(){return this._exponent.value}set exponent(t){this._exponent.value=t}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class Go extends Vo{constructor(){super(Dr(Go.getDefaults(),arguments)),this.name="MonoSynth";const t=Dr(Go.getDefaults(),arguments);this.oscillator=new yo(Object.assign(t.oscillator,{context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new Ko(Object.assign(t.filter,{context:this.context})),this.filterEnvelope=new Ho(Object.assign(t.filterEnvelope,{context:this.context})),this.envelope=new Lo(Object.assign(t.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),Gr(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(Vo.getDefaults(),{envelope:Object.assign(Rr(jo.getDefaults(),Object.keys(xs.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Rr(Ko.getDefaults(),Object.keys(xs.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Rr(Ho.getDefaults(),Object.keys(xs.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Rr(yo.getDefaults(),Object.keys(Ys.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(t,e=1){if(this.envelope.triggerAttack(t,e),this.filterEnvelope.triggerAttack(t),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Qo extends Vo{constructor(){super(Dr(Qo.getDefaults(),arguments)),this.name="DuoSynth";const t=Dr(Qo.getDefaults(),arguments);this.voice0=new Go(Object.assign(t.voice0,{context:this.context,onsilence:()=>this.onsilence(this)})),this.voice1=new Go(Object.assign(t.voice1,{context:this.context})),this.harmonicity=new co({context:this.context,units:"positive",value:t.harmonicity}),this._vibrato=new wo({frequency:t.vibratoRate,context:this.context,min:-50,max:50}),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new Os({context:this.context,units:"normalRange",gain:t.vibratoAmount}),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new As({context:this.context,units:"frequency",value:440}),this.detune=new As({context:this.context,units:"cents",value:t.detune}),this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.detune.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),Gr(this,["voice0","voice1","frequency","vibratoAmount","vibratoRate"])}getLevelAtTime(t){return t=this.toSeconds(t),this.voice0.envelope.getValueAtTime(t)+this.voice1.envelope.getValueAtTime(t)}static getDefaults(){return Ar(Vo.getDefaults(),{vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:Ar(Rr(Go.getDefaults(),Object.keys(Vo.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}),voice1:Ar(Rr(Go.getDefaults(),Object.keys(Vo.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}})})}_triggerEnvelopeAttack(t,e){this.voice0._triggerEnvelopeAttack(t,e),this.voice1._triggerEnvelopeAttack(t,e)}_triggerEnvelopeRelease(t){return this.voice0._triggerEnvelopeRelease(t),this.voice1._triggerEnvelopeRelease(t),this}dispose(){return super.dispose(),this.voice0.dispose(),this.voice1.dispose(),this.frequency.dispose(),this.detune.dispose(),this._vibrato.dispose(),this.vibratoRate.dispose(),this._vibratoGain.dispose(),this.harmonicity.dispose(),this}}class $o extends Bo{constructor(){super(Dr($o.getDefaults(),arguments)),this.name="FMSynth";const t=Dr($o.getDefaults(),arguments);this.modulationIndex=new co({context:this.context,value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(Bo.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const Xo=[1,1.483,1.932,2.546,2.63,3.897];class Yo extends Vo{constructor(){super(Dr(Yo.getDefaults(),arguments)),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[];const t=Dr(Yo.getDefaults(),arguments);this.detune=new As({context:this.context,units:"cents",value:t.detune}),this.frequency=new As({context:this.context,units:"frequency"}),this._amplitude=new Os({context:this.context,gain:0}).connect(this.output),this._highpass=new Ko({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let e=0;e<Xo.length;e++){const n=new ho({context:this.context,harmonicity:t.harmonicity,modulationIndex:t.modulationIndex,modulationType:"square",onstop:0===e?()=>this.onsilence(this):$r,type:"square"});n.connect(this._highpass),this._oscillators[e]=n;const i=new co({context:this.context,value:Xo[e]});this._freqMultipliers[e]=i,this.frequency.chain(i,n.frequency),this.detune.connect(n.detune)}this._filterFreqScaler=new _o({context:this.context,max:7e3,min:this.toFrequency(t.resonance)}),this.envelope=new jo({attack:t.envelope.attack,attackCurve:"linear",context:this.context,decay:t.envelope.decay,release:t.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=t.octaves,this.octaves=t.octaves}static getDefaults(){return Ar(Vo.getDefaults(),{envelope:Object.assign(Rr(jo.getDefaults(),Object.keys(xs.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(t,e=1){return this.envelope.triggerAttack(t,e),this._oscillators.forEach(e=>e.start(t)),0===this.envelope.sustain&&this._oscillators.forEach(e=>{e.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))}),this}_triggerEnvelopeRelease(t){return this.envelope.triggerRelease(t),this._oscillators.forEach(e=>e.stop(t+this.toSeconds(this.envelope.release))),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(t){this._oscillators.forEach(e=>e.modulationIndex.value=t)}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(t){this._oscillators.forEach(e=>e.harmonicity.value=t)}get resonance(){return this._filterFreqScaler.min}set resonance(t){this._filterFreqScaler.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}dispose(){return super.dispose(),this._oscillators.forEach(t=>t.dispose()),this._freqMultipliers.forEach(t=>t.dispose()),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class Zo extends zo{constructor(){super(Dr(Zo.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const t=Dr(Zo.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Gr(this,["oscillator","envelope"])}static getDefaults(){return Ar(Vo.getDefaults(),zo.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const n=this.toSeconds(e),i=this.toFrequency(t instanceof ps?t.toFrequency():t),r=i*this.octaves;return this.oscillator.frequency.setValueAtTime(r,n),this.oscillator.frequency.exponentialRampToValueAtTime(i,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}br([xo(0)],Zo.prototype,"octaves",void 0),br([ko(0)],Zo.prototype,"pitchDecay",void 0);class Jo extends qo{constructor(){super(Dr(Jo.getDefaults(),arguments)),this.name="NoiseSynth";const t=Dr(Jo.getDefaults(),arguments);this.noise=new Js(Object.assign({context:this.context},t.noise)),this.envelope=new Lo(Object.assign({context:this.context},t.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(qo.getDefaults(),{envelope:Object.assign(Rr(jo.getDefaults(),Object.keys(xs.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(Rr(Js.getDefaults(),Object.keys(Ys.getDefaults())),{type:"white"})})}triggerAttack(t,e=1){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.noise.start(t),0===this.envelope.sustain&&this.noise.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.noise.stop(t+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,n),this.triggerRelease(e+t),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const ta=new Set;function ea(t){ta.add(t)}function na(t,e){const n=`registerProcessor("${t}", ${e})`;ta.add(n)}class ia extends xs{constructor(t){super(t),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=$r;const e=URL.createObjectURL(new Blob([Array.from(ta).join("\n")],{type:"text/javascript"})),n=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(e,n).then(()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(n,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}ea('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n');ea("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n");ea("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n");na("feedback-comb-filter",'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class ra extends ia{constructor(){super(Dr(ra.getDefaults(),arguments,["delayTime","resonance"])),this.name="FeedbackCombFilter";const t=Dr(ra.getDefaults(),arguments,["delayTime","resonance"]);this.input=new Os({context:this.context}),this.output=new Os({context:this.context}),this.delayTime=new ws({context:this.context,value:t.delayTime,units:"time",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new ws({context:this.context,value:t.resonance,units:"normalRange",param:this._dummyParam,swappable:!0}),Gr(this,["resonance","delayTime"])}_audioWorkletName(){return"feedback-comb-filter"}static getDefaults(){return Object.assign(xs.getDefaults(),{delayTime:.1,resonance:.5})}onReady(t){ks(this.input,t,this.output);const e=t.parameters.get("delayTime");this.delayTime.setParam(e);const n=t.parameters.get("feedback");this.resonance.setParam(n)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class sa extends xs{constructor(){super(Dr(sa.getDefaults(),arguments,["frequency","type"])),this.name="OnePoleFilter";const t=Dr(sa.getDefaults(),arguments,["frequency","type"]);this._frequency=t.frequency,this._type=t.type,this.input=new Os({context:this.context}),this.output=new Os({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(xs.getDefaults(),{frequency:880,type:"lowpass"})}_createFilter(){const t=this._filter,e=this.toFrequency(this._frequency),n=1/(2*Math.PI*e);if("lowpass"===this._type){const t=1/(n*this.context.sampleRate),e=t-1;this._filter=this.context.createIIRFilter([t,0],[1,e])}else{const t=1/(n*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,t])}this.input.chain(this._filter,this.output),t&&this.context.setTimeout(()=>{this.disposed||(this.input.disconnect(t),t.disconnect())},this.blockTime)}get frequency(){return this._frequency}set frequency(t){this._frequency=t,this._createFilter()}get type(){return this._type}set type(t){this._type=t,this._createFilter()}getFrequencyResponse(t=128){const e=new Float32Array(t);for(let n=0;n<t;n++){const i=19980*Math.pow(n/t,2)+20;e[n]=i}const n=new Float32Array(t),i=new Float32Array(t);return this._filter.getFrequencyResponse(e,n,i),n}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class oa extends xs{constructor(){super(Dr(oa.getDefaults(),arguments,["delayTime","resonance","dampening"])),this.name="LowpassCombFilter";const t=Dr(oa.getDefaults(),arguments,["delayTime","resonance","dampening"]);this._combFilter=this.output=new ra({context:this.context,delayTime:t.delayTime,resonance:t.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new sa({context:this.context,frequency:t.dampening,type:"lowpass"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(xs.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(t){this._lowpass.frequency=t}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class aa extends qo{constructor(){super(Dr(aa.getDefaults(),arguments)),this.name="PluckSynth";const t=Dr(aa.getDefaults(),arguments);this._noise=new Js({context:this.context,type:"pink"}),this.attackNoise=t.attackNoise,this._lfcf=new oa({context:this.context,dampening:t.dampening,resonance:t.resonance}),this.resonance=t.resonance,this.release=t.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return Ar(qo.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(t){this._lfcf.dampening=t}triggerAttack(t,e){const n=this.toFrequency(t);e=this.toSeconds(e);const i=1/n;return this._lfcf.delayTime.setValueAtTime(i,e),this._noise.start(e),this._noise.stop(e+i*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(e),this._lfcf.resonance.setValueAtTime(this.resonance,e),this}triggerRelease(t){return this._lfcf.resonance.linearRampTo(0,this.release,t),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class ua extends qo{constructor(){super(Dr(ua.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0;const t=Dr(ua.getDefaults(),arguments,["voice","options"]);nr(!dr(t.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const e=t.voice.getDefaults();this.options=Object.assign(e,t.options),this.voice=t.voice,this.maxPolyphony=t.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const n=this._voices.indexOf(this._dummyVoice);this._voices.splice(n,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(qo.getDefaults(),{maxPolyphony:32,options:{},voice:zo})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(t){this._availableVoices.push(t);const e=this._activeVoices.findIndex(e=>e.voice===t);this._activeVoices.splice(e,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const t=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return t.connect(this.output),this._voices.push(t),t}ur("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(.95*this._averageActiveVoices,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const t=this._availableVoices.shift(),e=this._voices.indexOf(t);this._voices.splice(e,1),this.context.isOffline||t.dispose()}}_triggerAttack(t,e,n){t.forEach(t=>{const i=new qs(this.context,t).toMidi(),r=this._getNextAvailableVoice();r&&(r.triggerAttack(t,e,n),this._activeVoices.push({midi:i,voice:r,released:!1}),this.log("triggerAttack",t,e))})}_triggerRelease(t,e){t.forEach(t=>{const n=new qs(this.context,t).toMidi(),i=this._activeVoices.find(({midi:t,released:e})=>t===n&&!e);i&&(i.voice.triggerRelease(e),i.released=!0,this.log("triggerRelease",t,e))})}_scheduleEvent(t,e,n,i){nr(!this.disposed,"Synth was already disposed"),n<=this.now()?"attack"===t?this._triggerAttack(e,n,i):this._triggerRelease(e,n):this.context.setTimeout(()=>{this._scheduleEvent(t,e,n,i)},n-this.now())}triggerAttack(t,e,n){Array.isArray(t)||(t=[t]);const i=this.toSeconds(e);return this._scheduleEvent("attack",t,i,n),this}triggerRelease(t,e){Array.isArray(t)||(t=[t]);const n=this.toSeconds(e);return this._scheduleEvent("release",t,n),this}triggerAttackRelease(t,e,n,i){const r=this.toSeconds(n);if(this.triggerAttack(t,r,i),mr(e)){nr(mr(t),"If the duration is an array, the notes must also be an array"),t=t;for(let n=0;n<t.length;n++){const i=e[Math.min(n,e.length-1)],s=this.toSeconds(i);nr(s>0,"The duration must be greater than 0"),this.triggerRelease(t[n],r+s)}}else{const n=this.toSeconds(e);nr(n>0,"The duration must be greater than 0"),this.triggerRelease(t,r+n)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}set(t){const e=Rr(t,["onsilence","context"]);return this.options=Ar(this.options,e),this._voices.forEach(t=>t.set(e)),this._dummyVoice.set(e),this}get(){return this._dummyVoice.get()}releaseAll(t){const e=this.toSeconds(t);return this._activeVoices.forEach(({voice:t})=>{t.triggerRelease(e)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(t=>t.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class ca extends qo{constructor(){super(Dr(ca.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const t=Dr(ca.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),e={};Object.keys(t.urls).forEach(n=>{const i=parseInt(n,10);if(nr(yr(n)||dr(i)&&isFinite(i),"url key is neither a note or midi pitch: "+n),yr(n)){const i=new ps(this.context,n).toMidi();e[i]=t.urls[n]}else dr(i)&&isFinite(i)&&(e[i]=t.urls[i])}),this._buffers=new Fs({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(qo.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:$r,onerror:$r,release:.1,urls:{}})}_findClosest(t){let e=0;for(;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error("No available buffers for note: "+t)}triggerAttack(t,e,n=1){return this.log("triggerAttack",t,e,n),Array.isArray(t)||(t=[t]),t.forEach(t=>{const i=us(new ps(this.context,t).toFrequency()),r=Math.round(i),s=i-r,o=this._findClosest(r),a=r-o,u=this._buffers.get(a),c=ss(o+s),l=new Zs({url:u,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:c}).connect(this.output);l.start(e,0,u.duration/c,n),mr(this._activeSources.get(r))||this._activeSources.set(r,[]),this._activeSources.get(r).push(l),l.onended=()=>{if(this._activeSources&&this._activeSources.has(r)){const t=this._activeSources.get(r),e=t.indexOf(l);-1!==e&&t.splice(e,1)}}}),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach(t=>{const n=new ps(this.context,t).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const t=this._activeSources.get(n);e=this.toSeconds(e),t.forEach(t=>{t.stop(e)}),this._activeSources.set(n,[])}}),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach(t=>{for(;t.length;){t.shift().stop(e)}}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,n,i=1){const r=this.toSeconds(n);return this.triggerAttack(t,r,i),mr(e)?(nr(mr(t),"notes must be an array when duration is array"),t.forEach((t,n)=>{const i=e[Math.min(n,e.length-1)];this.triggerRelease(t,r+this.toSeconds(i))})):this.triggerRelease(t,r+this.toSeconds(e)),this}add(t,e,n){if(nr(yr(t)||isFinite(t),"note must be a pitch or midi: "+t),yr(t)){const i=new ps(this.context,t).toMidi();this._buffers.add(i,e,n)}else this._buffers.add(t,e,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=>{t.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}br([ko(0)],ca.prototype,"attack",void 0),br([ko(0)],ca.prototype,"release",void 0);class la extends _s{constructor(){super(Dr(la.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new bs("stopped"),this._startOffset=0;const t=Dr(la.getDefaults(),arguments,["callback","value"]);this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._playbackRate=t.playbackRate,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this._playbackRate=t.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(_s.getDefaults(),{callback:$r,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(t=-1){this._state.forEachFrom(t,t=>{let e;if("started"===t.state){-1!==t.id&&this.context.transport.clear(t.id);const n=t.time+Math.round(this.startOffset/this._playbackRate);if(!0===this._loop||dr(this._loop)&&this._loop>1){e=1/0,dr(this._loop)&&(e=this._loop*this._getLoopDuration());const i=this._state.getAfter(n);null!==i&&(e=Math.min(e,i.time-n)),e!==1/0&&(this._state.setStateAtTime("stopped",n+e+1,{id:-1}),e=new Ls(this.context,e));const r=new Ls(this.context,this._getLoopDuration());t.id=this.context.transport.scheduleRepeat(this._tick.bind(this),r,new Ls(this.context,n),e)}else t.id=this.context.transport.schedule(this._tick.bind(this),new Ls(this.context,n))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t}get probability(){return this._probability}set probability(t){this._probability=t}get humanize(){return this._humanize}set humanize(t){this._humanize=t}start(t){const e=this.toTicks(t);return"stopped"===this._state.getValueAtTime(e)&&(this._state.add({id:-1,state:"started",time:e}),this._rescheduleEvents(e)),this}stop(t){this.cancel(t);const e=this.toTicks(t);if("started"===this._state.getValueAtTime(e)){this._state.setStateAtTime("stopped",e,{id:-1});const t=this._state.getBefore(e);let n=e;null!==t&&(n=t.time),this._rescheduleEvents(n)}return this}cancel(t){t=Mr(t,-1/0);const e=this.toTicks(t);return this._state.forEachFrom(e,t=>{this.context.transport.clear(t.id)}),this._state.cancel(e),this}_tick(t){const e=this.context.transport.getTicksAtTime(t);if(!this.mute&&"started"===this._state.getValueAtTime(e)){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let e=.02;fr(this.humanize)||(e=this.toSeconds(this.humanize)),t+=(2*Math.random()-1)*e}this.callback(t,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(t){this._loop=t,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._rescheduleEvents()}get loopEnd(){return new Ls(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}get loopStart(){return new Ls(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const t=this.context.transport.ticks,e=this._state.get(t);if(null!==e&&"started"===e.state){const n=this._getLoopDuration();return(t-e.time)%n/n}return 0}return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class ha extends _s{constructor(){super(Dr(ha.getDefaults(),arguments,["callback","interval"])),this.name="Loop";const t=Dr(ha.getDefaults(),arguments,["callback","interval"]);this._event=new la({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:t.interval,playbackRate:t.playbackRate,probability:t.probability}),this.callback=t.callback,this.iterations=t.iterations}static getDefaults(){return Object.assign(_s.getDefaults(),{interval:"4n",callback:$r,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(t){return this._event.start(t),this}stop(t){return this._event.stop(t),this}cancel(t){return this._event.cancel(t),this}_tick(t){this.callback(t)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(t){this._event.loopEnd=t}get playbackRate(){return this._event.playbackRate}set playbackRate(t){this._event.playbackRate=t}get humanize(){return this._event.humanize}set humanize(t){this._event.humanize=t}get probability(){return this._event.probability}set probability(t){this._event.probability=t}get mute(){return this._event.mute}set mute(t){this._event.mute=t}get iterations(){return!0===this._event.loop?1/0:this._event.loop}set iterations(t){this._event.loop=t===1/0||t}dispose(){return super.dispose(),this._event.dispose(),this}}class da extends la{constructor(){super(Dr(da.getDefaults(),arguments,["callback","events"])),this.name="Part",this._state=new bs("stopped"),this._events=new Set;const t=Dr(da.getDefaults(),arguments,["callback","events"]);this._state.increasing=!0,t.events.forEach(t=>{mr(t)?this.add(t[0],t[1]):this.add(t)})}static getDefaults(){return Object.assign(la.getDefaults(),{events:[]})}start(t,e){const n=this.toTicks(t);if("started"!==this._state.getValueAtTime(n)){e=Mr(e,this._loop?this._loopStart:0),e=this._loop?Mr(e,this._loopStart):Mr(e,0);const t=this.toTicks(e);this._state.add({id:-1,offset:t,state:"started",time:n}),this._forEach(e=>{this._startNote(e,n,t)})}return this}_startNote(t,e,n){e-=n,this._loop?t.startOffset>=this._loopStart&&t.startOffset<this._loopEnd?(t.startOffset<n&&(e+=this._getLoopDuration()),t.start(new Ls(this.context,e))):t.startOffset<this._loopStart&&t.startOffset>=n&&(t.loop=!1,t.start(new Ls(this.context,e))):t.startOffset>=n&&t.start(new Ls(this.context,e))}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t,this._forEach(t=>{t.startOffset+=this._startOffset})}stop(t){const e=this.toTicks(t);return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._forEach(e=>{e.stop(t)}),this}at(t,e){const n=new ys(this.context,t).toTicks(),i=new Ls(this.context,1).toSeconds(),r=this._events.values();let s=r.next();for(;!s.done;){const t=s.value;if(Math.abs(n-t.startOffset)<i)return lr(e)&&(t.value=e),t;s=r.next()}return lr(e)?(this.add(t,e),this.at(t)):null}add(t,e){t instanceof Object&&Reflect.has(t,"time")&&(t=(e=t).time);const n=this.toTicks(t);let i;return e instanceof la?(i=e,i.callback=this._tick.bind(this)):i=new la({callback:this._tick.bind(this),context:this.context,value:e}),i.startOffset=n,i.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(i),this._restartEvent(i),this}_restartEvent(t){this._state.forEach(e=>{"started"===e.state?this._startNote(t,e.time,e.offset):t.stop(new Ls(this.context,e.time))})}remove(t,e){return pr(t)&&t.hasOwnProperty("time")&&(t=(e=t).time),t=this.toTicks(t),this._events.forEach(n=>{n.startOffset===t&&(cr(e)||lr(e)&&n.value===e)&&(this._events.delete(n),n.dispose())}),this}clear(){return this._forEach(t=>t.dispose()),this._events.clear(),this}cancel(t){return this._forEach(e=>e.cancel(t)),this._state.cancel(this.toTicks(t)),this}_forEach(t){return this._events&&this._events.forEach(e=>{e instanceof da?e._forEach(t):t(e)}),this}_setAll(t,e){this._forEach(n=>{n[t]=e})}_tick(t,e){this.mute||this.callback(t,e)}_testLoopBoundries(t){this._loop&&(t.startOffset<this._loopStart||t.startOffset>=this._loopEnd)?t.cancel(0):"stopped"===t.state&&this._restartEvent(t)}get probability(){return this._probability}set probability(t){this._probability=t,this._setAll("probability",t)}get humanize(){return this._humanize}set humanize(t){this._humanize=t,this._setAll("humanize",t)}get loop(){return this._loop}set loop(t){this._loop=t,this._forEach(e=>{e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.loop=t,this._testLoopBoundries(e)})}get loopEnd(){return new Ls(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._forEach(e=>{e.loopEnd=t,this._testLoopBoundries(e)})}get loopStart(){return new Ls(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach(t=>{t.loopStart=this.loopStart,this._testLoopBoundries(t)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._setAll("playbackRate",t)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}function*pa(t){let e=0;for(;e<t.length;)e=ga(e,t),yield t[e],e++}function*fa(t){let e=t.length-1;for(;e>=0;)e=ga(e,t),yield t[e],e--}function*ma(t,e){for(;;)yield*e(t)}function ga(t,e){return qr(t,0,e.length-1)}function*ya(t,e){let n=e?0:t.length-1;for(;;)n=ga(n,t),yield t[n],e?(n++,n>=t.length-1&&(e=!1)):(n--,n<=0&&(e=!0))}function*va(t){let e=0,n=0;for(;e<t.length;)e=ga(e,t),yield t[e],n++,e+=n%2?2:-1}function*_a(t){let e=t.length-1,n=0;for(;e>=0;)e=ga(e,t),yield t[e],n++,e+=n%2?-2:1}function*ba(t){const e=[];for(let n=0;n<t.length;n++)e.push(n);for(;e.length>0;){const n=ga(e.splice(Math.floor(e.length*Math.random()),1)[0],t);yield t[n]}}function*wa(t,e="up",n=0){switch(nr(t.length>0,"The array must have more than one value in it"),e){case"up":yield*ma(t,pa);case"down":yield*ma(t,fa);case"upDown":yield*ya(t,!0);case"downUp":yield*ya(t,!1);case"alternateUp":yield*ma(t,va);case"alternateDown":yield*ma(t,_a);case"random":yield*function*(t){for(;;){const e=Math.floor(Math.random()*t.length);yield t[e]}}(t);case"randomOnce":yield*ma(t,ba);case"randomWalk":yield*function*(t){let e=Math.floor(Math.random()*t.length);for(;;)0===e?e++:e===t.length-1||Math.random()<.5?e--:e++,yield t[e]}(t)}}class xa extends ha{constructor(){super(Dr(xa.getDefaults(),arguments,["callback","values","pattern"])),this.name="Pattern";const t=Dr(xa.getDefaults(),arguments,["callback","values","pattern"]);this.callback=t.callback,this._values=t.values,this._pattern=wa(t.values,t.pattern),this._type=t.pattern}static getDefaults(){return Object.assign(ha.getDefaults(),{pattern:"up",values:[],callback:$r})}_tick(t){const e=this._pattern.next();this._value=e.value,this.callback(t,this._value)}get values(){return this._values}set values(t){this._values=t,this.pattern=this._type}get value(){return this._value}get pattern(){return this._type}set pattern(t){this._type=t,this._pattern=wa(this._values,this._type)}}class ka extends la{constructor(){super(Dr(ka.getDefaults(),arguments,["callback","events","subdivision"])),this.name="Sequence",this._part=new da({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[];const t=Dr(ka.getDefaults(),arguments,["callback","events","subdivision"]);this._subdivision=this.toTicks(t.subdivision),this.events=t.events,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.playbackRate=t.playbackRate,this.probability=t.probability,this.humanize=t.humanize,this.mute=t.mute,this.playbackRate=t.playbackRate}static getDefaults(){return Object.assign(Rr(la.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(t,e){null!==e&&this.callback(t,e)}get events(){return this._events}set events(t){this.clear(),this._eventsArray=t,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(t,e){return this._part.start(t,e?this._indexTime(e):e),this}stop(t){return this._part.stop(t),this}get subdivision(){return new Ls(this.context,this._subdivision).toSeconds()}_createSequence(t){return new Proxy(t,{get:(t,e)=>t[e],set:(t,e,n)=>(gr(e)&&isFinite(parseInt(e,10))&&mr(n)?t[e]=this._createSequence(n):t[e]=n,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(t,e,n){t.forEach((t,i)=>{const r=i*e+n;if(mr(t))this._rescheduleSequence(t,e/t.length,r);else{const e=new Ls(this.context,r,"i").toSeconds();this._part.add(e,t)}})}_indexTime(t){return new Ls(this.context,t*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(t){this._part.loop=t}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this._part.loopStart=this._indexTime(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this._part.loopEnd=0===t?this._indexTime(this._eventsArray.length):this._indexTime(t)}get startOffset(){return this._part.startOffset}set startOffset(t){this._part.startOffset=t}get playbackRate(){return this._part.playbackRate}set playbackRate(t){this._part.playbackRate=t}get probability(){return this._part.probability}set probability(t){this._part.probability=t}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(t){this._part.humanize=t}get length(){return this._part.length}}class Ta extends xs{constructor(){super(Object.assign(Dr(Ta.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new Eo({context:this.context}),this.a=new Os({context:this.context,gain:0}),this.b=new Os({context:this.context,gain:0}),this.output=new Os({context:this.context}),this._internalChannels=[this.a,this.b];const t=Dr(Ta.getDefaults(),arguments,["fade"]);this.fade=new As({context:this.context,units:"normalRange",value:t.fade}),Gr(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",Ts(this._split,this.a.gain,0),Ts(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(xs.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Sa extends xs{constructor(t){super(t),this.name="Effect",this._dryWet=new Ta({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Os({context:this.context}),this.effectReturn=new Os({context:this.context}),this.input=new Os({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(t.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Gr(this,"wet")}static getDefaults(){return Object.assign(xs.getDefaults(),{wet:1})}connectEffect(t){return this._internalChannels.push(t),this.effectSend.chain(t,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Oa extends Sa{constructor(t){super(t),this.name="LFOEffect",this._lfo=new wo({context:this.context,frequency:t.frequency,amplitude:t.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=t.type,Gr(this,["frequency","depth"])}static getDefaults(){return Object.assign(Sa.getDefaults(),{frequency:1,type:"sine",depth:1})}start(t){return this._lfo.start(t),this}stop(t){return this._lfo.stop(t),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Ca extends Oa{constructor(){super(Dr(Ca.getDefaults(),arguments,["frequency","baseFrequency","octaves"])),this.name="AutoFilter";const t=Dr(Ca.getDefaults(),arguments,["frequency","baseFrequency","octaves"]);this.filter=new Ko(Object.assign(t.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=t.octaves,this.baseFrequency=t.baseFrequency}static getDefaults(){return Object.assign(Oa.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._lfo.max=this._lfo.min*Math.pow(2,t)}dispose(){return super.dispose(),this.filter.dispose(),this}}class Ea extends xs{constructor(){super(Object.assign(Dr(Ea.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const t=Dr(Ea.getDefaults(),arguments,["pan"]);this.pan=new ws({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",Gr(this,"pan")}static getDefaults(){return Object.assign(xs.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}class Aa extends Oa{constructor(){super(Dr(Aa.getDefaults(),arguments,["frequency"])),this.name="AutoPanner";const t=Dr(Aa.getDefaults(),arguments,["frequency"]);this._panner=new Ea({context:this.context,channelCount:t.channelCount}),this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this._lfo.min=-1,this._lfo.max=1}static getDefaults(){return Object.assign(Oa.getDefaults(),{channelCount:1})}dispose(){return super.dispose(),this._panner.dispose(),this}}class Da extends xs{constructor(){super(Dr(Da.getDefaults(),arguments,["smoothing"])),this.name="Follower";const t=Dr(Da.getDefaults(),arguments,["smoothing"]);this._abs=this.input=new Co({context:this.context}),this._lowpass=this.output=new sa({context:this.context,frequency:1/this.toSeconds(t.smoothing),type:"lowpass"}),this._abs.connect(this._lowpass),this._smoothing=t.smoothing}static getDefaults(){return Object.assign(xs.getDefaults(),{smoothing:.05})}get smoothing(){return this._smoothing}set smoothing(t){this._smoothing=t,this._lowpass.frequency=1/this.toSeconds(this.smoothing)}dispose(){return super.dispose(),this._abs.dispose(),this._lowpass.dispose(),this}}class Ma extends Sa{constructor(){super(Dr(Ma.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"])),this.name="AutoWah";const t=Dr(Ma.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"]);this._follower=new Da({context:this.context,smoothing:t.follower}),this._sweepRange=new No({context:this.context,min:0,max:1,exponent:.5}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this._inputBoost=new Os({context:this.context}),this._bandpass=new Ko({context:this.context,rolloff:-48,frequency:0,Q:t.Q}),this._peaking=new Ko({context:this.context,type:"peaking"}),this._peaking.gain.value=t.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this._follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=t.sensitivity,Gr(this,["gain","Q"])}static getDefaults(){return Object.assign(Sa.getDefaults(),{baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:.2})}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._setSweepRange()}get follower(){return this._follower.smoothing}set follower(t){this._follower.smoothing=t}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._setSweepRange()}get sensitivity(){return rs(1/this._inputBoost.gain.value)}set sensitivity(t){this._inputBoost.gain.value=1/is(t)}_setSweepRange(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)}dispose(){return super.dispose(),this._follower.dispose(),this._sweepRange.dispose(),this._bandpass.dispose(),this._peaking.dispose(),this._inputBoost.dispose(),this}}na("bit-crusher","\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class Ra extends Sa{constructor(){super(Dr(Ra.getDefaults(),arguments,["bits"])),this.name="BitCrusher";const t=Dr(Ra.getDefaults(),arguments,["bits"]);this._bitCrusherWorklet=new Pa({context:this.context,bits:t.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(Sa.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class Pa extends ia{constructor(){super(Dr(Pa.getDefaults(),arguments)),this.name="BitCrusherWorklet";const t=Dr(Pa.getDefaults(),arguments);this.input=new Os({context:this.context}),this.output=new Os({context:this.context}),this.bits=new ws({context:this.context,value:t.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(ia.getDefaults(),{bits:12})}_audioWorkletName(){return"bit-crusher"}onReady(t){ks(this.input,t,this.output);const e=t.parameters.get("bits");this.bits.setParam(e)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class Na extends Sa{constructor(){super(Dr(Na.getDefaults(),arguments,["order"])),this.name="Chebyshev";const t=Dr(Na.getDefaults(),arguments,["order"]);this._shaper=new ao({context:this.context,length:4096}),this._order=t.order,this.connectEffect(this._shaper),this.order=t.order,this.oversample=t.oversample}static getDefaults(){return Object.assign(Sa.getDefaults(),{order:1,oversample:"none"})}_getCoefficient(t,e,n){return n.has(e)||(0===e?n.set(e,0):1===e?n.set(e,t):n.set(e,2*t*this._getCoefficient(t,e-1,n)-this._getCoefficient(t,e-2,n))),n.get(e)}get order(){return this._order}set order(t){this._order=t,this._shaper.setMap(e=>this._getCoefficient(e,t,new Map))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class Ia extends xs{constructor(){super(Dr(Ia.getDefaults(),arguments,["channels"])),this.name="Split";const t=Dr(Ia.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(t.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(xs.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class ja extends xs{constructor(){super(Dr(ja.getDefaults(),arguments,["channels"])),this.name="Merge";const t=Dr(ja.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(t.channels)}static getDefaults(){return Object.assign(xs.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class Fa extends xs{constructor(t){super(t),this.name="StereoEffect",this.input=new Os({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new Ta({context:this.context,fade:t.wet}),this.wet=this._dryWet.fade,this._split=new Ia({context:this.context,channels:2}),this._merge=new ja({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),Gr(this,["wet"])}connectEffectLeft(...t){this._split.connect(t[0],0,0),ks(...t),Ts(t[t.length-1],this._merge,0,0)}connectEffectRight(...t){this._split.connect(t[0],1,0),ks(...t),Ts(t[t.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(xs.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class qa extends Fa{constructor(t){super(t),this.feedback=new As({context:this.context,value:t.feedback,units:"normalRange"}),this._feedbackL=new Os({context:this.context}),this._feedbackR=new Os({context:this.context}),this._feedbackSplit=new Ia({context:this.context,channels:2}),this._feedbackMerge=new ja({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),Gr(this,["feedback"])}static getDefaults(){return Object.assign(Fa.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class Va extends qa{constructor(){super(Dr(Va.getDefaults(),arguments,["frequency","delayTime","depth"])),this.name="Chorus";const t=Dr(Va.getDefaults(),arguments,["frequency","delayTime","depth"]);this._depth=t.depth,this._delayTime=t.delayTime/1e3,this._lfoL=new wo({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new wo({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._delayNodeL=new Is({context:this.context}),this._delayNodeR=new Is({context:this.context}),this.frequency=this._lfoL.frequency,Gr(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=t.type,this.spread=t.spread}static getDefaults(){return Object.assign(qa.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(t){this._depth=t;const e=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-e,0),this._lfoL.max=this._delayTime+e,this._lfoR.min=Math.max(this._delayTime-e,0),this._lfoR.max=this._delayTime+e}get delayTime(){return 1e3*this._delayTime}set delayTime(t){this._delayTime=t/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class La extends Sa{constructor(){super(Dr(La.getDefaults(),arguments,["distortion"])),this.name="Distortion";const t=Dr(La.getDefaults(),arguments,["distortion"]);this._shaper=new ao({context:this.context,length:4096}),this._distortion=t.distortion,this.connectEffect(this._shaper),this.distortion=t.distortion,this.oversample=t.oversample}static getDefaults(){return Object.assign(Sa.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(t){this._distortion=t;const e=100*t,n=Math.PI/180;this._shaper.setMap(t=>Math.abs(t)<.001?0:(3+e)*t*20*n/(Math.PI+e*Math.abs(t)))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class za extends Sa{constructor(t){super(t),this.name="FeedbackEffect",this._feedbackGain=new Os({context:this.context,gain:t.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,Gr(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(Sa.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class Ba extends za{constructor(){super(Dr(Ba.getDefaults(),arguments,["delayTime","feedback"])),this.name="FeedbackDelay";const t=Dr(Ba.getDefaults(),arguments,["delayTime","feedback"]);this._delayNode=new Is({context:this.context,delayTime:t.delayTime,maxDelay:t.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),Gr(this,"delayTime")}static getDefaults(){return Object.assign(za.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class Ua extends xs{constructor(t){super(t),this.name="PhaseShiftAllpass",this.input=new Os({context:this.context}),this.output=new Os({context:this.context}),this.offset90=new Os({context:this.context});this._bank0=this._createAllPassFilterBank([.6923878,.9360654322959,.988229522686,.9987488452737]),this._bank1=this._createAllPassFilterBank([.4021921162426,.856171088242,.9722909545651,.9952884791278]),this._oneSampleDelay=this.context.createIIRFilter([0,1],[1,0]),ks(this.input,...this._bank0,this._oneSampleDelay,this.output),ks(this.input,...this._bank1,this.offset90)}_createAllPassFilterBank(t){return t.map(t=>{const e=[[t*t,0,-1],[1,0,-t*t]];return this.context.createIIRFilter(e[0],e[1])})}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.offset90.dispose(),this._bank0.forEach(t=>t.disconnect()),this._bank1.forEach(t=>t.disconnect()),this._oneSampleDelay.disconnect(),this}}class Wa extends Sa{constructor(){super(Dr(Wa.getDefaults(),arguments,["frequency"])),this.name="FrequencyShifter";const t=Dr(Wa.getDefaults(),arguments,["frequency"]);this.frequency=new As({context:this.context,units:"frequency",value:t.frequency,minValue:-this.context.sampleRate/2,maxValue:this.context.sampleRate/2}),this._sine=new ro({context:this.context,type:"sine"}),this._cosine=new so({context:this.context,phase:-90,type:"sine"}),this._sineMultiply=new co({context:this.context}),this._cosineMultiply=new co({context:this.context}),this._negate=new Ao({context:this.context}),this._add=new vo({context:this.context}),this._phaseShifter=new Ua({context:this.context}),this.effectSend.connect(this._phaseShifter),this.frequency.fan(this._sine.frequency,this._cosine.frequency),this._phaseShifter.offset90.connect(this._cosineMultiply),this._cosine.connect(this._cosineMultiply.factor),this._phaseShifter.connect(this._sineMultiply),this._sine.connect(this._sineMultiply.factor),this._sineMultiply.connect(this._negate),this._cosineMultiply.connect(this._add),this._negate.connect(this._add.addend),this._add.connect(this.effectReturn);const e=this.immediate();this._sine.start(e),this._cosine.start(e)}static getDefaults(){return Object.assign(Sa.getDefaults(),{frequency:0})}dispose(){return super.dispose(),this.frequency.dispose(),this._add.dispose(),this._cosine.dispose(),this._cosineMultiply.dispose(),this._negate.dispose(),this._phaseShifter.dispose(),this._sine.dispose(),this._sineMultiply.dispose(),this}}const Ka=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],Ha=[225,556,441,341];class Ga extends Fa{constructor(){super(Dr(Ga.getDefaults(),arguments,["roomSize","dampening"])),this.name="Freeverb",this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];const t=Dr(Ga.getDefaults(),arguments,["roomSize","dampening"]);this.roomSize=new As({context:this.context,value:t.roomSize,units:"normalRange"}),this._allpassFiltersL=Ha.map(t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e}),this._allpassFiltersR=Ha.map(t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e}),this._combFilters=Ka.map((e,n)=>{const i=new oa({context:this.context,dampening:t.dampening,delayTime:e});return n<Ka.length/2?this.connectEffectLeft(i,...this._allpassFiltersL):this.connectEffectRight(i,...this._allpassFiltersR),this.roomSize.connect(i.resonance),i}),Gr(this,["roomSize"])}static getDefaults(){return Object.assign(Fa.getDefaults(),{roomSize:.7,dampening:3e3})}get dampening(){return this._combFilters[0].dampening}set dampening(t){this._combFilters.forEach(e=>e.dampening=t)}dispose(){return super.dispose(),this._allpassFiltersL.forEach(t=>t.disconnect()),this._allpassFiltersR.forEach(t=>t.disconnect()),this._combFilters.forEach(t=>t.dispose()),this.roomSize.dispose(),this}}const Qa=[.06748,.06404,.08212,.09004],$a=[.773,.802,.753,.733],Xa=[347,113,37];class Ya extends Fa{constructor(){super(Dr(Ya.getDefaults(),arguments,["roomSize"])),this.name="JCReverb",this._allpassFilters=[],this._feedbackCombFilters=[];const t=Dr(Ya.getDefaults(),arguments,["roomSize"]);this.roomSize=new As({context:this.context,value:t.roomSize,units:"normalRange"}),this._scaleRoomSize=new _o({context:this.context,min:-.733,max:.197}),this._allpassFilters=Xa.map(t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e}),this._feedbackCombFilters=Qa.map((t,e)=>{const n=new ra({context:this.context,delayTime:t});return this._scaleRoomSize.connect(n.resonance),n.resonance.value=$a[e],e<Qa.length/2?this.connectEffectLeft(...this._allpassFilters,n):this.connectEffectRight(...this._allpassFilters,n),n}),this.roomSize.connect(this._scaleRoomSize),Gr(this,["roomSize"])}static getDefaults(){return Object.assign(Fa.getDefaults(),{roomSize:.5})}dispose(){return super.dispose(),this._allpassFilters.forEach(t=>t.disconnect()),this._feedbackCombFilters.forEach(t=>t.dispose()),this.roomSize.dispose(),this._scaleRoomSize.dispose(),this}}class Za extends qa{constructor(t){super(t),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),Gr(this,["feedback"])}}class Ja extends Za{constructor(){super(Dr(Ja.getDefaults(),arguments,["delayTime","feedback"])),this.name="PingPongDelay";const t=Dr(Ja.getDefaults(),arguments,["delayTime","feedback"]);this._leftDelay=new Is({context:this.context,maxDelay:t.maxDelay}),this._rightDelay=new Is({context:this.context,maxDelay:t.maxDelay}),this._rightPreDelay=new Is({context:this.context,maxDelay:t.maxDelay}),this.delayTime=new As({context:this.context,units:"time",value:t.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),Gr(this,["delayTime"])}static getDefaults(){return Object.assign(Za.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class tu extends za{constructor(){super(Dr(tu.getDefaults(),arguments,["pitch"])),this.name="PitchShift";const t=Dr(tu.getDefaults(),arguments,["pitch"]);this._frequency=new As({context:this.context}),this._delayA=new Is({maxDelay:1,context:this.context}),this._lfoA=new wo({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new Is({maxDelay:1,context:this.context}),this._lfoB=new wo({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new Ta({context:this.context}),this._crossFadeLFO=new wo({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new Is({delayTime:t.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,Gr(this,"delayTime"),this._pitch=t.pitch,this._windowSize=t.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);const e=this.now();this._lfoA.start(e),this._lfoB.start(e),this._crossFadeLFO.start(e),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(za.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(t){this._pitch=t;let e=0;t<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,e=ss(t-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,e=ss(t)-1),this._frequency.value=e*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class eu extends Fa{constructor(){super(Dr(eu.getDefaults(),arguments,["frequency","octaves","baseFrequency"])),this.name="Phaser";const t=Dr(eu.getDefaults(),arguments,["frequency","octaves","baseFrequency"]);this._lfoL=new wo({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new wo({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this.Q=new As({context:this.context,value:t.Q,units:"positive"}),this._filtersL=this._makeFilters(t.stages,this._lfoL),this._filtersR=this._makeFilters(t.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=t.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this._lfoL.start(),this._lfoR.start(),Gr(this,["frequency","Q"])}static getDefaults(){return Object.assign(Fa.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(t,e){const n=[];for(let i=0;i<t;i++){const t=this.context.createBiquadFilter();t.type="allpass",this.Q.connect(t.Q),e.connect(t.frequency),n.push(t)}return n}get octaves(){return this._octaves}set octaves(t){this._octaves=t;const e=this._baseFrequency*Math.pow(2,t);this._lfoL.max=e,this._lfoR.max=e}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach(t=>t.disconnect()),this._filtersR.forEach(t=>t.disconnect()),this.frequency.dispose(),this}}class nu extends Sa{constructor(){super(Dr(nu.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const t=Dr(nu.getDefaults(),arguments,["decay"]);this._decay=t.decay,this._preDelay=t.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(Sa.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(t){ir(t=this.toSeconds(t),.001),this._decay=t,this.generate()}get preDelay(){return this._preDelay}set preDelay(t){ir(t=this.toSeconds(t),0),this._preDelay=t,this.generate()}generate(){return wr(this,void 0,void 0,(function*(){const t=this.ready,e=new Yr(2,this._decay+this._preDelay,this.context.sampleRate),n=new Js({context:e}),i=new Js({context:e}),r=new ja({context:e});n.connect(r,0,0),i.connect(r,0,1);const s=new Os({context:e}).toDestination();r.connect(s),n.start(0),i.start(0),s.gain.setValueAtTime(0,0),s.gain.setValueAtTime(1,this._preDelay),s.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const o=e.render();return this.ready=o.then($r),yield t,this._convolver.buffer=(yield o).get(),this}))}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class iu extends xs{constructor(){super(Dr(iu.getDefaults(),arguments)),this.name="MidSideSplit",this._split=this.input=new Ia({channels:2,context:this.context}),this._midAdd=new vo({context:this.context}),this.mid=new co({context:this.context,value:Math.SQRT1_2}),this._sideSubtract=new Do({context:this.context}),this.side=new co({context:this.context,value:Math.SQRT1_2}),this._split.connect(this._midAdd,0),this._split.connect(this._midAdd.addend,1),this._split.connect(this._sideSubtract,0),this._split.connect(this._sideSubtract.subtrahend,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midAdd.dispose(),this._sideSubtract.dispose(),this._split.dispose(),this}}class ru extends xs{constructor(){super(Dr(ru.getDefaults(),arguments)),this.name="MidSideMerge",this.mid=new Os({context:this.context}),this.side=new Os({context:this.context}),this._left=new vo({context:this.context}),this._leftMult=new co({context:this.context,value:Math.SQRT1_2}),this._right=new Do({context:this.context}),this._rightMult=new co({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new ja({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class su extends Sa{constructor(t){super(t),this.name="MidSideEffect",this._midSideMerge=new ru({context:this.context}),this._midSideSplit=new iu({context:this.context}),this._midSend=this._midSideSplit.mid,this._sideSend=this._midSideSplit.side,this._midReturn=this._midSideMerge.mid,this._sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)}connectEffectMid(...t){this._midSend.chain(...t,this._midReturn)}connectEffectSide(...t){this._sideSend.chain(...t,this._sideReturn)}dispose(){return super.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this._midSend.dispose(),this._sideSend.dispose(),this._midReturn.dispose(),this._sideReturn.dispose(),this}}class ou extends su{constructor(){super(Dr(ou.getDefaults(),arguments,["width"])),this.name="StereoWidener";const t=Dr(ou.getDefaults(),arguments,["width"]);this.width=new As({context:this.context,value:t.width,units:"normalRange"}),Gr(this,["width"]),this._twoTimesWidthMid=new co({context:this.context,value:2}),this._twoTimesWidthSide=new co({context:this.context,value:2}),this._midMult=new co({context:this.context}),this._twoTimesWidthMid.connect(this._midMult.factor),this.connectEffectMid(this._midMult),this._oneMinusWidth=new Do({context:this.context}),this._oneMinusWidth.connect(this._twoTimesWidthMid),Ts(this.context.getConstant(1),this._oneMinusWidth),this.width.connect(this._oneMinusWidth.subtrahend),this._sideMult=new co({context:this.context}),this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult.factor),this.connectEffectSide(this._sideMult)}static getDefaults(){return Object.assign(su.getDefaults(),{width:.5})}dispose(){return super.dispose(),this.width.dispose(),this._midMult.dispose(),this._sideMult.dispose(),this._twoTimesWidthMid.dispose(),this._twoTimesWidthSide.dispose(),this._oneMinusWidth.dispose(),this}}class au extends Fa{constructor(){super(Dr(au.getDefaults(),arguments,["frequency","depth"])),this.name="Tremolo";const t=Dr(au.getDefaults(),arguments,["frequency","depth"]);this._lfoL=new wo({context:this.context,type:t.type,min:1,max:0}),this._lfoR=new wo({context:this.context,type:t.type,min:1,max:0}),this._amplitudeL=new Os({context:this.context}),this._amplitudeR=new Os({context:this.context}),this.frequency=new As({context:this.context,value:t.frequency,units:"frequency"}),this.depth=new As({context:this.context,value:t.depth,units:"normalRange"}),Gr(this,["frequency","depth"]),this.connectEffectLeft(this._amplitudeL),this.connectEffectRight(this._amplitudeR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.spread=t.spread}static getDefaults(){return Object.assign(Fa.getDefaults(),{frequency:10,type:"sine",depth:.5,spread:180})}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this.context.transport.syncSignal(this.frequency),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this.context.transport.unsyncSignal(this.frequency),this}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._amplitudeL.dispose(),this._amplitudeR.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class uu extends Sa{constructor(){super(Dr(uu.getDefaults(),arguments,["frequency","depth"])),this.name="Vibrato";const t=Dr(uu.getDefaults(),arguments,["frequency","depth"]);this._delayNode=new Is({context:this.context,delayTime:0,maxDelay:t.maxDelay}),this._lfo=new wo({context:this.context,type:t.type,min:0,max:t.maxDelay,frequency:t.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=t.depth,Gr(this,["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(Sa.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:"sine"})}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class cu extends xs{constructor(){super(Dr(cu.getDefaults(),arguments,["type","size"])),this.name="Analyser",this._analysers=[],this._buffers=[];const t=Dr(cu.getDefaults(),arguments,["type","size"]);this.input=this.output=this._gain=new Os({context:this.context}),this._split=new Ia({context:this.context,channels:t.channels}),this.input.connect(this._split),ir(t.channels,1);for(let e=0;e<t.channels;e++)this._analysers[e]=this.context.createAnalyser(),this._split.connect(this._analysers[e],e,0);this.size=t.size,this.type=t.type}static getDefaults(){return Object.assign(xs.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach((t,e)=>{const n=this._buffers[e];"fft"===this._type?t.getFloatFrequencyData(n):"waveform"===this._type&&t.getFloatTimeDomainData(n)}),1===this.channels?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(t){this._analysers.forEach((e,n)=>{e.fftSize=2*t,this._buffers[n]=new Float32Array(t)})}get channels(){return this._analysers.length}get type(){return this._type}set type(t){nr("waveform"===t||"fft"===t,"Analyser: invalid type: "+t),this._type=t}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(t){this._analysers.forEach(e=>e.smoothingTimeConstant=t)}dispose(){return super.dispose(),this._analysers.forEach(t=>t.disconnect()),this._split.dispose(),this._gain.dispose(),this}}class lu extends xs{constructor(){super(Dr(lu.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new cu({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class hu extends lu{constructor(){super(Dr(hu.getDefaults(),arguments,["smoothing"])),this.name="Meter",this._rms=0;const t=Dr(hu.getDefaults(),arguments,["smoothing"]);this.input=this.output=this._analyser=new cu({context:this.context,size:256,type:"waveform",channels:t.channels}),this.smoothing=t.smoothing,this.normalRange=t.normalRange}static getDefaults(){return Object.assign(lu.getDefaults(),{smoothing:.8,normalRange:!1,channels:1})}getLevel(){return ur("'getLevel' has been changed to 'getValue'"),this.getValue()}getValue(){const t=this._analyser.getValue(),e=(1===this.channels?[t]:t).map(t=>{const e=t.reduce((t,e)=>t+e*e,0),n=Math.sqrt(e/t.length);return this._rms=Math.max(n,this._rms*this.smoothing),this.normalRange?this._rms:rs(this._rms)});return 1===this.channels?e[0]:e}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class du extends lu{constructor(){super(Dr(du.getDefaults(),arguments,["size"])),this.name="FFT";const t=Dr(du.getDefaults(),arguments,["size"]);this.normalRange=t.normalRange,this._analyser.type="fft",this.size=t.size}static getDefaults(){return Object.assign(xs.getDefaults(),{normalRange:!1,size:1024,smoothing:.8})}getValue(){return this._analyser.getValue().map(t=>this.normalRange?is(t):t)}get size(){return this._analyser.size}set size(t){this._analyser.size=t}get smoothing(){return this._analyser.smoothing}set smoothing(t){this._analyser.smoothing=t}getFrequencyOfIndex(t){return nr(0<=t&&t<this.size,"index must be greater than or equal to 0 and less than "+this.size),t*this.context.sampleRate/(2*this.size)}}class pu extends lu{constructor(){super(Dr(pu.getDefaults(),arguments)),this.name="DCMeter",this._analyser.type="waveform",this._analyser.size=256}getValue(){return this._analyser.getValue()[0]}}class fu extends lu{constructor(){super(Dr(fu.getDefaults(),arguments,["size"])),this.name="Waveform";const t=Dr(fu.getDefaults(),arguments,["size"]);this._analyser.type="waveform",this.size=t.size}static getDefaults(){return Object.assign(lu.getDefaults(),{size:1024})}getValue(){return this._analyser.getValue()}get size(){return this._analyser.size}set size(t){this._analyser.size=t}}class mu extends xs{constructor(){super(Dr(mu.getDefaults(),arguments,["solo"])),this.name="Solo";const t=Dr(mu.getDefaults(),arguments,["solo"]);this.input=this.output=new Os({context:this.context}),mu._allSolos.has(this.context)||mu._allSolos.set(this.context,new Set),mu._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(xs.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),mu._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return 0===this.input.gain.value}_addSolo(){mu._soloed.has(this.context)||mu._soloed.set(this.context,new Set),mu._soloed.get(this.context).add(this)}_removeSolo(){mu._soloed.has(this.context)&&mu._soloed.get(this.context).delete(this)}_isSoloed(){return mu._soloed.has(this.context)&&mu._soloed.get(this.context).has(this)}_noSolos(){return!mu._soloed.has(this.context)||mu._soloed.has(this.context)&&0===mu._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),mu._allSolos.get(this.context).delete(this),this._removeSolo(),this}}mu._allSolos=new Map,mu._soloed=new Map;class gu extends xs{constructor(){super(Dr(gu.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const t=Dr(gu.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Ea({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ks({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Gr(this,["pan","volume"])}static getDefaults(){return Object.assign(xs.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class yu extends xs{constructor(){super(Dr(yu.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const t=Dr(yu.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new mu({solo:t.solo,context:this.context}),this._panVol=this.output=new gu({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Gr(this,["pan","volume"])}static getDefaults(){return Object.assign(xs.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return yu.buses.has(t)||yu.buses.set(t,new Os({context:this.context})),yu.buses.get(t)}send(t,e=0){const n=this._getBus(t),i=new Os({context:this.context,units:"decibels",gain:e});return this.connect(i),i.connect(n),i}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}yu.buses=new Map;class vu extends xs{constructor(){super(Dr(vu.getDefaults(),arguments)),this.name="Mono",this.input=new Os({context:this.context}),this._merge=this.output=new ja({channels:2,context:this.context}),this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1)}dispose(){return super.dispose(),this._merge.dispose(),this.input.dispose(),this}}class _u extends xs{constructor(){super(Dr(_u.getDefaults(),arguments,["lowFrequency","highFrequency"])),this.name="MultibandSplit",this.input=new Os({context:this.context}),this.output=void 0,this.low=new Ko({context:this.context,frequency:0,type:"lowpass"}),this._lowMidFilter=new Ko({context:this.context,frequency:0,type:"highpass"}),this.mid=new Ko({context:this.context,frequency:0,type:"lowpass"}),this.high=new Ko({context:this.context,frequency:0,type:"highpass"}),this._internalChannels=[this.low,this.mid,this.high];const t=Dr(_u.getDefaults(),arguments,["lowFrequency","highFrequency"]);this.lowFrequency=new As({context:this.context,units:"frequency",value:t.lowFrequency}),this.highFrequency=new As({context:this.context,units:"frequency",value:t.highFrequency}),this.Q=new As({context:this.context,units:"positive",value:t.Q}),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.fan(this.low.frequency,this._lowMidFilter.frequency),this.highFrequency.fan(this.mid.frequency,this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),Gr(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(xs.getDefaults(),{Q:1,highFrequency:2500,lowFrequency:400})}dispose(){return super.dispose(),Qr(this,["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this._lowMidFilter.dispose(),this.mid.dispose(),this.high.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this.Q.dispose(),this}}class bu extends xs{constructor(){super(...arguments),this.name="Listener",this.positionX=new ws({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new ws({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new ws({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new ws({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new ws({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new ws({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new ws({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new ws({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new ws({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(xs.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}zr(t=>{t.listener=new bu({context:t})}),Ur(t=>{t.listener.dispose()});class wu extends xs{constructor(){super(Dr(wu.getDefaults(),arguments,["positionX","positionY","positionZ"])),this.name="Panner3D";const t=Dr(wu.getDefaults(),arguments,["positionX","positionY","positionZ"]);this._panner=this.input=this.output=this.context.createPanner(),this.panningModel=t.panningModel,this.maxDistance=t.maxDistance,this.distanceModel=t.distanceModel,this.coneOuterGain=t.coneOuterGain,this.coneOuterAngle=t.coneOuterAngle,this.coneInnerAngle=t.coneInnerAngle,this.refDistance=t.refDistance,this.rolloffFactor=t.rolloffFactor,this.positionX=new ws({context:this.context,param:this._panner.positionX,value:t.positionX}),this.positionY=new ws({context:this.context,param:this._panner.positionY,value:t.positionY}),this.positionZ=new ws({context:this.context,param:this._panner.positionZ,value:t.positionZ}),this.orientationX=new ws({context:this.context,param:this._panner.orientationX,value:t.orientationX}),this.orientationY=new ws({context:this.context,param:this._panner.orientationY,value:t.orientationY}),this.orientationZ=new ws({context:this.context,param:this._panner.orientationZ,value:t.orientationZ})}static getDefaults(){return Object.assign(xs.getDefaults(),{coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1})}setPosition(t,e,n){return this.positionX.value=t,this.positionY.value=e,this.positionZ.value=n,this}setOrientation(t,e,n){return this.orientationX.value=t,this.orientationY.value=e,this.orientationZ.value=n,this}get panningModel(){return this._panner.panningModel}set panningModel(t){this._panner.panningModel=t}get refDistance(){return this._panner.refDistance}set refDistance(t){this._panner.refDistance=t}get rolloffFactor(){return this._panner.rolloffFactor}set rolloffFactor(t){this._panner.rolloffFactor=t}get distanceModel(){return this._panner.distanceModel}set distanceModel(t){this._panner.distanceModel=t}get coneInnerAngle(){return this._panner.coneInnerAngle}set coneInnerAngle(t){this._panner.coneInnerAngle=t}get coneOuterAngle(){return this._panner.coneOuterAngle}set coneOuterAngle(t){this._panner.coneOuterAngle=t}get coneOuterGain(){return this._panner.coneOuterGain}set coneOuterGain(t){this._panner.coneOuterGain=t}get maxDistance(){return this._panner.maxDistance}set maxDistance(t){this._panner.maxDistance=t}dispose(){return super.dispose(),this._panner.disconnect(),this.orientationX.dispose(),this.orientationY.dispose(),this.orientationZ.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this}}class xu extends xs{constructor(){super(Dr(xu.getDefaults(),arguments)),this.name="Recorder";const t=Dr(xu.getDefaults(),arguments);this.input=new Os({context:this.context}),nr(xu.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:t.mimeType})}static getDefaults(){return xs.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return null!==vr&&Reflect.has(vr,"MediaRecorder")}get state(){return"inactive"===this._recorder.state?"stopped":"paused"===this._recorder.state?"paused":"started"}start(){return wr(this,void 0,void 0,(function*(){nr("started"!==this.state,"Recorder is already started");const t=new Promise(t=>{const e=()=>{this._recorder.removeEventListener("start",e,!1),t()};this._recorder.addEventListener("start",e,!1)});return this._recorder.start(),yield t}))}stop(){return wr(this,void 0,void 0,(function*(){nr("stopped"!==this.state,"Recorder is not started");const t=new Promise(t=>{const e=n=>{this._recorder.removeEventListener("dataavailable",e,!1),t(n.data)};this._recorder.addEventListener("dataavailable",e,!1)});return this._recorder.stop(),yield t}))}pause(){return nr("started"===this.state,"Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}class ku extends xs{constructor(){super(Dr(ku.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const t=Dr(ku.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new ws({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:t.threshold}),this.attack=new ws({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:t.attack}),this.release=new ws({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:t.release}),this.knee=new ws({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:t.knee}),this.ratio=new ws({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:t.ratio}),Gr(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(xs.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class Tu extends xs{constructor(){super(Object.assign(Dr(Tu.getDefaults(),arguments,["threshold","smoothing"]))),this.name="Gate";const t=Dr(Tu.getDefaults(),arguments,["threshold","smoothing"]);this._follower=new Da({context:this.context,smoothing:t.smoothing}),this._gt=new Ro({context:this.context,value:is(t.threshold)}),this.input=new Os({context:this.context}),this._gate=this.output=new Os({context:this.context}),this.input.connect(this._gate),this.input.chain(this._follower,this._gt,this._gate.gain)}static getDefaults(){return Object.assign(xs.getDefaults(),{smoothing:.1,threshold:-40})}get threshold(){return rs(this._gt.value)}set threshold(t){this._gt.value=is(t)}get smoothing(){return this._follower.smoothing}set smoothing(t){this._follower.smoothing=t}dispose(){return super.dispose(),this.input.dispose(),this._follower.dispose(),this._gt.dispose(),this._gate.dispose(),this}}class Su extends xs{constructor(){super(Object.assign(Dr(Su.getDefaults(),arguments,["threshold"]))),this.name="Limiter";const t=Dr(Su.getDefaults(),arguments,["threshold"]);this._compressor=this.input=this.output=new ku({context:this.context,ratio:20,attack:.003,release:.01,threshold:t.threshold}),this.threshold=this._compressor.threshold,Gr(this,"threshold")}static getDefaults(){return Object.assign(xs.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}class Ou extends xs{constructor(){super(Object.assign(Dr(Ou.getDefaults(),arguments))),this.name="MidSideCompressor";const t=Dr(Ou.getDefaults(),arguments);this._midSideSplit=this.input=new iu({context:this.context}),this._midSideMerge=this.output=new ru({context:this.context}),this.mid=new ku(Object.assign(t.mid,{context:this.context})),this.side=new ku(Object.assign(t.side,{context:this.context})),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),Gr(this,["mid","side"])}static getDefaults(){return Object.assign(xs.getDefaults(),{mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}})}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this}}class Cu extends xs{constructor(){super(Object.assign(Dr(Cu.getDefaults(),arguments))),this.name="MultibandCompressor";const t=Dr(Cu.getDefaults(),arguments);this._splitter=this.input=new _u({context:this.context,lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new Os({context:this.context}),this.low=new ku(Object.assign(t.low,{context:this.context})),this.mid=new ku(Object.assign(t.mid,{context:this.context})),this.high=new ku(Object.assign(t.high,{context:this.context})),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),Gr(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(xs.getDefaults(),{lowFrequency:250,highFrequency:2e3,low:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10},mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},high:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16}})}dispose(){return super.dispose(),this._splitter.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.output.dispose(),this}}class Eu extends xs{constructor(){super(Dr(Eu.getDefaults(),arguments,["low","mid","high"])),this.name="EQ3",this.output=new Os({context:this.context}),this._internalChannels=[];const t=Dr(Eu.getDefaults(),arguments,["low","mid","high"]);this.input=this._multibandSplit=new _u({context:this.context,highFrequency:t.highFrequency,lowFrequency:t.lowFrequency}),this._lowGain=new Os({context:this.context,gain:t.low,units:"decibels"}),this._midGain=new Os({context:this.context,gain:t.mid,units:"decibels"}),this._highGain=new Os({context:this.context,gain:t.high,units:"decibels"}),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),Gr(this,["low","mid","high","lowFrequency","highFrequency"]),this._internalChannels=[this._multibandSplit]}static getDefaults(){return Object.assign(xs.getDefaults(),{high:0,highFrequency:2500,low:0,lowFrequency:400,mid:0})}dispose(){return super.dispose(),Qr(this,["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this._lowGain.dispose(),this._midGain.dispose(),this._highGain.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.Q.dispose(),this}}class Au extends xs{constructor(){super(Dr(Au.getDefaults(),arguments,["url","onload"])),this.name="Convolver",this._convolver=this.context.createConvolver();const t=Dr(Au.getDefaults(),arguments,["url","onload"]);this._buffer=new Xr(t.url,e=>{this.buffer=e,t.onload()}),this.input=new Os({context:this.context}),this.output=new Os({context:this.context}),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=t.normalize,this.input.chain(this._convolver,this.output)}static getDefaults(){return Object.assign(xs.getDefaults(),{normalize:!0,onload:$r})}load(t){return wr(this,void 0,void 0,(function*(){this.buffer=yield this._buffer.load(t)}))}get buffer(){return this._buffer.length?this._buffer:null}set buffer(t){t&&this._buffer.set(t),this._convolver.buffer&&(this.input.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.input.chain(this._convolver,this.output));const e=this._buffer.get();this._convolver.buffer=e||null}get normalize(){return this._convolver.normalize}set normalize(t){this._convolver.normalize=t}dispose(){return super.dispose(),this._buffer.dispose(),this._convolver.disconnect(),this}}function Du(){return ts().now()}function Mu(){return ts().immediate()}const Ru=ts().transport;function Pu(){return ts().transport}const Nu=ts().destination,Iu=ts().destination;function ju(){return ts().destination}const Fu=ts().listener;function qu(){return ts().listener}const Vu=ts().draw;function Lu(){return ts().draw}const zu=ts();function Bu(){return Xr.loaded()}const Uu=Xr,Wu=Fs,Ku=Zs}]);
//# sourceMappingURL=app.bundle.js.map